{"version":3,"sources":["/workspaces/LusoTown/web-app/src/config/z-index-layers.ts"],"sourcesContent":["/**\n * LusoTown Z-Index Management System\n * Prevents floating UI element conflicts\n */\n\nexport const Z_INDEX_LAYERS = {\n  // Foundation layers\n  background: -1,\n  base: 0,\n  \n  // Content layers\n  content: 1,\n  elevated: 10,\n  \n  // Navigation layers\n  mobileNavigation: 15,\n  header: 20,\n  \n  // Interactive floating elements (stacked bottom to top)\n  floatingBase: 30,\n  \n  // Widget Management System - Priority 1 Implementation\n  appDownloadBar: 50,      // App download bar - foundational widget\n  notification: 60,        // Notification widgets - above app bar\n  lusoBotWidget: 70,       // Chat widget - above notifications\n  liveActivityWidget: 45,  // Live feed - below app bar\n  fabButton: 65,           // Floating action buttons - between notifications and chat\n  \n  // System modals and overlays\n  modalBackdrop: 80,\n  modal: 100,              // Modals above all widgets\n  toast: 90,\n  \n  // Critical system UI\n  pwaInstall: 110,         // PWA install prompts - highest priority\n  accessibility: 999,\n  errorDebug: 9999\n} as const;\n\nexport type ZIndexLayer = typeof Z_INDEX_LAYERS[keyof typeof Z_INDEX_LAYERS];\n\n/**\n * Mobile safe area calculations for floating elements\n */\nexport const MOBILE_SAFE_AREAS = {\n  // Bottom spacing - accounting for AppDownloadBar\n  appDownloadBar: '4rem',     // 64px - height of app download bar\n  chatWidget: '6rem',         // 96px - above mobile nav (adjusts when app bar visible)\n  chatWidgetWithAppBar: '10rem', // 160px - when app download bar is visible\n  liveActivity: '7rem',       // 112px - below app bar\n  fabButton: '8rem',          // 128px - above notifications\n  notification: '9rem',       // 144px - above live activity\n  \n  // Mobile navigation height\n  navigationHeight: '4rem',   // 64px standard mobile nav\n} as const;\n\n/**\n * Get z-index value with TypeScript safety\n */\nexport function getZIndex(layer: keyof typeof Z_INDEX_LAYERS): number {\n  return Z_INDEX_LAYERS[layer];\n}\n\n/**\n * Get mobile safe bottom positioning\n */\nexport function getMobileSafeBottom(element: keyof typeof MOBILE_SAFE_AREAS): string {\n  return MOBILE_SAFE_AREAS[element];\n}\n\n/**\n * Component Z-Index values for easy import\n */\nexport const COMPONENT_Z_INDEX = Z_INDEX_LAYERS;\n\n/**\n * Widget positioning utilities for the Priority 1 Widget Management System\n */\n\n/**\n * Get mobile widget CSS classes for safe positioning with AppDownloadBar awareness\n */\nexport function getMobileWidgetClasses(\n  widgetType: 'chat' | 'activity' | 'fab' | 'notification' | 'appBar',\n  isAppBarVisible: boolean = false\n): string {\n  const baseClasses = 'fixed transition-all duration-300';\n  \n  switch (widgetType) {\n    case 'chat':\n      const chatBottom = isAppBarVisible ? 'bottom-40' : 'bottom-24'; // 160px vs 96px\n      return `${baseClasses} ${chatBottom} md:bottom-6 right-4 z-[${Z_INDEX_LAYERS.lusoBotWidget}]`;\n    \n    case 'activity':\n      return `${baseClasses} bottom-28 md:bottom-20 left-4 z-[${Z_INDEX_LAYERS.liveActivityWidget}]`;\n    \n    case 'fab':\n      const fabBottom = isAppBarVisible ? 'bottom-44' : 'bottom-32'; // 176px vs 128px\n      return `${baseClasses} ${fabBottom} md:bottom-24 right-4 z-[${Z_INDEX_LAYERS.fabButton}]`;\n    \n    case 'notification':\n      const notificationBottom = isAppBarVisible ? 'bottom-36' : 'bottom-20'; // 144px vs 80px\n      return `${baseClasses} ${notificationBottom} md:bottom-12 left-4 z-[${Z_INDEX_LAYERS.notification}]`;\n    \n    case 'appBar':\n      return `${baseClasses} bottom-0 left-0 right-0 z-[${Z_INDEX_LAYERS.appDownloadBar}]`;\n    \n    default:\n      return `${baseClasses} bottom-6 right-6 z-[${Z_INDEX_LAYERS.floatingBase}]`;\n  }\n}\n\n/**\n * Get positioning adjustment based on app bar visibility\n */\nexport function getWidgetBottomOffset(\n  widgetType: 'chat' | 'activity' | 'fab' | 'notification',\n  isAppBarVisible: boolean\n): string {\n  const offsets = {\n    chat: isAppBarVisible ? '10rem' : '6rem',      // 160px vs 96px\n    activity: '7rem',                               // Always 112px (below app bar)\n    fab: isAppBarVisible ? '11rem' : '8rem',       // 176px vs 128px\n    notification: isAppBarVisible ? '9rem' : '5rem' // 144px vs 80px\n  };\n  \n  return offsets[widgetType];\n}"],"names":["COMPONENT_Z_INDEX","MOBILE_SAFE_AREAS","Z_INDEX_LAYERS","getMobileSafeBottom","getMobileWidgetClasses","getWidgetBottomOffset","getZIndex","background","base","content","elevated","mobileNavigation","header","floatingBase","appDownloadBar","notification","lusoBotWidget","liveActivityWidget","fabButton","modalBackdrop","modal","toast","pwaInstall","accessibility","errorDebug","chatWidget","chatWidgetWithAppBar","liveActivity","navigationHeight","layer","element","widgetType","isAppBarVisible","baseClasses","chatBottom","fabBottom","notificationBottom","offsets","chat","activity","fab"],"mappings":"AAAA;;;CAGC;;;;;;;;;;;IAuEYA,iBAAiB;eAAjBA;;IA9BAC,iBAAiB;eAAjBA;;IAvCAC,cAAc;eAAdA;;IA8DGC,mBAAmB;eAAnBA;;IAgBAC,sBAAsB;eAAtBA;;IAiCAC,qBAAqB;eAArBA;;IAxDAC,SAAS;eAATA;;;AAvDT,MAAMJ,iBAAiB;IAC5B,oBAAoB;IACpBK,YAAY,CAAC;IACbC,MAAM;IAEN,iBAAiB;IACjBC,SAAS;IACTC,UAAU;IAEV,oBAAoB;IACpBC,kBAAkB;IAClBC,QAAQ;IAER,wDAAwD;IACxDC,cAAc;IAEd,uDAAuD;IACvDC,gBAAgB;IAChBC,cAAc;IACdC,eAAe;IACfC,oBAAoB;IACpBC,WAAW;IAEX,6BAA6B;IAC7BC,eAAe;IACfC,OAAO;IACPC,OAAO;IAEP,qBAAqB;IACrBC,YAAY;IACZC,eAAe;IACfC,YAAY;AACd;AAOO,MAAMvB,oBAAoB;IAC/B,iDAAiD;IACjDa,gBAAgB;IAChBW,YAAY;IACZC,sBAAsB;IACtBC,cAAc;IACdT,WAAW;IACXH,cAAc;IAEd,2BAA2B;IAC3Ba,kBAAkB;AACpB;AAKO,SAAStB,UAAUuB,KAAkC;IAC1D,OAAO3B,cAAc,CAAC2B,MAAM;AAC9B;AAKO,SAAS1B,oBAAoB2B,OAAuC;IACzE,OAAO7B,iBAAiB,CAAC6B,QAAQ;AACnC;AAKO,MAAM9B,oBAAoBE;AAS1B,SAASE,uBACd2B,UAAmE,EACnEC,kBAA2B,KAAK;IAEhC,MAAMC,cAAc;IAEpB,OAAQF;QACN,KAAK;YACH,MAAMG,aAAaF,kBAAkB,cAAc,aAAa,gBAAgB;YAChF,OAAO,CAAC,EAAEC,YAAY,CAAC,EAAEC,WAAW,wBAAwB,EAAEhC,eAAec,aAAa,CAAC,CAAC,CAAC;QAE/F,KAAK;YACH,OAAO,CAAC,EAAEiB,YAAY,kCAAkC,EAAE/B,eAAee,kBAAkB,CAAC,CAAC,CAAC;QAEhG,KAAK;YACH,MAAMkB,YAAYH,kBAAkB,cAAc,aAAa,iBAAiB;YAChF,OAAO,CAAC,EAAEC,YAAY,CAAC,EAAEE,UAAU,yBAAyB,EAAEjC,eAAegB,SAAS,CAAC,CAAC,CAAC;QAE3F,KAAK;YACH,MAAMkB,qBAAqBJ,kBAAkB,cAAc,aAAa,gBAAgB;YACxF,OAAO,CAAC,EAAEC,YAAY,CAAC,EAAEG,mBAAmB,wBAAwB,EAAElC,eAAea,YAAY,CAAC,CAAC,CAAC;QAEtG,KAAK;YACH,OAAO,CAAC,EAAEkB,YAAY,4BAA4B,EAAE/B,eAAeY,cAAc,CAAC,CAAC,CAAC;QAEtF;YACE,OAAO,CAAC,EAAEmB,YAAY,qBAAqB,EAAE/B,eAAeW,YAAY,CAAC,CAAC,CAAC;IAC/E;AACF;AAKO,SAASR,sBACd0B,UAAwD,EACxDC,eAAwB;IAExB,MAAMK,UAAU;QACdC,MAAMN,kBAAkB,UAAU;QAClCO,UAAU;QACVC,KAAKR,kBAAkB,UAAU;QACjCjB,cAAciB,kBAAkB,SAAS,OAAO,gBAAgB;IAClE;IAEA,OAAOK,OAAO,CAACN,WAAW;AAC5B"}