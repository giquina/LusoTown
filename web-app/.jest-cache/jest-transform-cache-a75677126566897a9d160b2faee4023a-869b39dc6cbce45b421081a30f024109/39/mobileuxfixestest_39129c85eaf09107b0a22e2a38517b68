489de4f327f61143dabf75e4059471e6
/**
 * Mobile UX Fixes Verification Tests
 * 
 * These tests verify the critical mobile UX fixes implemented:
 * 1. AppDownloadBar positioning and z-index
 * 2. Homepage CTA button text wrapping prevention
 * 3. Portuguese-speaking community cultural accuracy
 * 4. Mobile responsiveness at key breakpoints
 * 5. Touch target accessibility compliance
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _LanguageContext = require("../src/context/LanguageContext");
const _HeritageContext = require("../src/context/HeritageContext");
const _AppDownloadBar = /*#__PURE__*/ _interop_require_default(require("../src/components/AppDownloadBar"));
const _CTA = /*#__PURE__*/ _interop_require_default(require("../src/components/CTA"));
const _Header = /*#__PURE__*/ _interop_require_default(require("../src/components/Header"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock window dimensions for responsive testing
const mockWindowDimensions = (width, height)=>{
    Object.defineProperty(window, "innerWidth", {
        writable: true,
        configurable: true,
        value: width
    });
    Object.defineProperty(window, "innerHeight", {
        writable: true,
        configurable: true,
        value: height
    });
    window.dispatchEvent(new Event("resize"));
};
// Test wrapper component
const TestWrapper = ({ children, language = "en" })=>/*#__PURE__*/ (0, _jsxruntime.jsx)(_LanguageContext.LanguageProvider, {
        initialLanguage: language,
        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_HeritageContext.HeritageProvider, {
            children: children
        })
    });
describe("Mobile UX Fixes Verification", ()=>{
    beforeEach(()=>{
        // Reset window dimensions before each test
        mockWindowDimensions(1024, 768);
        // Mock localStorage and sessionStorage
        const mockStorage = {
            getItem: jest.fn(),
            setItem: jest.fn(),
            removeItem: jest.fn(),
            clear: jest.fn()
        };
        Object.defineProperty(window, "localStorage", {
            value: mockStorage,
            writable: true
        });
        Object.defineProperty(window, "sessionStorage", {
            value: mockStorage,
            writable: true
        });
        // Mock navigator
        Object.defineProperty(navigator, "userAgent", {
            value: "Mozilla/5.0 (iPhone; CPU iPhone OS 14_0 like Mac OS X) AppleWebKit/605.1.15",
            writable: true
        });
    });
    describe("AppDownloadBar Mobile Fixes", ()=>{
        it("should have proper positioning and z-index on mobile", async ()=>{
            mockWindowDimensions(375, 667); // iPhone SE dimensions
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_AppDownloadBar.default, {
                    autoShow: true,
                    showDelay: 0
                })
            }));
            await (0, _react1.waitFor)(()=>{
                const downloadBar = _react1.screen.getByRole("banner");
                expect(downloadBar).toBeInTheDocument();
                // Check positioning classes for mobile
                expect(downloadBar).toHaveClass("fixed", "bottom-0", "left-2", "right-2");
                expect(downloadBar).toHaveClass("max-w-sm");
                // Verify z-index is properly applied
                const styles = window.getComputedStyle(downloadBar);
                expect(styles.zIndex).toBe("50"); // From COMPONENT_Z_INDEX.appDownloadBar
            });
        });
        it("should display culturally accurate Portuguese-speaking community description", async ()=>{
            mockWindowDimensions(375, 667);
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                language: "pt",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_AppDownloadBar.default, {
                    autoShow: true,
                    showDelay: 0
                })
            }));
            await (0, _react1.waitFor)(()=>{
                const description = _react1.screen.getByText(/comunidade lusófona no Reino Unido/i);
                expect(description).toBeInTheDocument();
                // Verify it includes UK-wide context, not just Portugal
                expect(description.textContent).toContain("Reino Unido");
                expect(description.textContent).toContain("eventos culturais");
            });
        });
        it("should display accurate English community description", async ()=>{
            mockWindowDimensions(375, 667);
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                language: "en",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_AppDownloadBar.default, {
                    autoShow: true,
                    showDelay: 0
                })
            }));
            await (0, _react1.waitFor)(()=>{
                const description = _react1.screen.getByText(/Portuguese-speaking community across the UK/i);
                expect(description).toBeInTheDocument();
                // Verify cultural accuracy - Portuguese-speaking, not just Portuguese
                expect(description.textContent).toContain("Portuguese-speaking community");
                expect(description.textContent).toContain("across the UK");
            });
        });
        it("should have optimized button text for mobile", async ()=>{
            mockWindowDimensions(375, 667);
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_AppDownloadBar.default, {
                    autoShow: true,
                    showDelay: 0
                })
            }));
            await (0, _react1.waitFor)(()=>{
                // Check download button has shorter text on mobile
                const downloadButton = _react1.screen.getByRole("link", {
                    name: /download.*app/i
                });
                expect(downloadButton).toHaveTextContent("Get");
                expect(downloadButton).toHaveClass("whitespace-nowrap");
                // Check skip button has shorter text
                const skipButton = _react1.screen.getByRole("button", {
                    name: /skip/i
                });
                expect(skipButton).toHaveTextContent("Later");
                expect(skipButton).toHaveClass("whitespace-nowrap");
            });
        });
        it("should meet touch target accessibility requirements", async ()=>{
            mockWindowDimensions(375, 667);
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_AppDownloadBar.default, {
                    autoShow: true,
                    showDelay: 0
                })
            }));
            await (0, _react1.waitFor)(()=>{
                const downloadButton = _react1.screen.getByRole("link", {
                    name: /download.*app/i
                });
                const skipButton = _react1.screen.getByRole("button", {
                    name: /skip/i
                });
                const closeButton = _react1.screen.getByRole("button", {
                    name: /close/i
                });
                // All buttons should have minimum 44px touch targets
                [
                    downloadButton,
                    skipButton,
                    closeButton
                ].forEach((button)=>{
                    expect(button).toHaveClass("min-h-[44px]");
                    expect(button).toHaveClass("min-w-[44px]", "min-w-[60px]"); // Either class should be present
                });
            });
        });
    });
    describe("Header CTA Button Mobile Fixes", ()=>{
        it("should prevent text wrapping on mobile", ()=>{
            mockWindowDimensions(375, 667);
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_Header.default, {})
            }));
            const joinButton = _react1.screen.getByRole("link", {
                name: /join/i
            });
            expect(joinButton).toHaveClass("whitespace-nowrap");
            // On mobile, should show shortened text
            expect(joinButton).toHaveTextContent("Join");
            // Should not contain the full text that could wrap
            expect(joinButton).not.toHaveTextContent("Join LusoTown");
        });
        it("should show full text on larger screens", ()=>{
            mockWindowDimensions(768, 1024); // Tablet size
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_Header.default, {})
            }));
            const joinButton = _react1.screen.getByRole("link", {
                name: /join/i
            });
            expect(joinButton).toHaveClass("whitespace-nowrap");
            // On larger screens, should show full text
            (0, _react1.within)(joinButton).getByText("Join LusoTown");
        });
        it("should have proper responsive font sizes", ()=>{
            mockWindowDimensions(375, 667);
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_Header.default, {})
            }));
            const joinButton = _react1.screen.getByRole("link", {
                name: /join/i
            });
            expect(joinButton).toHaveClass("text-xs");
            expect(joinButton).toHaveClass("sm:text-sm");
        });
    });
    describe("CTA Component Mobile Fixes", ()=>{
        it("should prevent button text wrapping on mobile", ()=>{
            mockWindowDimensions(375, 667);
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_CTA.default, {})
            }));
            const joinButton = _react1.screen.getByRole("link", {
                name: /join/i
            });
            expect(joinButton).toHaveClass("whitespace-nowrap");
            expect(joinButton).toHaveClass("min-h-[56px]");
            // Should show shorter text on mobile
            expect(joinButton).toHaveTextContent("Join");
        });
        it("should show full text on larger screens", ()=>{
            mockWindowDimensions(768, 1024);
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_CTA.default, {})
            }));
            const joinButton = _react1.screen.getByRole("link", {
                name: /join/i
            });
            // Should show full text on larger screens
            expect(joinButton).toHaveTextContent("Join Now");
        });
        it("should have proper responsive spacing and sizing", ()=>{
            mockWindowDimensions(375, 667);
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_CTA.default, {})
            }));
            const joinButton = _react1.screen.getByRole("link", {
                name: /join/i
            });
            // Mobile spacing classes
            expect(joinButton).toHaveClass("px-8");
            expect(joinButton).toHaveClass("sm:px-12");
            expect(joinButton).toHaveClass("py-4");
            expect(joinButton).toHaveClass("sm:py-6");
            // Mobile text size
            expect(joinButton).toHaveClass("text-lg");
            expect(joinButton).toHaveClass("sm:text-xl");
        });
    });
    describe("Responsive Breakpoint Testing", ()=>{
        const breakpoints = [
            {
                width: 375,
                height: 667,
                name: "Mobile Small (iPhone SE)"
            },
            {
                width: 414,
                height: 896,
                name: "Mobile Standard (iPhone 11)"
            },
            {
                width: 768,
                height: 1024,
                name: "Tablet Portrait (iPad)"
            },
            {
                width: 1024,
                height: 768,
                name: "Desktop Small"
            }
        ];
        breakpoints.forEach(({ width, height, name })=>{
            it(`should work correctly at ${name} (${width}x${height})`, async ()=>{
                mockWindowDimensions(width, height);
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsxs)(TestWrapper, {
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_AppDownloadBar.default, {
                            autoShow: true,
                            showDelay: 0
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_Header.default, {}),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_CTA.default, {})
                    ]
                }));
                await (0, _react1.waitFor)(()=>{
                    // App download bar should be present on mobile
                    if (width < 768) {
                        const downloadBar = _react1.screen.getByRole("banner");
                        expect(downloadBar).toBeInTheDocument();
                        // Should have proper mobile classes
                        expect(downloadBar).toHaveClass(width < 414 ? "max-w-sm" : "max-w-sm", "sm:max-w-md");
                    }
                    // All interactive elements should have proper touch targets
                    const buttons = _react1.screen.getAllByRole("button");
                    const links = _react1.screen.getAllByRole("link");
                    [
                        ...buttons,
                        ...links
                    ].forEach((element)=>{
                        if (element.classList.contains("min-h-")) {
                            expect(element).toHaveClass("min-h-[44px]", "min-h-[56px]"); // Either should be present
                        }
                    });
                });
            });
        });
    });
    describe("Cultural Authenticity Verification", ()=>{
        it("should use Portuguese-speaking community terminology consistently", async ()=>{
            mockWindowDimensions(375, 667);
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                language: "en",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_AppDownloadBar.default, {
                    autoShow: true,
                    showDelay: 0
                })
            }));
            await (0, _react1.waitFor)(()=>{
                // Should say "Portuguese-speaking community" not just "Portuguese community"
                const description = _react1.screen.getByText(/Portuguese-speaking community/i);
                expect(description).toBeInTheDocument();
                // Should include UK-wide context
                expect(description.textContent).toContain("across the UK");
                expect(description.textContent).not.toContain("in London only");
            });
        });
        it("should use inclusive Portuguese terminology", async ()=>{
            mockWindowDimensions(375, 667);
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                language: "pt",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_AppDownloadBar.default, {
                    autoShow: true,
                    showDelay: 0
                })
            }));
            await (0, _react1.waitFor)(()=>{
                const description = _react1.screen.getByText(/comunidade lusófona/i);
                expect(description).toBeInTheDocument();
                // Should use inclusive lusófona terminology
                expect(description.textContent).toContain("comunidade lus\xf3fona");
                expect(description.textContent).toContain("Reino Unido");
            });
        });
    });
    describe("Performance and Optimization", ()=>{
        it("should not cause layout shifts on mobile", async ()=>{
            mockWindowDimensions(375, 667);
            const { rerender } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_AppDownloadBar.default, {
                    autoShow: false,
                    showDelay: 0
                })
            }));
            // Initially no download bar
            expect(_react1.screen.queryByRole("banner")).not.toBeInTheDocument();
            // Show download bar
            rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_AppDownloadBar.default, {
                    autoShow: true,
                    showDelay: 0
                })
            }));
            await (0, _react1.waitFor)(()=>{
                const downloadBar = _react1.screen.getByRole("banner");
                expect(downloadBar).toBeInTheDocument();
                // Should be positioned fixed to avoid layout shift
                expect(downloadBar).toHaveClass("fixed");
            });
        });
        it("should have proper loading states and transitions", async ()=>{
            mockWindowDimensions(375, 667);
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_AppDownloadBar.default, {
                    autoShow: true,
                    showDelay: 0
                })
            }));
            await (0, _react1.waitFor)(()=>{
                const downloadBar = _react1.screen.getByRole("banner");
                // Should have transition classes for smooth animations
                const content = downloadBar.querySelector('[class*="transition"]');
                expect(content).toBeInTheDocument();
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi93b3Jrc3BhY2VzL0x1c29Ub3duL3dlYi1hcHAvX190ZXN0c19fL21vYmlsZS11eC1maXhlcy50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1vYmlsZSBVWCBGaXhlcyBWZXJpZmljYXRpb24gVGVzdHNcbiAqIFxuICogVGhlc2UgdGVzdHMgdmVyaWZ5IHRoZSBjcml0aWNhbCBtb2JpbGUgVVggZml4ZXMgaW1wbGVtZW50ZWQ6XG4gKiAxLiBBcHBEb3dubG9hZEJhciBwb3NpdGlvbmluZyBhbmQgei1pbmRleFxuICogMi4gSG9tZXBhZ2UgQ1RBIGJ1dHRvbiB0ZXh0IHdyYXBwaW5nIHByZXZlbnRpb25cbiAqIDMuIFBvcnR1Z3Vlc2Utc3BlYWtpbmcgY29tbXVuaXR5IGN1bHR1cmFsIGFjY3VyYWN5XG4gKiA0LiBNb2JpbGUgcmVzcG9uc2l2ZW5lc3MgYXQga2V5IGJyZWFrcG9pbnRzXG4gKiA1LiBUb3VjaCB0YXJnZXQgYWNjZXNzaWJpbGl0eSBjb21wbGlhbmNlXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCB3aXRoaW4sIGFjdCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VQcm92aWRlciB9IGZyb20gJ0AvY29udGV4dC9MYW5ndWFnZUNvbnRleHQnO1xuaW1wb3J0IHsgSGVyaXRhZ2VQcm92aWRlciB9IGZyb20gJ0AvY29udGV4dC9IZXJpdGFnZUNvbnRleHQnO1xuaW1wb3J0IEFwcERvd25sb2FkQmFyIGZyb20gJ0AvY29tcG9uZW50cy9BcHBEb3dubG9hZEJhcic7XG5pbXBvcnQgQ1RBIGZyb20gJ0AvY29tcG9uZW50cy9DVEEnO1xuaW1wb3J0IEhlYWRlciBmcm9tICdAL2NvbXBvbmVudHMvSGVhZGVyJztcblxuLy8gTW9jayB3aW5kb3cgZGltZW5zaW9ucyBmb3IgcmVzcG9uc2l2ZSB0ZXN0aW5nXG5jb25zdCBtb2NrV2luZG93RGltZW5zaW9ucyA9ICh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnaW5uZXJXaWR0aCcsIHtcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgdmFsdWU6IHdpZHRoLFxuICB9KTtcbiAgXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdpbm5lckhlaWdodCcsIHtcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgdmFsdWU6IGhlaWdodCxcbiAgfSk7XG4gIFxuICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3Jlc2l6ZScpKTtcbn07XG5cbi8vIFRlc3Qgd3JhcHBlciBjb21wb25lbnRcbmNvbnN0IFRlc3RXcmFwcGVyID0gKHsgY2hpbGRyZW4sIGxhbmd1YWdlID0gJ2VuJyB9OiB7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7IGxhbmd1YWdlPzogJ2VuJyB8ICdwdCcgfSkgPT4gKFxuICA8TGFuZ3VhZ2VQcm92aWRlciBpbml0aWFsTGFuZ3VhZ2U9e2xhbmd1YWdlfT5cbiAgICA8SGVyaXRhZ2VQcm92aWRlcj5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0hlcml0YWdlUHJvdmlkZXI+XG4gIDwvTGFuZ3VhZ2VQcm92aWRlcj5cbik7XG5cbmRlc2NyaWJlKCdNb2JpbGUgVVggRml4ZXMgVmVyaWZpY2F0aW9uJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAvLyBSZXNldCB3aW5kb3cgZGltZW5zaW9ucyBiZWZvcmUgZWFjaCB0ZXN0XG4gICAgbW9ja1dpbmRvd0RpbWVuc2lvbnMoMTAyNCwgNzY4KTtcbiAgICBcbiAgICAvLyBNb2NrIGxvY2FsU3RvcmFnZSBhbmQgc2Vzc2lvblN0b3JhZ2VcbiAgICBjb25zdCBtb2NrU3RvcmFnZSA9IHtcbiAgICAgIGdldEl0ZW06IGplc3QuZm4oKSxcbiAgICAgIHNldEl0ZW06IGplc3QuZm4oKSxcbiAgICAgIHJlbW92ZUl0ZW06IGplc3QuZm4oKSxcbiAgICAgIGNsZWFyOiBqZXN0LmZuKCksXG4gICAgfTtcbiAgICBcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnbG9jYWxTdG9yYWdlJywge1xuICAgICAgdmFsdWU6IG1vY2tTdG9yYWdlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgfSk7XG4gICAgXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ3Nlc3Npb25TdG9yYWdlJywge1xuICAgICAgdmFsdWU6IG1vY2tTdG9yYWdlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgfSk7XG4gICAgXG4gICAgLy8gTW9jayBuYXZpZ2F0b3JcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobmF2aWdhdG9yLCAndXNlckFnZW50Jywge1xuICAgICAgdmFsdWU6ICdNb3ppbGxhLzUuMCAoaVBob25lOyBDUFUgaVBob25lIE9TIDE0XzAgbGlrZSBNYWMgT1MgWCkgQXBwbGVXZWJLaXQvNjA1LjEuMTUnLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdBcHBEb3dubG9hZEJhciBNb2JpbGUgRml4ZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciBwb3NpdGlvbmluZyBhbmQgei1pbmRleCBvbiBtb2JpbGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrV2luZG93RGltZW5zaW9ucygzNzUsIDY2Nyk7IC8vIGlQaG9uZSBTRSBkaW1lbnNpb25zXG4gICAgICBcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgIDxBcHBEb3dubG9hZEJhciBhdXRvU2hvdz17dHJ1ZX0gc2hvd0RlbGF5PXswfSAvPlxuICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGRvd25sb2FkQmFyID0gc2NyZWVuLmdldEJ5Um9sZSgnYmFubmVyJyk7XG4gICAgICAgIGV4cGVjdChkb3dubG9hZEJhcikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIHBvc2l0aW9uaW5nIGNsYXNzZXMgZm9yIG1vYmlsZVxuICAgICAgICBleHBlY3QoZG93bmxvYWRCYXIpLnRvSGF2ZUNsYXNzKCdmaXhlZCcsICdib3R0b20tMCcsICdsZWZ0LTInLCAncmlnaHQtMicpO1xuICAgICAgICBleHBlY3QoZG93bmxvYWRCYXIpLnRvSGF2ZUNsYXNzKCdtYXgtdy1zbScpO1xuICAgICAgICBcbiAgICAgICAgLy8gVmVyaWZ5IHotaW5kZXggaXMgcHJvcGVybHkgYXBwbGllZFxuICAgICAgICBjb25zdCBzdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb3dubG9hZEJhcik7XG4gICAgICAgIGV4cGVjdChzdHlsZXMuekluZGV4KS50b0JlKCc1MCcpOyAvLyBGcm9tIENPTVBPTkVOVF9aX0lOREVYLmFwcERvd25sb2FkQmFyXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGlzcGxheSBjdWx0dXJhbGx5IGFjY3VyYXRlIFBvcnR1Z3Vlc2Utc3BlYWtpbmcgY29tbXVuaXR5IGRlc2NyaXB0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1dpbmRvd0RpbWVuc2lvbnMoMzc1LCA2NjcpO1xuICAgICAgXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxUZXN0V3JhcHBlciBsYW5ndWFnZT1cInB0XCI+XG4gICAgICAgICAgPEFwcERvd25sb2FkQmFyIGF1dG9TaG93PXt0cnVlfSBzaG93RGVsYXk9ezB9IC8+XG4gICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBzY3JlZW4uZ2V0QnlUZXh0KC9jb211bmlkYWRlIGx1c8OzZm9uYSBubyBSZWlubyBVbmlkby9pKTtcbiAgICAgICAgZXhwZWN0KGRlc2NyaXB0aW9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBcbiAgICAgICAgLy8gVmVyaWZ5IGl0IGluY2x1ZGVzIFVLLXdpZGUgY29udGV4dCwgbm90IGp1c3QgUG9ydHVnYWxcbiAgICAgICAgZXhwZWN0KGRlc2NyaXB0aW9uLnRleHRDb250ZW50KS50b0NvbnRhaW4oJ1JlaW5vIFVuaWRvJyk7XG4gICAgICAgIGV4cGVjdChkZXNjcmlwdGlvbi50ZXh0Q29udGVudCkudG9Db250YWluKCdldmVudG9zIGN1bHR1cmFpcycpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgYWNjdXJhdGUgRW5nbGlzaCBjb21tdW5pdHkgZGVzY3JpcHRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrV2luZG93RGltZW5zaW9ucygzNzUsIDY2Nyk7XG4gICAgICBcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFRlc3RXcmFwcGVyIGxhbmd1YWdlPVwiZW5cIj5cbiAgICAgICAgICA8QXBwRG93bmxvYWRCYXIgYXV0b1Nob3c9e3RydWV9IHNob3dEZWxheT17MH0gLz5cbiAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHNjcmVlbi5nZXRCeVRleHQoL1BvcnR1Z3Vlc2Utc3BlYWtpbmcgY29tbXVuaXR5IGFjcm9zcyB0aGUgVUsvaSk7XG4gICAgICAgIGV4cGVjdChkZXNjcmlwdGlvbikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFZlcmlmeSBjdWx0dXJhbCBhY2N1cmFjeSAtIFBvcnR1Z3Vlc2Utc3BlYWtpbmcsIG5vdCBqdXN0IFBvcnR1Z3Vlc2VcbiAgICAgICAgZXhwZWN0KGRlc2NyaXB0aW9uLnRleHRDb250ZW50KS50b0NvbnRhaW4oJ1BvcnR1Z3Vlc2Utc3BlYWtpbmcgY29tbXVuaXR5Jyk7XG4gICAgICAgIGV4cGVjdChkZXNjcmlwdGlvbi50ZXh0Q29udGVudCkudG9Db250YWluKCdhY3Jvc3MgdGhlIFVLJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBvcHRpbWl6ZWQgYnV0dG9uIHRleHQgZm9yIG1vYmlsZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tXaW5kb3dEaW1lbnNpb25zKDM3NSwgNjY3KTtcbiAgICAgIFxuICAgICAgcmVuZGVyKFxuICAgICAgICA8VGVzdFdyYXBwZXI+XG4gICAgICAgICAgPEFwcERvd25sb2FkQmFyIGF1dG9TaG93PXt0cnVlfSBzaG93RGVsYXk9ezB9IC8+XG4gICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgLy8gQ2hlY2sgZG93bmxvYWQgYnV0dG9uIGhhcyBzaG9ydGVyIHRleHQgb24gbW9iaWxlXG4gICAgICAgIGNvbnN0IGRvd25sb2FkQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL2Rvd25sb2FkLiphcHAvaSB9KTtcbiAgICAgICAgZXhwZWN0KGRvd25sb2FkQnV0dG9uKS50b0hhdmVUZXh0Q29udGVudCgnR2V0Jyk7XG4gICAgICAgIGV4cGVjdChkb3dubG9hZEJ1dHRvbikudG9IYXZlQ2xhc3MoJ3doaXRlc3BhY2Utbm93cmFwJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBza2lwIGJ1dHRvbiBoYXMgc2hvcnRlciB0ZXh0XG4gICAgICAgIGNvbnN0IHNraXBCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9za2lwL2kgfSk7XG4gICAgICAgIGV4cGVjdChza2lwQnV0dG9uKS50b0hhdmVUZXh0Q29udGVudCgnTGF0ZXInKTtcbiAgICAgICAgZXhwZWN0KHNraXBCdXR0b24pLnRvSGF2ZUNsYXNzKCd3aGl0ZXNwYWNlLW5vd3JhcCcpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG1lZXQgdG91Y2ggdGFyZ2V0IGFjY2Vzc2liaWxpdHkgcmVxdWlyZW1lbnRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1dpbmRvd0RpbWVuc2lvbnMoMzc1LCA2NjcpO1xuICAgICAgXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxUZXN0V3JhcHBlcj5cbiAgICAgICAgICA8QXBwRG93bmxvYWRCYXIgYXV0b1Nob3c9e3RydWV9IHNob3dEZWxheT17MH0gLz5cbiAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBkb3dubG9hZEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2xpbmsnLCB7IG5hbWU6IC9kb3dubG9hZC4qYXBwL2kgfSk7XG4gICAgICAgIGNvbnN0IHNraXBCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9za2lwL2kgfSk7XG4gICAgICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY2xvc2UvaSB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFsbCBidXR0b25zIHNob3VsZCBoYXZlIG1pbmltdW0gNDRweCB0b3VjaCB0YXJnZXRzXG4gICAgICAgIFtkb3dubG9hZEJ1dHRvbiwgc2tpcEJ1dHRvbiwgY2xvc2VCdXR0b25dLmZvckVhY2goYnV0dG9uID0+IHtcbiAgICAgICAgICBleHBlY3QoYnV0dG9uKS50b0hhdmVDbGFzcygnbWluLWgtWzQ0cHhdJyk7XG4gICAgICAgICAgZXhwZWN0KGJ1dHRvbikudG9IYXZlQ2xhc3MoJ21pbi13LVs0NHB4XScsICdtaW4tdy1bNjBweF0nKTsgLy8gRWl0aGVyIGNsYXNzIHNob3VsZCBiZSBwcmVzZW50XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdIZWFkZXIgQ1RBIEJ1dHRvbiBNb2JpbGUgRml4ZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBwcmV2ZW50IHRleHQgd3JhcHBpbmcgb24gbW9iaWxlJywgKCkgPT4ge1xuICAgICAgbW9ja1dpbmRvd0RpbWVuc2lvbnMoMzc1LCA2NjcpO1xuICAgICAgXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxUZXN0V3JhcHBlcj5cbiAgICAgICAgICA8SGVhZGVyIC8+XG4gICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICApO1xuXG4gICAgICBjb25zdCBqb2luQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL2pvaW4vaSB9KTtcbiAgICAgIGV4cGVjdChqb2luQnV0dG9uKS50b0hhdmVDbGFzcygnd2hpdGVzcGFjZS1ub3dyYXAnKTtcbiAgICAgIFxuICAgICAgLy8gT24gbW9iaWxlLCBzaG91bGQgc2hvdyBzaG9ydGVuZWQgdGV4dFxuICAgICAgZXhwZWN0KGpvaW5CdXR0b24pLnRvSGF2ZVRleHRDb250ZW50KCdKb2luJyk7XG4gICAgICBcbiAgICAgIC8vIFNob3VsZCBub3QgY29udGFpbiB0aGUgZnVsbCB0ZXh0IHRoYXQgY291bGQgd3JhcFxuICAgICAgZXhwZWN0KGpvaW5CdXR0b24pLm5vdC50b0hhdmVUZXh0Q29udGVudCgnSm9pbiBMdXNvVG93bicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzaG93IGZ1bGwgdGV4dCBvbiBsYXJnZXIgc2NyZWVucycsICgpID0+IHtcbiAgICAgIG1vY2tXaW5kb3dEaW1lbnNpb25zKDc2OCwgMTAyNCk7IC8vIFRhYmxldCBzaXplXG4gICAgICBcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgIDxIZWFkZXIgLz5cbiAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGpvaW5CdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdsaW5rJywgeyBuYW1lOiAvam9pbi9pIH0pO1xuICAgICAgZXhwZWN0KGpvaW5CdXR0b24pLnRvSGF2ZUNsYXNzKCd3aGl0ZXNwYWNlLW5vd3JhcCcpO1xuICAgICAgXG4gICAgICAvLyBPbiBsYXJnZXIgc2NyZWVucywgc2hvdWxkIHNob3cgZnVsbCB0ZXh0XG4gICAgICB3aXRoaW4oam9pbkJ1dHRvbikuZ2V0QnlUZXh0KCdKb2luIEx1c29Ub3duJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgcHJvcGVyIHJlc3BvbnNpdmUgZm9udCBzaXplcycsICgpID0+IHtcbiAgICAgIG1vY2tXaW5kb3dEaW1lbnNpb25zKDM3NSwgNjY3KTtcbiAgICAgIFxuICAgICAgcmVuZGVyKFxuICAgICAgICA8VGVzdFdyYXBwZXI+XG4gICAgICAgICAgPEhlYWRlciAvPlxuICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgKTtcblxuICAgICAgY29uc3Qgam9pbkJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2xpbmsnLCB7IG5hbWU6IC9qb2luL2kgfSk7XG4gICAgICBleHBlY3Qoam9pbkJ1dHRvbikudG9IYXZlQ2xhc3MoJ3RleHQteHMnKTtcbiAgICAgIGV4cGVjdChqb2luQnV0dG9uKS50b0hhdmVDbGFzcygnc206dGV4dC1zbScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ1RBIENvbXBvbmVudCBNb2JpbGUgRml4ZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBwcmV2ZW50IGJ1dHRvbiB0ZXh0IHdyYXBwaW5nIG9uIG1vYmlsZScsICgpID0+IHtcbiAgICAgIG1vY2tXaW5kb3dEaW1lbnNpb25zKDM3NSwgNjY3KTtcbiAgICAgIFxuICAgICAgcmVuZGVyKFxuICAgICAgICA8VGVzdFdyYXBwZXI+XG4gICAgICAgICAgPENUQSAvPlxuICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgKTtcblxuICAgICAgY29uc3Qgam9pbkJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2xpbmsnLCB7IG5hbWU6IC9qb2luL2kgfSk7XG4gICAgICBleHBlY3Qoam9pbkJ1dHRvbikudG9IYXZlQ2xhc3MoJ3doaXRlc3BhY2Utbm93cmFwJyk7XG4gICAgICBleHBlY3Qoam9pbkJ1dHRvbikudG9IYXZlQ2xhc3MoJ21pbi1oLVs1NnB4XScpO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgc2hvdyBzaG9ydGVyIHRleHQgb24gbW9iaWxlXG4gICAgICBleHBlY3Qoam9pbkJ1dHRvbikudG9IYXZlVGV4dENvbnRlbnQoJ0pvaW4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2hvdyBmdWxsIHRleHQgb24gbGFyZ2VyIHNjcmVlbnMnLCAoKSA9PiB7XG4gICAgICBtb2NrV2luZG93RGltZW5zaW9ucyg3NjgsIDEwMjQpO1xuICAgICAgXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxUZXN0V3JhcHBlcj5cbiAgICAgICAgICA8Q1RBIC8+XG4gICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICApO1xuXG4gICAgICBjb25zdCBqb2luQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL2pvaW4vaSB9KTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIHNob3cgZnVsbCB0ZXh0IG9uIGxhcmdlciBzY3JlZW5zXG4gICAgICBleHBlY3Qoam9pbkJ1dHRvbikudG9IYXZlVGV4dENvbnRlbnQoJ0pvaW4gTm93Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgcHJvcGVyIHJlc3BvbnNpdmUgc3BhY2luZyBhbmQgc2l6aW5nJywgKCkgPT4ge1xuICAgICAgbW9ja1dpbmRvd0RpbWVuc2lvbnMoMzc1LCA2NjcpO1xuICAgICAgXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxUZXN0V3JhcHBlcj5cbiAgICAgICAgICA8Q1RBIC8+XG4gICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICApO1xuXG4gICAgICBjb25zdCBqb2luQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL2pvaW4vaSB9KTtcbiAgICAgIFxuICAgICAgLy8gTW9iaWxlIHNwYWNpbmcgY2xhc3Nlc1xuICAgICAgZXhwZWN0KGpvaW5CdXR0b24pLnRvSGF2ZUNsYXNzKCdweC04Jyk7XG4gICAgICBleHBlY3Qoam9pbkJ1dHRvbikudG9IYXZlQ2xhc3MoJ3NtOnB4LTEyJyk7XG4gICAgICBleHBlY3Qoam9pbkJ1dHRvbikudG9IYXZlQ2xhc3MoJ3B5LTQnKTtcbiAgICAgIGV4cGVjdChqb2luQnV0dG9uKS50b0hhdmVDbGFzcygnc206cHktNicpO1xuICAgICAgXG4gICAgICAvLyBNb2JpbGUgdGV4dCBzaXplXG4gICAgICBleHBlY3Qoam9pbkJ1dHRvbikudG9IYXZlQ2xhc3MoJ3RleHQtbGcnKTtcbiAgICAgIGV4cGVjdChqb2luQnV0dG9uKS50b0hhdmVDbGFzcygnc206dGV4dC14bCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUmVzcG9uc2l2ZSBCcmVha3BvaW50IFRlc3RpbmcnLCAoKSA9PiB7XG4gICAgY29uc3QgYnJlYWtwb2ludHMgPSBbXG4gICAgICB7IHdpZHRoOiAzNzUsIGhlaWdodDogNjY3LCBuYW1lOiAnTW9iaWxlIFNtYWxsIChpUGhvbmUgU0UpJyB9LFxuICAgICAgeyB3aWR0aDogNDE0LCBoZWlnaHQ6IDg5NiwgbmFtZTogJ01vYmlsZSBTdGFuZGFyZCAoaVBob25lIDExKScgfSxcbiAgICAgIHsgd2lkdGg6IDc2OCwgaGVpZ2h0OiAxMDI0LCBuYW1lOiAnVGFibGV0IFBvcnRyYWl0IChpUGFkKScgfSxcbiAgICAgIHsgd2lkdGg6IDEwMjQsIGhlaWdodDogNzY4LCBuYW1lOiAnRGVza3RvcCBTbWFsbCcgfSxcbiAgICBdO1xuXG4gICAgYnJlYWtwb2ludHMuZm9yRWFjaCgoeyB3aWR0aCwgaGVpZ2h0LCBuYW1lIH0pID0+IHtcbiAgICAgIGl0KGBzaG91bGQgd29yayBjb3JyZWN0bHkgYXQgJHtuYW1lfSAoJHt3aWR0aH14JHtoZWlnaHR9KWAsIGFzeW5jICgpID0+IHtcbiAgICAgICAgbW9ja1dpbmRvd0RpbWVuc2lvbnMod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIFxuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgICAgPEFwcERvd25sb2FkQmFyIGF1dG9TaG93PXt0cnVlfSBzaG93RGVsYXk9ezB9IC8+XG4gICAgICAgICAgICA8SGVhZGVyIC8+XG4gICAgICAgICAgICA8Q1RBIC8+XG4gICAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICAgKTtcblxuICAgICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgICAvLyBBcHAgZG93bmxvYWQgYmFyIHNob3VsZCBiZSBwcmVzZW50IG9uIG1vYmlsZVxuICAgICAgICAgIGlmICh3aWR0aCA8IDc2OCkge1xuICAgICAgICAgICAgY29uc3QgZG93bmxvYWRCYXIgPSBzY3JlZW4uZ2V0QnlSb2xlKCdiYW5uZXInKTtcbiAgICAgICAgICAgIGV4cGVjdChkb3dubG9hZEJhcikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2hvdWxkIGhhdmUgcHJvcGVyIG1vYmlsZSBjbGFzc2VzXG4gICAgICAgICAgICBleHBlY3QoZG93bmxvYWRCYXIpLnRvSGF2ZUNsYXNzKHdpZHRoIDwgNDE0ID8gJ21heC13LXNtJyA6ICdtYXgtdy1zbScsICdzbTptYXgtdy1tZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBBbGwgaW50ZXJhY3RpdmUgZWxlbWVudHMgc2hvdWxkIGhhdmUgcHJvcGVyIHRvdWNoIHRhcmdldHNcbiAgICAgICAgICBjb25zdCBidXR0b25zID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICAgICAgY29uc3QgbGlua3MgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCdsaW5rJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgWy4uLmJ1dHRvbnMsIC4uLmxpbmtzXS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtaW4taC0nKSkge1xuICAgICAgICAgICAgICBleHBlY3QoZWxlbWVudCkudG9IYXZlQ2xhc3MoJ21pbi1oLVs0NHB4XScsICdtaW4taC1bNTZweF0nKTsgLy8gRWl0aGVyIHNob3VsZCBiZSBwcmVzZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDdWx0dXJhbCBBdXRoZW50aWNpdHkgVmVyaWZpY2F0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdXNlIFBvcnR1Z3Vlc2Utc3BlYWtpbmcgY29tbXVuaXR5IHRlcm1pbm9sb2d5IGNvbnNpc3RlbnRseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tXaW5kb3dEaW1lbnNpb25zKDM3NSwgNjY3KTtcbiAgICAgIFxuICAgICAgcmVuZGVyKFxuICAgICAgICA8VGVzdFdyYXBwZXIgbGFuZ3VhZ2U9XCJlblwiPlxuICAgICAgICAgIDxBcHBEb3dubG9hZEJhciBhdXRvU2hvdz17dHJ1ZX0gc2hvd0RlbGF5PXswfSAvPlxuICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIC8vIFNob3VsZCBzYXkgXCJQb3J0dWd1ZXNlLXNwZWFraW5nIGNvbW11bml0eVwiIG5vdCBqdXN0IFwiUG9ydHVndWVzZSBjb21tdW5pdHlcIlxuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHNjcmVlbi5nZXRCeVRleHQoL1BvcnR1Z3Vlc2Utc3BlYWtpbmcgY29tbXVuaXR5L2kpO1xuICAgICAgICBleHBlY3QoZGVzY3JpcHRpb24pLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaG91bGQgaW5jbHVkZSBVSy13aWRlIGNvbnRleHRcbiAgICAgICAgZXhwZWN0KGRlc2NyaXB0aW9uLnRleHRDb250ZW50KS50b0NvbnRhaW4oJ2Fjcm9zcyB0aGUgVUsnKTtcbiAgICAgICAgZXhwZWN0KGRlc2NyaXB0aW9uLnRleHRDb250ZW50KS5ub3QudG9Db250YWluKCdpbiBMb25kb24gb25seScpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVzZSBpbmNsdXNpdmUgUG9ydHVndWVzZSB0ZXJtaW5vbG9neScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tXaW5kb3dEaW1lbnNpb25zKDM3NSwgNjY3KTtcbiAgICAgIFxuICAgICAgcmVuZGVyKFxuICAgICAgICA8VGVzdFdyYXBwZXIgbGFuZ3VhZ2U9XCJwdFwiPlxuICAgICAgICAgIDxBcHBEb3dubG9hZEJhciBhdXRvU2hvdz17dHJ1ZX0gc2hvd0RlbGF5PXswfSAvPlxuICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gc2NyZWVuLmdldEJ5VGV4dCgvY29tdW5pZGFkZSBsdXPDs2ZvbmEvaSk7XG4gICAgICAgIGV4cGVjdChkZXNjcmlwdGlvbikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNob3VsZCB1c2UgaW5jbHVzaXZlIGx1c8OzZm9uYSB0ZXJtaW5vbG9neVxuICAgICAgICBleHBlY3QoZGVzY3JpcHRpb24udGV4dENvbnRlbnQpLnRvQ29udGFpbignY29tdW5pZGFkZSBsdXPDs2ZvbmEnKTtcbiAgICAgICAgZXhwZWN0KGRlc2NyaXB0aW9uLnRleHRDb250ZW50KS50b0NvbnRhaW4oJ1JlaW5vIFVuaWRvJyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BlcmZvcm1hbmNlIGFuZCBPcHRpbWl6YXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBub3QgY2F1c2UgbGF5b3V0IHNoaWZ0cyBvbiBtb2JpbGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrV2luZG93RGltZW5zaW9ucygzNzUsIDY2Nyk7XG4gICAgICBcbiAgICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlcihcbiAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgIDxBcHBEb3dubG9hZEJhciBhdXRvU2hvdz17ZmFsc2V9IHNob3dEZWxheT17MH0gLz5cbiAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICk7XG5cbiAgICAgIC8vIEluaXRpYWxseSBubyBkb3dubG9hZCBiYXJcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVJvbGUoJ2Jhbm5lcicpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIFxuICAgICAgLy8gU2hvdyBkb3dubG9hZCBiYXJcbiAgICAgIHJlcmVuZGVyKFxuICAgICAgICA8VGVzdFdyYXBwZXI+XG4gICAgICAgICAgPEFwcERvd25sb2FkQmFyIGF1dG9TaG93PXt0cnVlfSBzaG93RGVsYXk9ezB9IC8+XG4gICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgZG93bmxvYWRCYXIgPSBzY3JlZW4uZ2V0QnlSb2xlKCdiYW5uZXInKTtcbiAgICAgICAgZXhwZWN0KGRvd25sb2FkQmFyKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBcbiAgICAgICAgLy8gU2hvdWxkIGJlIHBvc2l0aW9uZWQgZml4ZWQgdG8gYXZvaWQgbGF5b3V0IHNoaWZ0XG4gICAgICAgIGV4cGVjdChkb3dubG9hZEJhcikudG9IYXZlQ2xhc3MoJ2ZpeGVkJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBwcm9wZXIgbG9hZGluZyBzdGF0ZXMgYW5kIHRyYW5zaXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1dpbmRvd0RpbWVuc2lvbnMoMzc1LCA2NjcpO1xuICAgICAgXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxUZXN0V3JhcHBlcj5cbiAgICAgICAgICA8QXBwRG93bmxvYWRCYXIgYXV0b1Nob3c9e3RydWV9IHNob3dEZWxheT17MH0gLz5cbiAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBkb3dubG9hZEJhciA9IHNjcmVlbi5nZXRCeVJvbGUoJ2Jhbm5lcicpO1xuICAgICAgICBcbiAgICAgICAgLy8gU2hvdWxkIGhhdmUgdHJhbnNpdGlvbiBjbGFzc2VzIGZvciBzbW9vdGggYW5pbWF0aW9uc1xuICAgICAgICBjb25zdCBjb250ZW50ID0gZG93bmxvYWRCYXIucXVlcnlTZWxlY3RvcignW2NsYXNzKj1cInRyYW5zaXRpb25cIl0nKTtcbiAgICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwibmFtZXMiOlsibW9ja1dpbmRvd0RpbWVuc2lvbnMiLCJ3aWR0aCIsImhlaWdodCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwid2luZG93Iiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJ2YWx1ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudCIsIlRlc3RXcmFwcGVyIiwiY2hpbGRyZW4iLCJsYW5ndWFnZSIsIkxhbmd1YWdlUHJvdmlkZXIiLCJpbml0aWFsTGFuZ3VhZ2UiLCJIZXJpdGFnZVByb3ZpZGVyIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwibW9ja1N0b3JhZ2UiLCJnZXRJdGVtIiwiamVzdCIsImZuIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJjbGVhciIsIm5hdmlnYXRvciIsIml0IiwicmVuZGVyIiwiQXBwRG93bmxvYWRCYXIiLCJhdXRvU2hvdyIsInNob3dEZWxheSIsIndhaXRGb3IiLCJkb3dubG9hZEJhciIsInNjcmVlbiIsImdldEJ5Um9sZSIsImV4cGVjdCIsInRvQmVJblRoZURvY3VtZW50IiwidG9IYXZlQ2xhc3MiLCJzdHlsZXMiLCJnZXRDb21wdXRlZFN0eWxlIiwiekluZGV4IiwidG9CZSIsImRlc2NyaXB0aW9uIiwiZ2V0QnlUZXh0IiwidGV4dENvbnRlbnQiLCJ0b0NvbnRhaW4iLCJkb3dubG9hZEJ1dHRvbiIsIm5hbWUiLCJ0b0hhdmVUZXh0Q29udGVudCIsInNraXBCdXR0b24iLCJjbG9zZUJ1dHRvbiIsImZvckVhY2giLCJidXR0b24iLCJIZWFkZXIiLCJqb2luQnV0dG9uIiwibm90Iiwid2l0aGluIiwiQ1RBIiwiYnJlYWtwb2ludHMiLCJidXR0b25zIiwiZ2V0QWxsQnlSb2xlIiwibGlua3MiLCJlbGVtZW50IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJyZXJlbmRlciIsInF1ZXJ5QnlSb2xlIiwiY29udGVudCIsInF1ZXJ5U2VsZWN0b3IiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Q0FTQzs7Ozs7OERBRWlCO3dCQUNtQztpQ0FDcEI7aUNBQ0E7dUVBQ047NERBQ1g7K0RBQ0c7Ozs7OztBQUVuQixnREFBZ0Q7QUFDaEQsTUFBTUEsdUJBQXVCLENBQUNDLE9BQWVDO0lBQzNDQyxPQUFPQyxjQUFjLENBQUNDLFFBQVEsY0FBYztRQUMxQ0MsVUFBVTtRQUNWQyxjQUFjO1FBQ2RDLE9BQU9QO0lBQ1Q7SUFFQUUsT0FBT0MsY0FBYyxDQUFDQyxRQUFRLGVBQWU7UUFDM0NDLFVBQVU7UUFDVkMsY0FBYztRQUNkQyxPQUFPTjtJQUNUO0lBRUFHLE9BQU9JLGFBQWEsQ0FBQyxJQUFJQyxNQUFNO0FBQ2pDO0FBRUEseUJBQXlCO0FBQ3pCLE1BQU1DLGNBQWMsQ0FBQyxFQUFFQyxRQUFRLEVBQUVDLFdBQVcsSUFBSSxFQUF5RCxp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