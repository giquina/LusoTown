347a0f70a5b947a026a41846810970d5
/**
 * Portuguese-specific error messages for bilingual error handling
 * Maintains cultural context and user experience during errors
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    GENERAL_ERROR_MESSAGES: function() {
        return GENERAL_ERROR_MESSAGES;
    },
    MOBILE_ERROR_MESSAGES: function() {
        return MOBILE_ERROR_MESSAGES;
    },
    PORTUGUESE_FEATURE_ERROR_MESSAGES: function() {
        return PORTUGUESE_FEATURE_ERROR_MESSAGES;
    },
    default: function() {
        return _default;
    },
    getContextualErrorMessage: function() {
        return getContextualErrorMessage;
    },
    getErrorMessage: function() {
        return getErrorMessage;
    }
});
const _errorHandling = require("../errorHandling");
const _errormonitoring = require("../../config/error-monitoring");
const GENERAL_ERROR_MESSAGES = {
    [_errorHandling.ErrorType.AUTHENTICATION]: {
        userFriendly: {
            en: "Session expired. Please log in again.",
            pt: "Sess\xe3o expirada. Por favor, fa\xe7a login novamente."
        },
        technical: {
            en: "Authentication token is invalid or expired",
            pt: "Token de autentica\xe7\xe3o inv\xe1lido ou expirado"
        },
        recovery: {
            en: "Redirecting to login page...",
            pt: "Redirecionando para a p\xe1gina de login..."
        }
    },
    [_errorHandling.ErrorType.AUTHORIZATION]: {
        userFriendly: {
            en: "You don't have permission to access this feature.",
            pt: "N\xe3o tem permiss\xe3o para aceder a esta funcionalidade."
        },
        technical: {
            en: "User lacks required permissions for this resource",
            pt: "Utilizador n\xe3o tem as permiss\xf5es necess\xe1rias para este recurso"
        },
        recovery: {
            en: "Contact support if you believe this is an error.",
            pt: "Contacte o suporte se acredita que isto \xe9 um erro."
        }
    },
    [_errorHandling.ErrorType.NETWORK]: {
        userFriendly: {
            en: "Connection problem. Check your internet and try again.",
            pt: "Problema de liga\xe7\xe3o. Verifique a sua internet e tente novamente."
        },
        technical: {
            en: "Network request failed or timed out",
            pt: "Pedido de rede falhou ou excedeu o tempo limite"
        },
        recovery: {
            en: "Retrying automatically...",
            pt: "A tentar novamente automaticamente..."
        }
    },
    [_errorHandling.ErrorType.VALIDATION]: {
        userFriendly: {
            en: "Invalid data. Please check your information and try again.",
            pt: "Dados inv\xe1lidos. Verifique as suas informa\xe7\xf5es e tente novamente."
        },
        technical: {
            en: "Input validation failed for one or more fields",
            pt: "Valida\xe7\xe3o de entrada falhou para um ou mais campos"
        },
        recovery: {
            en: "Please correct the highlighted fields.",
            pt: "Por favor, corrija os campos destacados."
        }
    },
    [_errorHandling.ErrorType.NOT_FOUND]: {
        userFriendly: {
            en: "The requested resource could not be found.",
            pt: "O recurso solicitado n\xe3o foi encontrado."
        },
        technical: {
            en: "HTTP 404 - Resource not found",
            pt: "HTTP 404 - Recurso n\xe3o encontrado"
        },
        recovery: {
            en: "Try going back or visiting our homepage.",
            pt: "Tente voltar atr\xe1s ou visitar a nossa p\xe1gina inicial."
        }
    },
    [_errorHandling.ErrorType.SERVER_ERROR]: {
        userFriendly: {
            en: "Server error. Please try again in a few moments.",
            pt: "Erro do servidor. Tente novamente dentro de alguns momentos."
        },
        technical: {
            en: "Internal server error occurred",
            pt: "Ocorreu um erro interno do servidor"
        },
        recovery: {
            en: "Our team has been notified. Please try again later.",
            pt: "A nossa equipa foi notificada. Tente novamente mais tarde."
        }
    },
    [_errorHandling.ErrorType.CLIENT_ERROR]: {
        userFriendly: {
            en: "Request error. Please check the data and try again.",
            pt: "Erro na solicita\xe7\xe3o. Verifique os dados e tente novamente."
        },
        technical: {
            en: "Client request error (4xx status code)",
            pt: "Erro na solicita\xe7\xe3o do cliente (c\xf3digo de estado 4xx)"
        },
        recovery: {
            en: "Please review your input and try again.",
            pt: "Por favor, reveja a sua entrada e tente novamente."
        }
    },
    [_errorHandling.ErrorType.UNKNOWN]: {
        userFriendly: {
            en: "An unexpected error occurred. Please try again.",
            pt: "Ocorreu um erro inesperado. Tente novamente."
        },
        technical: {
            en: "Unhandled error with unknown cause",
            pt: "Erro n\xe3o tratado com causa desconhecida"
        },
        recovery: {
            en: "If the problem persists, please contact support.",
            pt: "Se o problema persistir, contacte o suporte."
        }
    }
};
const PORTUGUESE_FEATURE_ERROR_MESSAGES = {
    [_errormonitoring.PORTUGUESE_ERROR_CONTEXTS.CULTURAL_CONTENT]: {
        userFriendly: {
            en: "Unable to load Portuguese cultural content. Please try again.",
            pt: "N\xe3o foi poss\xedvel carregar o conte\xfado cultural portugu\xeas. Tente novamente."
        },
        technical: {
            en: "Portuguese cultural content API failed to respond",
            pt: "API de conte\xfado cultural portugu\xeas falhou em responder"
        },
        recovery: {
            en: "Showing cached content while we fix this issue.",
            pt: "A mostrar conte\xfado em cache enquanto resolvemos esta quest\xe3o."
        }
    },
    [_errormonitoring.PORTUGUESE_ERROR_CONTEXTS.BUSINESS_DIRECTORY]: {
        userFriendly: {
            en: "Portuguese business directory is temporarily unavailable.",
            pt: "O diret\xf3rio de empresas portuguesas est\xe1 temporariamente indispon\xedvel."
        },
        technical: {
            en: "Business directory PostGIS query failed or timed out",
            pt: "Consulta PostGIS do diret\xf3rio de empresas falhou ou excedeu o tempo"
        },
        recovery: {
            en: "Try searching with different criteria or check back shortly.",
            pt: "Tente pesquisar com crit\xe9rios diferentes ou volte em breve."
        }
    },
    [_errormonitoring.PORTUGUESE_ERROR_CONTEXTS.LANGUAGE_SWITCHING]: {
        userFriendly: {
            en: "Language switching is experiencing issues.",
            pt: "A troca de idioma est\xe1 com problemas."
        },
        technical: {
            en: "Bilingual language context failed to update",
            pt: "Contexto de idioma bilingue falhou ao atualizar"
        },
        recovery: {
            en: "Refreshing page to reset language settings...",
            pt: "A atualizar p\xe1gina para repor configura\xe7\xf5es de idioma..."
        }
    },
    [_errormonitoring.PORTUGUESE_ERROR_CONTEXTS.CHARACTER_ENCODING]: {
        userFriendly: {
            en: "Portuguese characters are not displaying correctly.",
            pt: "Os caracteres portugueses n\xe3o est\xe3o a ser exibidos corretamente."
        },
        technical: {
            en: "UTF-8 character encoding issue detected with Portuguese diacritics",
            pt: "Problema de codifica\xe7\xe3o UTF-8 detectado com diacr\xedticos portugueses"
        },
        recovery: {
            en: "Refreshing the page may resolve this display issue.",
            pt: "Atualizar a p\xe1gina pode resolver este problema de exibi\xe7\xe3o."
        }
    },
    [_errormonitoring.PORTUGUESE_ERROR_CONTEXTS.CULTURAL_MATCHING]: {
        userFriendly: {
            en: "Cultural matching feature is currently unavailable.",
            pt: "A funcionalidade de correspond\xeancia cultural est\xe1 indispon\xedvel."
        },
        technical: {
            en: "AI cultural matching algorithm timed out or failed",
            pt: "Algoritmo de correspond\xeancia cultural IA expirou ou falhou"
        },
        recovery: {
            en: "Please try again later or browse profiles manually.",
            pt: "Tente novamente mais tarde ou navegue pelos perfis manualmente."
        }
    },
    [_errormonitoring.PORTUGUESE_ERROR_CONTEXTS.EVENT_BOOKING]: {
        userFriendly: {
            en: "Unable to complete event booking. Please try again.",
            pt: "N\xe3o foi poss\xedvel completar a reserva do evento. Tente novamente."
        },
        technical: {
            en: "Lusophone event booking API transaction failed",
            pt: "Transa\xe7\xe3o da API de reserva de eventos lus\xf3fonos falhou"
        },
        recovery: {
            en: "Your payment was not processed. You can safely try again.",
            pt: "O seu pagamento n\xe3o foi processado. Pode tentar novamente com seguran\xe7a."
        }
    },
    [_errormonitoring.PORTUGUESE_ERROR_CONTEXTS.UNIVERSITY_PARTNERSHIPS]: {
        userFriendly: {
            en: "University partnership features are experiencing issues.",
            pt: "As funcionalidades de parcerias universit\xe1rias est\xe3o com problemas."
        },
        technical: {
            en: "University integration API failed to authenticate or respond",
            pt: "API de integra\xe7\xe3o universit\xe1ria falhou na autentica\xe7\xe3o ou resposta"
        },
        recovery: {
            en: "Try accessing through your university portal directly.",
            pt: "Tente aceder diretamente atrav\xe9s do portal da sua universidade."
        }
    }
};
const MOBILE_ERROR_MESSAGES = {
    OFFLINE: {
        userFriendly: {
            en: "You're currently offline. Some features may not be available.",
            pt: "Est\xe1 atualmente offline. Algumas funcionalidades podem n\xe3o estar dispon\xedveis."
        },
        technical: {
            en: "Network connection lost - using cached content",
            pt: "Liga\xe7\xe3o de rede perdida - usando conte\xfado em cache"
        },
        recovery: {
            en: "Connect to internet to access all Portuguese community features.",
            pt: "Ligue-se \xe0 internet para aceder a todas as funcionalidades da comunidade portuguesa."
        }
    },
    SLOW_CONNECTION: {
        userFriendly: {
            en: "Slow connection detected. Loading essential content first.",
            pt: "Liga\xe7\xe3o lenta detectada. A carregar primeiro o conte\xfado essencial."
        },
        technical: {
            en: "Network speed below optimal threshold",
            pt: "Velocidade da rede abaixo do limite ideal"
        },
        recovery: {
            en: "Portuguese cultural content will load progressively.",
            pt: "O conte\xfado cultural portugu\xeas ser\xe1 carregado progressivamente."
        }
    },
    TOUCH_TARGET_ERROR: {
        userFriendly: {
            en: "Button tap not registered. Please try again.",
            pt: "Toque no bot\xe3o n\xe3o foi registado. Tente novamente."
        },
        technical: {
            en: "Touch event handler failed or element too small",
            pt: "Manipulador de evento de toque falhou ou elemento muito pequeno"
        },
        recovery: {
            en: "Try tapping slightly higher or using landscape mode.",
            pt: "Tente tocar um pouco mais acima ou usar modo paisagem."
        }
    }
};
function getErrorMessage(errorType, language = "en", messageType = "userFriendly") {
    // Check Portuguese-specific contexts first
    const portugalContext = PORTUGUESE_FEATURE_ERROR_MESSAGES[errorType];
    if (portugalContext) {
        return portugalContext[messageType][language];
    }
    // Check mobile-specific errors
    const mobileContext = MOBILE_ERROR_MESSAGES[errorType];
    if (mobileContext) {
        return mobileContext[messageType][language];
    }
    // Fall back to general error messages
    const generalError = GENERAL_ERROR_MESSAGES[errorType];
    if (generalError) {
        return generalError[messageType][language];
    }
    // Ultimate fallback
    const fallbackMessages = {
        userFriendly: {
            en: "An unexpected error occurred. Please try again.",
            pt: "Ocorreu um erro inesperado. Tente novamente."
        },
        technical: {
            en: "Unhandled error occurred",
            pt: "Ocorreu um erro n\xe3o tratado"
        },
        recovery: {
            en: "Please refresh the page or contact support.",
            pt: "Atualize a p\xe1gina ou contacte o suporte."
        }
    };
    return fallbackMessages[messageType][language];
}
function getContextualErrorMessage(error, context = {}) {
    const language = context.language || "en";
    // Determine error type and context
    let errorType = _errorHandling.ErrorType.UNKNOWN;
    let errorContext = "unknown";
    if (error?.type) {
        errorType = error.type;
    } else if (error?.status) {
        if (error.status === 401) errorType = _errorHandling.ErrorType.AUTHENTICATION;
        else if (error.status === 403) errorType = _errorHandling.ErrorType.AUTHORIZATION;
        else if (error.status === 404) errorType = _errorHandling.ErrorType.NOT_FOUND;
        else if (error.status >= 500) errorType = _errorHandling.ErrorType.SERVER_ERROR;
        else if (error.status >= 400) errorType = _errorHandling.ErrorType.CLIENT_ERROR;
    } else if (error?.name === "NetworkError" || error?.message?.includes("fetch")) {
        errorType = _errorHandling.ErrorType.NETWORK;
    }
    // Add Portuguese context if this is a Portuguese feature
    if (context.isPortugueseFeature) {
        errorContext = context.userAction || _errormonitoring.PORTUGUESE_ERROR_CONTEXTS.CULTURAL_CONTENT;
    }
    const userMessage = getErrorMessage(errorContext !== "unknown" ? errorContext : errorType, language, "userFriendly");
    const recoveryMessage = getErrorMessage(errorContext !== "unknown" ? errorContext : errorType, language, "recovery");
    return {
        en: context.language === "pt" ? getErrorMessage(errorContext !== "unknown" ? errorContext : errorType, "en", "userFriendly") : userMessage,
        pt: context.language === "en" ? getErrorMessage(errorContext !== "unknown" ? errorContext : errorType, "pt", "userFriendly") : userMessage
    };
}
const _default = {
    GENERAL_ERROR_MESSAGES,
    PORTUGUESE_FEATURE_ERROR_MESSAGES,
    MOBILE_ERROR_MESSAGES,
    getErrorMessage,
    getContextualErrorMessage
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi93b3Jrc3BhY2VzL0x1c29Ub3duL3dlYi1hcHAvc3JjL2xpYi9tb25pdG9yaW5nL3BvcnR1Z3Vlc2UtZXJyb3ItbWVzc2FnZXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBQb3J0dWd1ZXNlLXNwZWNpZmljIGVycm9yIG1lc3NhZ2VzIGZvciBiaWxpbmd1YWwgZXJyb3IgaGFuZGxpbmdcbiAqIE1haW50YWlucyBjdWx0dXJhbCBjb250ZXh0IGFuZCB1c2VyIGV4cGVyaWVuY2UgZHVyaW5nIGVycm9yc1xuICovXG5cbmltcG9ydCB7IEVycm9yVHlwZSB9IGZyb20gJ0AvbGliL2Vycm9ySGFuZGxpbmcnXG5pbXBvcnQgeyBQT1JUVUdVRVNFX0VSUk9SX0NPTlRFWFRTIH0gZnJvbSAnQC9jb25maWcvZXJyb3ItbW9uaXRvcmluZydcblxuZXhwb3J0IGludGVyZmFjZSBCaWxpbmd1YWxFcnJvck1lc3NhZ2Uge1xuICBlbjogc3RyaW5nXG4gIHB0OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFcnJvck1lc3NhZ2VDb25maWcge1xuICB1c2VyRnJpZW5kbHk6IEJpbGluZ3VhbEVycm9yTWVzc2FnZVxuICB0ZWNobmljYWw6IEJpbGluZ3VhbEVycm9yTWVzc2FnZVxuICByZWNvdmVyeTogQmlsaW5ndWFsRXJyb3JNZXNzYWdlXG59XG5cbi8vIEdlbmVyYWwgZXJyb3IgbWVzc2FnZXNcbmV4cG9ydCBjb25zdCBHRU5FUkFMX0VSUk9SX01FU1NBR0VTOiBSZWNvcmQ8RXJyb3JUeXBlLCBFcnJvck1lc3NhZ2VDb25maWc+ID0ge1xuICBbRXJyb3JUeXBlLkFVVEhFTlRJQ0FUSU9OXToge1xuICAgIHVzZXJGcmllbmRseToge1xuICAgICAgZW46ICdTZXNzaW9uIGV4cGlyZWQuIFBsZWFzZSBsb2cgaW4gYWdhaW4uJyxcbiAgICAgIHB0OiAnU2Vzc8OjbyBleHBpcmFkYS4gUG9yIGZhdm9yLCBmYcOnYSBsb2dpbiBub3ZhbWVudGUuJ1xuICAgIH0sXG4gICAgdGVjaG5pY2FsOiB7XG4gICAgICBlbjogJ0F1dGhlbnRpY2F0aW9uIHRva2VuIGlzIGludmFsaWQgb3IgZXhwaXJlZCcsXG4gICAgICBwdDogJ1Rva2VuIGRlIGF1dGVudGljYcOnw6NvIGludsOhbGlkbyBvdSBleHBpcmFkbydcbiAgICB9LFxuICAgIHJlY292ZXJ5OiB7XG4gICAgICBlbjogJ1JlZGlyZWN0aW5nIHRvIGxvZ2luIHBhZ2UuLi4nLFxuICAgICAgcHQ6ICdSZWRpcmVjaW9uYW5kbyBwYXJhIGEgcMOhZ2luYSBkZSBsb2dpbi4uLidcbiAgICB9XG4gIH0sXG4gIFtFcnJvclR5cGUuQVVUSE9SSVpBVElPTl06IHtcbiAgICB1c2VyRnJpZW5kbHk6IHtcbiAgICAgIGVuOiAnWW91IGRvblxcJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGFjY2VzcyB0aGlzIGZlYXR1cmUuJyxcbiAgICAgIHB0OiAnTsOjbyB0ZW0gcGVybWlzc8OjbyBwYXJhIGFjZWRlciBhIGVzdGEgZnVuY2lvbmFsaWRhZGUuJ1xuICAgIH0sXG4gICAgdGVjaG5pY2FsOiB7XG4gICAgICBlbjogJ1VzZXIgbGFja3MgcmVxdWlyZWQgcGVybWlzc2lvbnMgZm9yIHRoaXMgcmVzb3VyY2UnLFxuICAgICAgcHQ6ICdVdGlsaXphZG9yIG7Do28gdGVtIGFzIHBlcm1pc3PDtWVzIG5lY2Vzc8OhcmlhcyBwYXJhIGVzdGUgcmVjdXJzbydcbiAgICB9LFxuICAgIHJlY292ZXJ5OiB7XG4gICAgICBlbjogJ0NvbnRhY3Qgc3VwcG9ydCBpZiB5b3UgYmVsaWV2ZSB0aGlzIGlzIGFuIGVycm9yLicsXG4gICAgICBwdDogJ0NvbnRhY3RlIG8gc3Vwb3J0ZSBzZSBhY3JlZGl0YSBxdWUgaXN0byDDqSB1bSBlcnJvLidcbiAgICB9XG4gIH0sXG4gIFtFcnJvclR5cGUuTkVUV09SS106IHtcbiAgICB1c2VyRnJpZW5kbHk6IHtcbiAgICAgIGVuOiAnQ29ubmVjdGlvbiBwcm9ibGVtLiBDaGVjayB5b3VyIGludGVybmV0IGFuZCB0cnkgYWdhaW4uJyxcbiAgICAgIHB0OiAnUHJvYmxlbWEgZGUgbGlnYcOnw6NvLiBWZXJpZmlxdWUgYSBzdWEgaW50ZXJuZXQgZSB0ZW50ZSBub3ZhbWVudGUuJ1xuICAgIH0sXG4gICAgdGVjaG5pY2FsOiB7XG4gICAgICBlbjogJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQgb3IgdGltZWQgb3V0JyxcbiAgICAgIHB0OiAnUGVkaWRvIGRlIHJlZGUgZmFsaG91IG91IGV4Y2VkZXUgbyB0ZW1wbyBsaW1pdGUnXG4gICAgfSxcbiAgICByZWNvdmVyeToge1xuICAgICAgZW46ICdSZXRyeWluZyBhdXRvbWF0aWNhbGx5Li4uJyxcbiAgICAgIHB0OiAnQSB0ZW50YXIgbm92YW1lbnRlIGF1dG9tYXRpY2FtZW50ZS4uLidcbiAgICB9XG4gIH0sXG4gIFtFcnJvclR5cGUuVkFMSURBVElPTl06IHtcbiAgICB1c2VyRnJpZW5kbHk6IHtcbiAgICAgIGVuOiAnSW52YWxpZCBkYXRhLiBQbGVhc2UgY2hlY2sgeW91ciBpbmZvcm1hdGlvbiBhbmQgdHJ5IGFnYWluLicsXG4gICAgICBwdDogJ0RhZG9zIGludsOhbGlkb3MuIFZlcmlmaXF1ZSBhcyBzdWFzIGluZm9ybWHDp8O1ZXMgZSB0ZW50ZSBub3ZhbWVudGUuJ1xuICAgIH0sXG4gICAgdGVjaG5pY2FsOiB7XG4gICAgICBlbjogJ0lucHV0IHZhbGlkYXRpb24gZmFpbGVkIGZvciBvbmUgb3IgbW9yZSBmaWVsZHMnLFxuICAgICAgcHQ6ICdWYWxpZGHDp8OjbyBkZSBlbnRyYWRhIGZhbGhvdSBwYXJhIHVtIG91IG1haXMgY2FtcG9zJ1xuICAgIH0sXG4gICAgcmVjb3Zlcnk6IHtcbiAgICAgIGVuOiAnUGxlYXNlIGNvcnJlY3QgdGhlIGhpZ2hsaWdodGVkIGZpZWxkcy4nLFxuICAgICAgcHQ6ICdQb3IgZmF2b3IsIGNvcnJpamEgb3MgY2FtcG9zIGRlc3RhY2Fkb3MuJ1xuICAgIH1cbiAgfSxcbiAgW0Vycm9yVHlwZS5OT1RfRk9VTkRdOiB7XG4gICAgdXNlckZyaWVuZGx5OiB7XG4gICAgICBlbjogJ1RoZSByZXF1ZXN0ZWQgcmVzb3VyY2UgY291bGQgbm90IGJlIGZvdW5kLicsXG4gICAgICBwdDogJ08gcmVjdXJzbyBzb2xpY2l0YWRvIG7Do28gZm9pIGVuY29udHJhZG8uJ1xuICAgIH0sXG4gICAgdGVjaG5pY2FsOiB7XG4gICAgICBlbjogJ0hUVFAgNDA0IC0gUmVzb3VyY2Ugbm90IGZvdW5kJyxcbiAgICAgIHB0OiAnSFRUUCA0MDQgLSBSZWN1cnNvIG7Do28gZW5jb250cmFkbydcbiAgICB9LFxuICAgIHJlY292ZXJ5OiB7XG4gICAgICBlbjogJ1RyeSBnb2luZyBiYWNrIG9yIHZpc2l0aW5nIG91ciBob21lcGFnZS4nLFxuICAgICAgcHQ6ICdUZW50ZSB2b2x0YXIgYXRyw6FzIG91IHZpc2l0YXIgYSBub3NzYSBww6FnaW5hIGluaWNpYWwuJ1xuICAgIH1cbiAgfSxcbiAgW0Vycm9yVHlwZS5TRVJWRVJfRVJST1JdOiB7XG4gICAgdXNlckZyaWVuZGx5OiB7XG4gICAgICBlbjogJ1NlcnZlciBlcnJvci4gUGxlYXNlIHRyeSBhZ2FpbiBpbiBhIGZldyBtb21lbnRzLicsXG4gICAgICBwdDogJ0Vycm8gZG8gc2Vydmlkb3IuIFRlbnRlIG5vdmFtZW50ZSBkZW50cm8gZGUgYWxndW5zIG1vbWVudG9zLidcbiAgICB9LFxuICAgIHRlY2huaWNhbDoge1xuICAgICAgZW46ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3Igb2NjdXJyZWQnLFxuICAgICAgcHQ6ICdPY29ycmV1IHVtIGVycm8gaW50ZXJubyBkbyBzZXJ2aWRvcidcbiAgICB9LFxuICAgIHJlY292ZXJ5OiB7XG4gICAgICBlbjogJ091ciB0ZWFtIGhhcyBiZWVuIG5vdGlmaWVkLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicsXG4gICAgICBwdDogJ0Egbm9zc2EgZXF1aXBhIGZvaSBub3RpZmljYWRhLiBUZW50ZSBub3ZhbWVudGUgbWFpcyB0YXJkZS4nXG4gICAgfVxuICB9LFxuICBbRXJyb3JUeXBlLkNMSUVOVF9FUlJPUl06IHtcbiAgICB1c2VyRnJpZW5kbHk6IHtcbiAgICAgIGVuOiAnUmVxdWVzdCBlcnJvci4gUGxlYXNlIGNoZWNrIHRoZSBkYXRhIGFuZCB0cnkgYWdhaW4uJyxcbiAgICAgIHB0OiAnRXJybyBuYSBzb2xpY2l0YcOnw6NvLiBWZXJpZmlxdWUgb3MgZGFkb3MgZSB0ZW50ZSBub3ZhbWVudGUuJ1xuICAgIH0sXG4gICAgdGVjaG5pY2FsOiB7XG4gICAgICBlbjogJ0NsaWVudCByZXF1ZXN0IGVycm9yICg0eHggc3RhdHVzIGNvZGUpJyxcbiAgICAgIHB0OiAnRXJybyBuYSBzb2xpY2l0YcOnw6NvIGRvIGNsaWVudGUgKGPDs2RpZ28gZGUgZXN0YWRvIDR4eCknXG4gICAgfSxcbiAgICByZWNvdmVyeToge1xuICAgICAgZW46ICdQbGVhc2UgcmV2aWV3IHlvdXIgaW5wdXQgYW5kIHRyeSBhZ2Fpbi4nLFxuICAgICAgcHQ6ICdQb3IgZmF2b3IsIHJldmVqYSBhIHN1YSBlbnRyYWRhIGUgdGVudGUgbm92YW1lbnRlLidcbiAgICB9XG4gIH0sXG4gIFtFcnJvclR5cGUuVU5LTk9XTl06IHtcbiAgICB1c2VyRnJpZW5kbHk6IHtcbiAgICAgIGVuOiAnQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZC4gUGxlYXNlIHRyeSBhZ2Fpbi4nLFxuICAgICAgcHQ6ICdPY29ycmV1IHVtIGVycm8gaW5lc3BlcmFkby4gVGVudGUgbm92YW1lbnRlLidcbiAgICB9LFxuICAgIHRlY2huaWNhbDoge1xuICAgICAgZW46ICdVbmhhbmRsZWQgZXJyb3Igd2l0aCB1bmtub3duIGNhdXNlJyxcbiAgICAgIHB0OiAnRXJybyBuw6NvIHRyYXRhZG8gY29tIGNhdXNhIGRlc2NvbmhlY2lkYSdcbiAgICB9LFxuICAgIHJlY292ZXJ5OiB7XG4gICAgICBlbjogJ0lmIHRoZSBwcm9ibGVtIHBlcnNpc3RzLCBwbGVhc2UgY29udGFjdCBzdXBwb3J0LicsXG4gICAgICBwdDogJ1NlIG8gcHJvYmxlbWEgcGVyc2lzdGlyLCBjb250YWN0ZSBvIHN1cG9ydGUuJ1xuICAgIH1cbiAgfVxufVxuXG4vLyBQb3J0dWd1ZXNlIGNvbW11bml0eS1zcGVjaWZpYyBlcnJvciBtZXNzYWdlc1xuZXhwb3J0IGNvbnN0IFBPUlRVR1VFU0VfRkVBVFVSRV9FUlJPUl9NRVNTQUdFUzogUmVjb3JkPHN0cmluZywgRXJyb3JNZXNzYWdlQ29uZmlnPiA9IHtcbiAgW1BPUlRVR1VFU0VfRVJST1JfQ09OVEVYVFMuQ1VMVFVSQUxfQ09OVEVOVF06IHtcbiAgICB1c2VyRnJpZW5kbHk6IHtcbiAgICAgIGVuOiAnVW5hYmxlIHRvIGxvYWQgUG9ydHVndWVzZSBjdWx0dXJhbCBjb250ZW50LiBQbGVhc2UgdHJ5IGFnYWluLicsXG4gICAgICBwdDogJ07Do28gZm9pIHBvc3PDrXZlbCBjYXJyZWdhciBvIGNvbnRlw7pkbyBjdWx0dXJhbCBwb3J0dWd1w6pzLiBUZW50ZSBub3ZhbWVudGUuJ1xuICAgIH0sXG4gICAgdGVjaG5pY2FsOiB7XG4gICAgICBlbjogJ1BvcnR1Z3Vlc2UgY3VsdHVyYWwgY29udGVudCBBUEkgZmFpbGVkIHRvIHJlc3BvbmQnLFxuICAgICAgcHQ6ICdBUEkgZGUgY29udGXDumRvIGN1bHR1cmFsIHBvcnR1Z3XDqnMgZmFsaG91IGVtIHJlc3BvbmRlcidcbiAgICB9LFxuICAgIHJlY292ZXJ5OiB7XG4gICAgICBlbjogJ1Nob3dpbmcgY2FjaGVkIGNvbnRlbnQgd2hpbGUgd2UgZml4IHRoaXMgaXNzdWUuJyxcbiAgICAgIHB0OiAnQSBtb3N0cmFyIGNvbnRlw7pkbyBlbSBjYWNoZSBlbnF1YW50byByZXNvbHZlbW9zIGVzdGEgcXVlc3TDo28uJ1xuICAgIH1cbiAgfSxcbiAgW1BPUlRVR1VFU0VfRVJST1JfQ09OVEVYVFMuQlVTSU5FU1NfRElSRUNUT1JZXToge1xuICAgIHVzZXJGcmllbmRseToge1xuICAgICAgZW46ICdQb3J0dWd1ZXNlIGJ1c2luZXNzIGRpcmVjdG9yeSBpcyB0ZW1wb3JhcmlseSB1bmF2YWlsYWJsZS4nLFxuICAgICAgcHQ6ICdPIGRpcmV0w7NyaW8gZGUgZW1wcmVzYXMgcG9ydHVndWVzYXMgZXN0w6EgdGVtcG9yYXJpYW1lbnRlIGluZGlzcG9uw612ZWwuJ1xuICAgIH0sXG4gICAgdGVjaG5pY2FsOiB7XG4gICAgICBlbjogJ0J1c2luZXNzIGRpcmVjdG9yeSBQb3N0R0lTIHF1ZXJ5IGZhaWxlZCBvciB0aW1lZCBvdXQnLFxuICAgICAgcHQ6ICdDb25zdWx0YSBQb3N0R0lTIGRvIGRpcmV0w7NyaW8gZGUgZW1wcmVzYXMgZmFsaG91IG91IGV4Y2VkZXUgbyB0ZW1wbydcbiAgICB9LFxuICAgIHJlY292ZXJ5OiB7XG4gICAgICBlbjogJ1RyeSBzZWFyY2hpbmcgd2l0aCBkaWZmZXJlbnQgY3JpdGVyaWEgb3IgY2hlY2sgYmFjayBzaG9ydGx5LicsXG4gICAgICBwdDogJ1RlbnRlIHBlc3F1aXNhciBjb20gY3JpdMOpcmlvcyBkaWZlcmVudGVzIG91IHZvbHRlIGVtIGJyZXZlLidcbiAgICB9XG4gIH0sXG4gIFtQT1JUVUdVRVNFX0VSUk9SX0NPTlRFWFRTLkxBTkdVQUdFX1NXSVRDSElOR106IHtcbiAgICB1c2VyRnJpZW5kbHk6IHtcbiAgICAgIGVuOiAnTGFuZ3VhZ2Ugc3dpdGNoaW5nIGlzIGV4cGVyaWVuY2luZyBpc3N1ZXMuJyxcbiAgICAgIHB0OiAnQSB0cm9jYSBkZSBpZGlvbWEgZXN0w6EgY29tIHByb2JsZW1hcy4nXG4gICAgfSxcbiAgICB0ZWNobmljYWw6IHtcbiAgICAgIGVuOiAnQmlsaW5ndWFsIGxhbmd1YWdlIGNvbnRleHQgZmFpbGVkIHRvIHVwZGF0ZScsXG4gICAgICBwdDogJ0NvbnRleHRvIGRlIGlkaW9tYSBiaWxpbmd1ZSBmYWxob3UgYW8gYXR1YWxpemFyJ1xuICAgIH0sXG4gICAgcmVjb3Zlcnk6IHtcbiAgICAgIGVuOiAnUmVmcmVzaGluZyBwYWdlIHRvIHJlc2V0IGxhbmd1YWdlIHNldHRpbmdzLi4uJyxcbiAgICAgIHB0OiAnQSBhdHVhbGl6YXIgcMOhZ2luYSBwYXJhIHJlcG9yIGNvbmZpZ3VyYcOnw7VlcyBkZSBpZGlvbWEuLi4nXG4gICAgfVxuICB9LFxuICBbUE9SVFVHVUVTRV9FUlJPUl9DT05URVhUUy5DSEFSQUNURVJfRU5DT0RJTkddOiB7XG4gICAgdXNlckZyaWVuZGx5OiB7XG4gICAgICBlbjogJ1BvcnR1Z3Vlc2UgY2hhcmFjdGVycyBhcmUgbm90IGRpc3BsYXlpbmcgY29ycmVjdGx5LicsXG4gICAgICBwdDogJ09zIGNhcmFjdGVyZXMgcG9ydHVndWVzZXMgbsOjbyBlc3TDo28gYSBzZXIgZXhpYmlkb3MgY29ycmV0YW1lbnRlLidcbiAgICB9LFxuICAgIHRlY2huaWNhbDoge1xuICAgICAgZW46ICdVVEYtOCBjaGFyYWN0ZXIgZW5jb2RpbmcgaXNzdWUgZGV0ZWN0ZWQgd2l0aCBQb3J0dWd1ZXNlIGRpYWNyaXRpY3MnLFxuICAgICAgcHQ6ICdQcm9ibGVtYSBkZSBjb2RpZmljYcOnw6NvIFVURi04IGRldGVjdGFkbyBjb20gZGlhY3LDrXRpY29zIHBvcnR1Z3Vlc2VzJ1xuICAgIH0sXG4gICAgcmVjb3Zlcnk6IHtcbiAgICAgIGVuOiAnUmVmcmVzaGluZyB0aGUgcGFnZSBtYXkgcmVzb2x2ZSB0aGlzIGRpc3BsYXkgaXNzdWUuJyxcbiAgICAgIHB0OiAnQXR1YWxpemFyIGEgcMOhZ2luYSBwb2RlIHJlc29sdmVyIGVzdGUgcHJvYmxlbWEgZGUgZXhpYmnDp8Ojby4nXG4gICAgfVxuICB9LFxuICBbUE9SVFVHVUVTRV9FUlJPUl9DT05URVhUUy5DVUxUVVJBTF9NQVRDSElOR106IHtcbiAgICB1c2VyRnJpZW5kbHk6IHtcbiAgICAgIGVuOiAnQ3VsdHVyYWwgbWF0Y2hpbmcgZmVhdHVyZSBpcyBjdXJyZW50bHkgdW5hdmFpbGFibGUuJyxcbiAgICAgIHB0OiAnQSBmdW5jaW9uYWxpZGFkZSBkZSBjb3JyZXNwb25kw6puY2lhIGN1bHR1cmFsIGVzdMOhIGluZGlzcG9uw612ZWwuJ1xuICAgIH0sXG4gICAgdGVjaG5pY2FsOiB7XG4gICAgICBlbjogJ0FJIGN1bHR1cmFsIG1hdGNoaW5nIGFsZ29yaXRobSB0aW1lZCBvdXQgb3IgZmFpbGVkJyxcbiAgICAgIHB0OiAnQWxnb3JpdG1vIGRlIGNvcnJlc3BvbmTDqm5jaWEgY3VsdHVyYWwgSUEgZXhwaXJvdSBvdSBmYWxob3UnXG4gICAgfSxcbiAgICByZWNvdmVyeToge1xuICAgICAgZW46ICdQbGVhc2UgdHJ5IGFnYWluIGxhdGVyIG9yIGJyb3dzZSBwcm9maWxlcyBtYW51YWxseS4nLFxuICAgICAgcHQ6ICdUZW50ZSBub3ZhbWVudGUgbWFpcyB0YXJkZSBvdSBuYXZlZ3VlIHBlbG9zIHBlcmZpcyBtYW51YWxtZW50ZS4nXG4gICAgfVxuICB9LFxuICBbUE9SVFVHVUVTRV9FUlJPUl9DT05URVhUUy5FVkVOVF9CT09LSU5HXToge1xuICAgIHVzZXJGcmllbmRseToge1xuICAgICAgZW46ICdVbmFibGUgdG8gY29tcGxldGUgZXZlbnQgYm9va2luZy4gUGxlYXNlIHRyeSBhZ2Fpbi4nLFxuICAgICAgcHQ6ICdOw6NvIGZvaSBwb3Nzw612ZWwgY29tcGxldGFyIGEgcmVzZXJ2YSBkbyBldmVudG8uIFRlbnRlIG5vdmFtZW50ZS4nXG4gICAgfSxcbiAgICB0ZWNobmljYWw6IHtcbiAgICAgIGVuOiAnTHVzb3Bob25lIGV2ZW50IGJvb2tpbmcgQVBJIHRyYW5zYWN0aW9uIGZhaWxlZCcsXG4gICAgICBwdDogJ1RyYW5zYcOnw6NvIGRhIEFQSSBkZSByZXNlcnZhIGRlIGV2ZW50b3MgbHVzw7Nmb25vcyBmYWxob3UnXG4gICAgfSxcbiAgICByZWNvdmVyeToge1xuICAgICAgZW46ICdZb3VyIHBheW1lbnQgd2FzIG5vdCBwcm9jZXNzZWQuIFlvdSBjYW4gc2FmZWx5IHRyeSBhZ2Fpbi4nLFxuICAgICAgcHQ6ICdPIHNldSBwYWdhbWVudG8gbsOjbyBmb2kgcHJvY2Vzc2Fkby4gUG9kZSB0ZW50YXIgbm92YW1lbnRlIGNvbSBzZWd1cmFuw6dhLidcbiAgICB9XG4gIH0sXG4gIFtQT1JUVUdVRVNFX0VSUk9SX0NPTlRFWFRTLlVOSVZFUlNJVFlfUEFSVE5FUlNISVBTXToge1xuICAgIHVzZXJGcmllbmRseToge1xuICAgICAgZW46ICdVbml2ZXJzaXR5IHBhcnRuZXJzaGlwIGZlYXR1cmVzIGFyZSBleHBlcmllbmNpbmcgaXNzdWVzLicsXG4gICAgICBwdDogJ0FzIGZ1bmNpb25hbGlkYWRlcyBkZSBwYXJjZXJpYXMgdW5pdmVyc2l0w6FyaWFzIGVzdMOjbyBjb20gcHJvYmxlbWFzLidcbiAgICB9LFxuICAgIHRlY2huaWNhbDoge1xuICAgICAgZW46ICdVbml2ZXJzaXR5IGludGVncmF0aW9uIEFQSSBmYWlsZWQgdG8gYXV0aGVudGljYXRlIG9yIHJlc3BvbmQnLFxuICAgICAgcHQ6ICdBUEkgZGUgaW50ZWdyYcOnw6NvIHVuaXZlcnNpdMOhcmlhIGZhbGhvdSBuYSBhdXRlbnRpY2HDp8OjbyBvdSByZXNwb3N0YSdcbiAgICB9LFxuICAgIHJlY292ZXJ5OiB7XG4gICAgICBlbjogJ1RyeSBhY2Nlc3NpbmcgdGhyb3VnaCB5b3VyIHVuaXZlcnNpdHkgcG9ydGFsIGRpcmVjdGx5LicsXG4gICAgICBwdDogJ1RlbnRlIGFjZWRlciBkaXJldGFtZW50ZSBhdHJhdsOpcyBkbyBwb3J0YWwgZGEgc3VhIHVuaXZlcnNpZGFkZS4nXG4gICAgfVxuICB9XG59XG5cbi8vIE1vYmlsZS1zcGVjaWZpYyBlcnJvciBtZXNzYWdlcyBmb3IgUG9ydHVndWVzZSB1c2Vyc1xuZXhwb3J0IGNvbnN0IE1PQklMRV9FUlJPUl9NRVNTQUdFUyA9IHtcbiAgT0ZGTElORToge1xuICAgIHVzZXJGcmllbmRseToge1xuICAgICAgZW46ICdZb3VcXCdyZSBjdXJyZW50bHkgb2ZmbGluZS4gU29tZSBmZWF0dXJlcyBtYXkgbm90IGJlIGF2YWlsYWJsZS4nLFxuICAgICAgcHQ6ICdFc3TDoSBhdHVhbG1lbnRlIG9mZmxpbmUuIEFsZ3VtYXMgZnVuY2lvbmFsaWRhZGVzIHBvZGVtIG7Do28gZXN0YXIgZGlzcG9uw612ZWlzLidcbiAgICB9LFxuICAgIHRlY2huaWNhbDoge1xuICAgICAgZW46ICdOZXR3b3JrIGNvbm5lY3Rpb24gbG9zdCAtIHVzaW5nIGNhY2hlZCBjb250ZW50JyxcbiAgICAgIHB0OiAnTGlnYcOnw6NvIGRlIHJlZGUgcGVyZGlkYSAtIHVzYW5kbyBjb250ZcO6ZG8gZW0gY2FjaGUnXG4gICAgfSxcbiAgICByZWNvdmVyeToge1xuICAgICAgZW46ICdDb25uZWN0IHRvIGludGVybmV0IHRvIGFjY2VzcyBhbGwgUG9ydHVndWVzZSBjb21tdW5pdHkgZmVhdHVyZXMuJyxcbiAgICAgIHB0OiAnTGlndWUtc2Ugw6AgaW50ZXJuZXQgcGFyYSBhY2VkZXIgYSB0b2RhcyBhcyBmdW5jaW9uYWxpZGFkZXMgZGEgY29tdW5pZGFkZSBwb3J0dWd1ZXNhLidcbiAgICB9XG4gIH0sXG4gIFNMT1dfQ09OTkVDVElPTjoge1xuICAgIHVzZXJGcmllbmRseToge1xuICAgICAgZW46ICdTbG93IGNvbm5lY3Rpb24gZGV0ZWN0ZWQuIExvYWRpbmcgZXNzZW50aWFsIGNvbnRlbnQgZmlyc3QuJyxcbiAgICAgIHB0OiAnTGlnYcOnw6NvIGxlbnRhIGRldGVjdGFkYS4gQSBjYXJyZWdhciBwcmltZWlybyBvIGNvbnRlw7pkbyBlc3NlbmNpYWwuJ1xuICAgIH0sXG4gICAgdGVjaG5pY2FsOiB7XG4gICAgICBlbjogJ05ldHdvcmsgc3BlZWQgYmVsb3cgb3B0aW1hbCB0aHJlc2hvbGQnLFxuICAgICAgcHQ6ICdWZWxvY2lkYWRlIGRhIHJlZGUgYWJhaXhvIGRvIGxpbWl0ZSBpZGVhbCdcbiAgICB9LFxuICAgIHJlY292ZXJ5OiB7XG4gICAgICBlbjogJ1BvcnR1Z3Vlc2UgY3VsdHVyYWwgY29udGVudCB3aWxsIGxvYWQgcHJvZ3Jlc3NpdmVseS4nLFxuICAgICAgcHQ6ICdPIGNvbnRlw7pkbyBjdWx0dXJhbCBwb3J0dWd1w6pzIHNlcsOhIGNhcnJlZ2FkbyBwcm9ncmVzc2l2YW1lbnRlLidcbiAgICB9XG4gIH0sXG4gIFRPVUNIX1RBUkdFVF9FUlJPUjoge1xuICAgIHVzZXJGcmllbmRseToge1xuICAgICAgZW46ICdCdXR0b24gdGFwIG5vdCByZWdpc3RlcmVkLiBQbGVhc2UgdHJ5IGFnYWluLicsXG4gICAgICBwdDogJ1RvcXVlIG5vIGJvdMOjbyBuw6NvIGZvaSByZWdpc3RhZG8uIFRlbnRlIG5vdmFtZW50ZS4nXG4gICAgfSxcbiAgICB0ZWNobmljYWw6IHtcbiAgICAgIGVuOiAnVG91Y2ggZXZlbnQgaGFuZGxlciBmYWlsZWQgb3IgZWxlbWVudCB0b28gc21hbGwnLFxuICAgICAgcHQ6ICdNYW5pcHVsYWRvciBkZSBldmVudG8gZGUgdG9xdWUgZmFsaG91IG91IGVsZW1lbnRvIG11aXRvIHBlcXVlbm8nXG4gICAgfSxcbiAgICByZWNvdmVyeToge1xuICAgICAgZW46ICdUcnkgdGFwcGluZyBzbGlnaHRseSBoaWdoZXIgb3IgdXNpbmcgbGFuZHNjYXBlIG1vZGUuJyxcbiAgICAgIHB0OiAnVGVudGUgdG9jYXIgdW0gcG91Y28gbWFpcyBhY2ltYSBvdSB1c2FyIG1vZG8gcGFpc2FnZW0uJ1xuICAgIH1cbiAgfVxufVxuXG4vLyBFcnJvciBtZXNzYWdlIGhlbHBlciBmdW5jdGlvbnNcbmV4cG9ydCBmdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UoXG4gIGVycm9yVHlwZTogRXJyb3JUeXBlIHwgc3RyaW5nLCBcbiAgbGFuZ3VhZ2U6ICdlbicgfCAncHQnID0gJ2VuJyxcbiAgbWVzc2FnZVR5cGU6ICd1c2VyRnJpZW5kbHknIHwgJ3RlY2huaWNhbCcgfCAncmVjb3ZlcnknID0gJ3VzZXJGcmllbmRseSdcbik6IHN0cmluZyB7XG4gIC8vIENoZWNrIFBvcnR1Z3Vlc2Utc3BlY2lmaWMgY29udGV4dHMgZmlyc3RcbiAgY29uc3QgcG9ydHVnYWxDb250ZXh0ID0gUE9SVFVHVUVTRV9GRUFUVVJFX0VSUk9SX01FU1NBR0VTW2Vycm9yVHlwZV1cbiAgaWYgKHBvcnR1Z2FsQ29udGV4dCkge1xuICAgIHJldHVybiBwb3J0dWdhbENvbnRleHRbbWVzc2FnZVR5cGVdW2xhbmd1YWdlXVxuICB9XG5cbiAgLy8gQ2hlY2sgbW9iaWxlLXNwZWNpZmljIGVycm9yc1xuICBjb25zdCBtb2JpbGVDb250ZXh0ID0gKE1PQklMRV9FUlJPUl9NRVNTQUdFUyBhcyBhbnkpW2Vycm9yVHlwZV1cbiAgaWYgKG1vYmlsZUNvbnRleHQpIHtcbiAgICByZXR1cm4gbW9iaWxlQ29udGV4dFttZXNzYWdlVHlwZV1bbGFuZ3VhZ2VdXG4gIH1cblxuICAvLyBGYWxsIGJhY2sgdG8gZ2VuZXJhbCBlcnJvciBtZXNzYWdlc1xuICBjb25zdCBnZW5lcmFsRXJyb3IgPSBHRU5FUkFMX0VSUk9SX01FU1NBR0VTW2Vycm9yVHlwZSBhcyBFcnJvclR5cGVdXG4gIGlmIChnZW5lcmFsRXJyb3IpIHtcbiAgICByZXR1cm4gZ2VuZXJhbEVycm9yW21lc3NhZ2VUeXBlXVtsYW5ndWFnZV1cbiAgfVxuXG4gIC8vIFVsdGltYXRlIGZhbGxiYWNrXG4gIGNvbnN0IGZhbGxiYWNrTWVzc2FnZXMgPSB7XG4gICAgdXNlckZyaWVuZGx5OiB7XG4gICAgICBlbjogJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQuIFBsZWFzZSB0cnkgYWdhaW4uJyxcbiAgICAgIHB0OiAnT2NvcnJldSB1bSBlcnJvIGluZXNwZXJhZG8uIFRlbnRlIG5vdmFtZW50ZS4nXG4gICAgfSxcbiAgICB0ZWNobmljYWw6IHtcbiAgICAgIGVuOiAnVW5oYW5kbGVkIGVycm9yIG9jY3VycmVkJyxcbiAgICAgIHB0OiAnT2NvcnJldSB1bSBlcnJvIG7Do28gdHJhdGFkbydcbiAgICB9LFxuICAgIHJlY292ZXJ5OiB7XG4gICAgICBlbjogJ1BsZWFzZSByZWZyZXNoIHRoZSBwYWdlIG9yIGNvbnRhY3Qgc3VwcG9ydC4nLFxuICAgICAgcHQ6ICdBdHVhbGl6ZSBhIHDDoWdpbmEgb3UgY29udGFjdGUgbyBzdXBvcnRlLidcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsbGJhY2tNZXNzYWdlc1ttZXNzYWdlVHlwZV1bbGFuZ3VhZ2VdXG59XG5cbi8vIEdldCBjb250ZXh0dWFsIGVycm9yIG1lc3NhZ2VzIHdpdGggUG9ydHVndWVzZSBjdWx0dXJhbCBzZW5zaXRpdml0eVxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRleHR1YWxFcnJvck1lc3NhZ2UoXG4gIGVycm9yOiBhbnksXG4gIGNvbnRleHQ6IHtcbiAgICBpc1BvcnR1Z3Vlc2VGZWF0dXJlPzogYm9vbGVhblxuICAgIGlzTW9iaWxlPzogYm9vbGVhblxuICAgIGxhbmd1YWdlPzogJ2VuJyB8ICdwdCdcbiAgICB1c2VyQWN0aW9uPzogc3RyaW5nXG4gIH0gPSB7fVxuKTogQmlsaW5ndWFsRXJyb3JNZXNzYWdlIHtcbiAgY29uc3QgbGFuZ3VhZ2UgPSBjb250ZXh0Lmxhbmd1YWdlIHx8ICdlbidcbiAgXG4gIC8vIERldGVybWluZSBlcnJvciB0eXBlIGFuZCBjb250ZXh0XG4gIGxldCBlcnJvclR5cGUgPSBFcnJvclR5cGUuVU5LTk9XTlxuICBsZXQgZXJyb3JDb250ZXh0ID0gJ3Vua25vd24nXG5cbiAgaWYgKGVycm9yPy50eXBlKSB7XG4gICAgZXJyb3JUeXBlID0gZXJyb3IudHlwZVxuICB9IGVsc2UgaWYgKGVycm9yPy5zdGF0dXMpIHtcbiAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDEpIGVycm9yVHlwZSA9IEVycm9yVHlwZS5BVVRIRU5USUNBVElPTlxuICAgIGVsc2UgaWYgKGVycm9yLnN0YXR1cyA9PT0gNDAzKSBlcnJvclR5cGUgPSBFcnJvclR5cGUuQVVUSE9SSVpBVElPTlxuICAgIGVsc2UgaWYgKGVycm9yLnN0YXR1cyA9PT0gNDA0KSBlcnJvclR5cGUgPSBFcnJvclR5cGUuTk9UX0ZPVU5EXG4gICAgZWxzZSBpZiAoZXJyb3Iuc3RhdHVzID49IDUwMCkgZXJyb3JUeXBlID0gRXJyb3JUeXBlLlNFUlZFUl9FUlJPUlxuICAgIGVsc2UgaWYgKGVycm9yLnN0YXR1cyA+PSA0MDApIGVycm9yVHlwZSA9IEVycm9yVHlwZS5DTElFTlRfRVJST1JcbiAgfSBlbHNlIGlmIChlcnJvcj8ubmFtZSA9PT0gJ05ldHdvcmtFcnJvcicgfHwgZXJyb3I/Lm1lc3NhZ2U/LmluY2x1ZGVzKCdmZXRjaCcpKSB7XG4gICAgZXJyb3JUeXBlID0gRXJyb3JUeXBlLk5FVFdPUktcbiAgfVxuXG4gIC8vIEFkZCBQb3J0dWd1ZXNlIGNvbnRleHQgaWYgdGhpcyBpcyBhIFBvcnR1Z3Vlc2UgZmVhdHVyZVxuICBpZiAoY29udGV4dC5pc1BvcnR1Z3Vlc2VGZWF0dXJlKSB7XG4gICAgZXJyb3JDb250ZXh0ID0gY29udGV4dC51c2VyQWN0aW9uIHx8IFBPUlRVR1VFU0VfRVJST1JfQ09OVEVYVFMuQ1VMVFVSQUxfQ09OVEVOVFxuICB9XG5cbiAgY29uc3QgdXNlck1lc3NhZ2UgPSBnZXRFcnJvck1lc3NhZ2UoXG4gICAgZXJyb3JDb250ZXh0ICE9PSAndW5rbm93bicgPyBlcnJvckNvbnRleHQgOiBlcnJvclR5cGUsXG4gICAgbGFuZ3VhZ2UsXG4gICAgJ3VzZXJGcmllbmRseSdcbiAgKVxuXG4gIGNvbnN0IHJlY292ZXJ5TWVzc2FnZSA9IGdldEVycm9yTWVzc2FnZShcbiAgICBlcnJvckNvbnRleHQgIT09ICd1bmtub3duJyA/IGVycm9yQ29udGV4dCA6IGVycm9yVHlwZSxcbiAgICBsYW5ndWFnZSxcbiAgICAncmVjb3ZlcnknXG4gIClcblxuICByZXR1cm4ge1xuICAgIGVuOiBjb250ZXh0Lmxhbmd1YWdlID09PSAncHQnID8gXG4gICAgICBnZXRFcnJvck1lc3NhZ2UoZXJyb3JDb250ZXh0ICE9PSAndW5rbm93bicgPyBlcnJvckNvbnRleHQgOiBlcnJvclR5cGUsICdlbicsICd1c2VyRnJpZW5kbHknKSA6IFxuICAgICAgdXNlck1lc3NhZ2UsXG4gICAgcHQ6IGNvbnRleHQubGFuZ3VhZ2UgPT09ICdlbicgPyBcbiAgICAgIGdldEVycm9yTWVzc2FnZShlcnJvckNvbnRleHQgIT09ICd1bmtub3duJyA/IGVycm9yQ29udGV4dCA6IGVycm9yVHlwZSwgJ3B0JywgJ3VzZXJGcmllbmRseScpIDogXG4gICAgICB1c2VyTWVzc2FnZVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgR0VORVJBTF9FUlJPUl9NRVNTQUdFUyxcbiAgUE9SVFVHVUVTRV9GRUFUVVJFX0VSUk9SX01FU1NBR0VTLFxuICBNT0JJTEVfRVJST1JfTUVTU0FHRVMsXG4gIGdldEVycm9yTWVzc2FnZSxcbiAgZ2V0Q29udGV4dHVhbEVycm9yTWVzc2FnZVxufVxuIl0sIm5hbWVzIjpbIkdFTkVSQUxfRVJST1JfTUVTU0FHRVMiLCJNT0JJTEVfRVJST1JfTUVTU0FHRVMiLCJQT1JUVUdVRVNFX0ZFQVRVUkVfRVJST1JfTUVTU0FHRVMiLCJnZXRDb250ZXh0dWFsRXJyb3JNZXNzYWdlIiwiZ2V0RXJyb3JNZXNzYWdlIiwiRXJyb3JUeXBlIiwiQVVUSEVOVElDQVRJT04iLCJ1c2VyRnJpZW5kbHkiLCJlbiIsInB0IiwidGVjaG5pY2FsIiwicmVjb3ZlcnkiLCJBVVRIT1JJWkFUSU9OIiwiTkVUV09SSyIsIlZBTElEQVRJT04iLCJOT1RfRk9VTkQiLCJTRVJWRVJfRVJST1IiLCJDTElFTlRfRVJST1IiLCJVTktOT1dOIiwiUE9SVFVHVUVTRV9FUlJPUl9DT05URVhUUyIsIkNVTFRVUkFMX0NPTlRFTlQiLCJCVVNJTkVTU19ESVJFQ1RPUlkiLCJMQU5HVUFHRV9TV0lUQ0hJTkciLCJDSEFSQUNURVJfRU5DT0RJTkciLCJDVUxUVVJBTF9NQVRDSElORyIsIkVWRU5UX0JPT0tJTkciLCJVTklWRVJTSVRZX1BBUlRORVJTSElQUyIsIk9GRkxJTkUiLCJTTE9XX0NPTk5FQ1RJT04iLCJUT1VDSF9UQVJHRVRfRVJST1IiLCJlcnJvclR5cGUiLCJsYW5ndWFnZSIsIm1lc3NhZ2VUeXBlIiwicG9ydHVnYWxDb250ZXh0IiwibW9iaWxlQ29udGV4dCIsImdlbmVyYWxFcnJvciIsImZhbGxiYWNrTWVzc2FnZXMiLCJlcnJvciIsImNvbnRleHQiLCJlcnJvckNvbnRleHQiLCJ0eXBlIiwic3RhdHVzIiwibmFtZSIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsImlzUG9ydHVndWVzZUZlYXR1cmUiLCJ1c2VyQWN0aW9uIiwidXNlck1lc3NhZ2UiLCJyZWNvdmVyeU1lc3NhZ2UiXSwibWFwcGluZ3MiOiJBQUFBOzs7Q0FHQzs7Ozs7Ozs7Ozs7SUFpQllBLHNCQUFzQjtlQUF0QkE7O0lBME5BQyxxQkFBcUI7ZUFBckJBOztJQXRHQUMsaUNBQWlDO2VBQWpDQTs7SUFxUGIsT0FNQztlQU5EOztJQXREZ0JDLHlCQUF5QjtlQUF6QkE7O0lBM0NBQyxlQUFlO2VBQWZBOzs7K0JBdlJVO2lDQUNnQjtBQWNuQyxNQUFNSix5QkFBZ0U7SUFDM0UsQ0FBQ0ssd0JBQVMsQ0FBQ0MsY0FBYyxDQUFDLEVBQUU7UUFDMUJDLGNBQWM7WUFDWkMsSUFBSTtZQUNKQyxJQUFJO1FBQ047UUFDQUMsV0FBVztZQUNURixJQUFJO1lBQ0pDLElBQUk7UUFDTjtRQUNBRSxVQUFVO1lBQ1JILElBQUk7WUFDSkMsSUFBSTtRQUNOO0lBQ0Y7SUFDQSxDQUFDSix3QkFBUyxDQUFDTyxhQUFhLENBQUMsRUFBRTtRQUN6QkwsY0FBYztZQUNaQyxJQUFJO1lBQ0pDLElBQUk7UUFDTjtRQUNBQyxXQUFXO1lBQ1RGLElBQUk7WUFDSkMsSUFBSTtRQUNOO1FBQ0FFLFVBQVU7WUFDUkgsSUFBSTtZQUNKQyxJQUFJO1FBQ047SUFDRjtJQUNBLENBQUNKLHdCQUFTLENBQUNRLE9BQU8sQ0FBQyxFQUFFO1FBQ25CTixjQUFjO1lBQ1pDLElBQUk7WUFDSkMsSUFBSTtRQUNOO1FBQ0FDLFdBQVc7WUFDVEYsSUFBSTtZQUNKQyxJQUFJO1FBQ047UUFDQUUsVUFBVTtZQUNSSCxJQUFJO1lBQ0pDLElBQUk7UUFDTjtJQUNGO0lBQ0EsQ0FBQ0osd0JBQVMsQ0FBQ1MsVUFBVSxDQUFDLEVBQUU7UUFDdEJQLGNBQWM7WUFDWkMsSUFBSTtZQUNKQyxJQUFJO1FBQ047UUFDQUMsV0FBVztZQUNURixJQUFJO1lBQ0pDLElBQUk7UUFDTjtRQUNBRSxVQUFVO1lBQ1JILElBQUk7WUFDSkMsSUFBSTtRQUNOO0lBQ0Y7SUFDQSxD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