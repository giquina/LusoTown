188ea12468a53c8792a75fa1d619fdab
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _NetworkingContext = require("../../src/context/NetworkingContext");
const _testutils = require("../utils/test-utils");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock localStorage with proper Jest mock types
const localStorageMock = {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn(),
    clear: jest.fn(),
    length: 0,
    key: jest.fn()
};
global.localStorage = localStorageMock;
describe("NetworkingContext", ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        localStorageMock.getItem.mockReturnValue(null);
    });
    const wrapper = ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)(_NetworkingContext.NetworkingProvider, {
            children: children
        });
    it("should provide networking context", ()=>{
        const { result } = (0, _react1.renderHook)(()=>(0, _NetworkingContext.useNetworking)(), {
            wrapper
        });
        expect(result.current).toBeDefined();
        expect(result.current.connections).toBeDefined();
        expect(result.current.isLoading).toBe(false);
    });
    it("should handle mock connections data", ()=>{
        localStorageMock.getItem.mockImplementation((key)=>{
            if (key === "lusotown-connections") {
                return JSON.stringify(_testutils.portugueseTestUtils.mockPortugueseConnections);
            }
            return null;
        });
        const { result } = (0, _react1.renderHook)(()=>(0, _NetworkingContext.useNetworking)(), {
            wrapper
        });
        expect(result.current).toBeDefined();
        expect(Array.isArray(result.current.connections)).toBe(true);
    });
    it("should handle connection filtering", ()=>{
        localStorageMock.getItem.mockImplementation((key)=>{
            if (key === "lusotown-connections") {
                return JSON.stringify(_testutils.portugueseTestUtils.mockPortugueseConnections);
            }
            return null;
        });
        const { result } = (0, _react1.renderHook)(()=>(0, _NetworkingContext.useNetworking)(), {
            wrapper
        });
        (0, _react1.act)(()=>{
            // Test filtering functionality if available
            if (typeof result.current.filterConnections === "function") {
                result.current.filterConnections("premium");
            }
        });
        expect(result.current).toBeDefined();
    });
    it("should handle connection strength updates", ()=>{
        localStorageMock.getItem.mockImplementation((key)=>{
            if (key === "lusotown-connections") {
                return JSON.stringify(_testutils.portugueseTestUtils.mockPortugueseConnections);
            }
            return null;
        });
        const { result } = (0, _react1.renderHook)(()=>(0, _NetworkingContext.useNetworking)(), {
            wrapper
        });
        (0, _react1.act)(()=>{
            // Test connection updates if available
            if (typeof result.current.updateConnectionStrength === "function") {
                result.current.updateConnectionStrength("conn-1", 9.0);
            }
        });
        expect(result.current).toBeDefined();
    });
    it("should handle privacy settings", ()=>{
        localStorageMock.getItem.mockImplementation((key)=>{
            if (key === "lusotown-privacy-settings") {
                return JSON.stringify({
                    level: "normal"
                });
            }
            return null;
        });
        const { result } = (0, _react1.renderHook)(()=>(0, _NetworkingContext.useNetworking)(), {
            wrapper
        });
        expect(result.current).toBeDefined();
    });
    // Portuguese community specific tests
    it("should support Portuguese-speaking community connections", ()=>{
        const mockConnection = _testutils.portugueseTestUtils.mockPortugueseConnections[0];
        expect(mockConnection.connectedUser?.firstName).toBe("Maria");
        expect(mockConnection.connectedUser?.lastName).toBe("Santos");
        expect(mockConnection.connectionStrength).toBeGreaterThan(8);
    });
    it("should handle cultural events integration", ()=>{
        localStorageMock.getItem.mockImplementation((key)=>{
            if (key === "lusotown-cultural-events") {
                return JSON.stringify(_testutils.portugueseTestUtils.mockCulturalEvents);
            }
            return null;
        });
        const { result } = (0, _react1.renderHook)(()=>(0, _NetworkingContext.useNetworking)(), {
            wrapper
        });
        expect(result.current).toBeDefined();
    });
    // Test error handling
    it("should handle localStorage errors gracefully", ()=>{
        localStorageMock.getItem.mockImplementation(()=>{
            throw new Error("localStorage error");
        });
        const { result } = (0, _react1.renderHook)(()=>(0, _NetworkingContext.useNetworking)(), {
            wrapper
        });
        expect(result.current).toBeDefined();
        expect(result.current.isLoading).toBe(false);
    });
    // Test subscription integration
    it("should integrate with premium subscriptions", ()=>{
        localStorageMock.getItem.mockImplementation((key)=>{
            if (key === "lusotown-subscription") {
                return JSON.stringify(_testutils.portugueseTestUtils.mockPremiumSubscription);
            }
            return null;
        });
        const { result } = (0, _react1.renderHook)(()=>(0, _NetworkingContext.useNetworking)(), {
            wrapper
        });
        expect(result.current).toBeDefined();
    });
    // Test connection management
    it("should handle connection requests", ()=>{
        const { result } = (0, _react1.renderHook)(()=>(0, _NetworkingContext.useNetworking)(), {
            wrapper
        });
        (0, _react1.act)(()=>{
            if (typeof result.current.sendConnectionRequest === "function") {
                result.current.sendConnectionRequest("user-123");
            }
        });
        expect(result.current).toBeDefined();
    });
    it("should handle connection acceptance", ()=>{
        const { result } = (0, _react1.renderHook)(()=>(0, _NetworkingContext.useNetworking)(), {
            wrapper
        });
        (0, _react1.act)(()=>{
            if (typeof result.current.acceptConnection === "function") {
                result.current.acceptConnection("request-123");
            }
        });
        expect(result.current).toBeDefined();
    });
    it("should handle connection removal", ()=>{
        const { result } = (0, _react1.renderHook)(()=>(0, _NetworkingContext.useNetworking)(), {
            wrapper
        });
        (0, _react1.act)(()=>{
            if (typeof result.current.removeConnection === "function") {
                result.current.removeConnection("conn-1");
            }
        });
        expect(result.current).toBeDefined();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi93b3Jrc3BhY2VzL0x1c29Ub3duL3dlYi1hcHAvX190ZXN0c19fL2NvbnRleHRzL05ldHdvcmtpbmdDb250ZXh0LnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHJlbmRlckhvb2ssIGFjdCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnXG5pbXBvcnQgeyBOZXR3b3JraW5nUHJvdmlkZXIsIHVzZU5ldHdvcmtpbmcgfSBmcm9tICdAL2NvbnRleHQvTmV0d29ya2luZ0NvbnRleHQnXG5pbXBvcnQgeyBwb3J0dWd1ZXNlVGVzdFV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvdGVzdC11dGlscydcblxuLy8gTW9jayBsb2NhbFN0b3JhZ2Ugd2l0aCBwcm9wZXIgSmVzdCBtb2NrIHR5cGVzXG5jb25zdCBsb2NhbFN0b3JhZ2VNb2NrID0ge1xuICBnZXRJdGVtOiBqZXN0LmZuKCkgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjxTdG9yYWdlWydnZXRJdGVtJ10+LFxuICBzZXRJdGVtOiBqZXN0LmZuKCkgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjxTdG9yYWdlWydzZXRJdGVtJ10+LFxuICByZW1vdmVJdGVtOiBqZXN0LmZuKCkgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjxTdG9yYWdlWydyZW1vdmVJdGVtJ10+LFxuICBjbGVhcjogamVzdC5mbigpIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248U3RvcmFnZVsnY2xlYXInXT4sXG4gIGxlbmd0aDogMCxcbiAga2V5OiBqZXN0LmZuKCkgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjxTdG9yYWdlWydrZXknXT5cbn0gYXMgU3RvcmFnZVxuXG5nbG9iYWwubG9jYWxTdG9yYWdlID0gbG9jYWxTdG9yYWdlTW9ja1xuXG5kZXNjcmliZSgnTmV0d29ya2luZ0NvbnRleHQnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpXG4gICAgbG9jYWxTdG9yYWdlTW9jay5nZXRJdGVtLm1vY2tSZXR1cm5WYWx1ZShudWxsKVxuICB9KVxuXG4gIGNvbnN0IHdyYXBwZXIgPSAoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfSkgPT4gKFxuICAgIDxOZXR3b3JraW5nUHJvdmlkZXI+e2NoaWxkcmVufTwvTmV0d29ya2luZ1Byb3ZpZGVyPlxuICApXG5cbiAgaXQoJ3Nob3VsZCBwcm92aWRlIG5ldHdvcmtpbmcgY29udGV4dCcsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VOZXR3b3JraW5nKCksIHsgd3JhcHBlciB9KVxuICAgIFxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudCkudG9CZURlZmluZWQoKVxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jb25uZWN0aW9ucykudG9CZURlZmluZWQoKVxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc0xvYWRpbmcpLnRvQmUoZmFsc2UpXG4gIH0pXG5cbiAgaXQoJ3Nob3VsZCBoYW5kbGUgbW9jayBjb25uZWN0aW9ucyBkYXRhJywgKCkgPT4ge1xuICAgIGxvY2FsU3RvcmFnZU1vY2suZ2V0SXRlbS5tb2NrSW1wbGVtZW50YXRpb24oKGtleTogc3RyaW5nKSA9PiB7XG4gICAgICBpZiAoa2V5ID09PSAnbHVzb3Rvd24tY29ubmVjdGlvbnMnKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShwb3J0dWd1ZXNlVGVzdFV0aWxzLm1vY2tQb3J0dWd1ZXNlQ29ubmVjdGlvbnMpXG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH0pXG5cbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VOZXR3b3JraW5nKCksIHsgd3JhcHBlciB9KVxuICAgIFxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudCkudG9CZURlZmluZWQoKVxuICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5jdXJyZW50LmNvbm5lY3Rpb25zKSkudG9CZSh0cnVlKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgaGFuZGxlIGNvbm5lY3Rpb24gZmlsdGVyaW5nJywgKCkgPT4ge1xuICAgIGxvY2FsU3RvcmFnZU1vY2suZ2V0SXRlbS5tb2NrSW1wbGVtZW50YXRpb24oKGtleTogc3RyaW5nKSA9PiB7XG4gICAgICBpZiAoa2V5ID09PSAnbHVzb3Rvd24tY29ubmVjdGlvbnMnKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShwb3J0dWd1ZXNlVGVzdFV0aWxzLm1vY2tQb3J0dWd1ZXNlQ29ubmVjdGlvbnMpXG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH0pXG5cbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VOZXR3b3JraW5nKCksIHsgd3JhcHBlciB9KVxuICAgIFxuICAgIGFjdCgoKSA9PiB7XG4gICAgICAvLyBUZXN0IGZpbHRlcmluZyBmdW5jdGlvbmFsaXR5IGlmIGF2YWlsYWJsZVxuICAgICAgaWYgKHR5cGVvZiByZXN1bHQuY3VycmVudC5maWx0ZXJDb25uZWN0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXN1bHQuY3VycmVudC5maWx0ZXJDb25uZWN0aW9ucygncHJlbWl1bScpXG4gICAgICB9XG4gICAgfSlcblxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudCkudG9CZURlZmluZWQoKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgaGFuZGxlIGNvbm5lY3Rpb24gc3RyZW5ndGggdXBkYXRlcycsICgpID0+IHtcbiAgICBsb2NhbFN0b3JhZ2VNb2NrLmdldEl0ZW0ubW9ja0ltcGxlbWVudGF0aW9uKChrZXk6IHN0cmluZykgPT4ge1xuICAgICAgaWYgKGtleSA9PT0gJ2x1c290b3duLWNvbm5lY3Rpb25zJykge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocG9ydHVndWVzZVRlc3RVdGlscy5tb2NrUG9ydHVndWVzZUNvbm5lY3Rpb25zKVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9KVxuXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTmV0d29ya2luZygpLCB7IHdyYXBwZXIgfSlcbiAgICBcbiAgICBhY3QoKCkgPT4ge1xuICAgICAgLy8gVGVzdCBjb25uZWN0aW9uIHVwZGF0ZXMgaWYgYXZhaWxhYmxlXG4gICAgICBpZiAodHlwZW9mIHJlc3VsdC5jdXJyZW50LnVwZGF0ZUNvbm5lY3Rpb25TdHJlbmd0aCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXN1bHQuY3VycmVudC51cGRhdGVDb25uZWN0aW9uU3RyZW5ndGgoJ2Nvbm4tMScsIDkuMClcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50KS50b0JlRGVmaW5lZCgpXG4gIH0pXG5cbiAgaXQoJ3Nob3VsZCBoYW5kbGUgcHJpdmFjeSBzZXR0aW5ncycsICgpID0+IHtcbiAgICBsb2NhbFN0b3JhZ2VNb2NrLmdldEl0ZW0ubW9ja0ltcGxlbWVudGF0aW9uKChrZXk6IHN0cmluZykgPT4ge1xuICAgICAgaWYgKGtleSA9PT0gJ2x1c290b3duLXByaXZhY3ktc2V0dGluZ3MnKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7IGxldmVsOiAnbm9ybWFsJyB9KVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9KVxuXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTmV0d29ya2luZygpLCB7IHdyYXBwZXIgfSlcbiAgICBcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQpLnRvQmVEZWZpbmVkKClcbiAgfSlcblxuICAvLyBQb3J0dWd1ZXNlIGNvbW11bml0eSBzcGVjaWZpYyB0ZXN0c1xuICBpdCgnc2hvdWxkIHN1cHBvcnQgUG9ydHVndWVzZS1zcGVha2luZyBjb21tdW5pdHkgY29ubmVjdGlvbnMnLCAoKSA9PiB7XG4gICAgY29uc3QgbW9ja0Nvbm5lY3Rpb24gPSBwb3J0dWd1ZXNlVGVzdFV0aWxzLm1vY2tQb3J0dWd1ZXNlQ29ubmVjdGlvbnNbMF1cbiAgICBcbiAgICBleHBlY3QobW9ja0Nvbm5lY3Rpb24uY29ubmVjdGVkVXNlcj8uZmlyc3ROYW1lKS50b0JlKCdNYXJpYScpXG4gICAgZXhwZWN0KG1vY2tDb25uZWN0aW9uLmNvbm5lY3RlZFVzZXI/Lmxhc3ROYW1lKS50b0JlKCdTYW50b3MnKVxuICAgIGV4cGVjdChtb2NrQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RyZW5ndGgpLnRvQmVHcmVhdGVyVGhhbig4KVxuICB9KVxuXG4gIGl0KCdzaG91bGQgaGFuZGxlIGN1bHR1cmFsIGV2ZW50cyBpbnRlZ3JhdGlvbicsICgpID0+IHtcbiAgICBsb2NhbFN0b3JhZ2VNb2NrLmdldEl0ZW0ubW9ja0ltcGxlbWVudGF0aW9uKChrZXk6IHN0cmluZykgPT4ge1xuICAgICAgaWYgKGtleSA9PT0gJ2x1c290b3duLWN1bHR1cmFsLWV2ZW50cycpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHBvcnR1Z3Vlc2VUZXN0VXRpbHMubW9ja0N1bHR1cmFsRXZlbnRzKVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9KVxuXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTmV0d29ya2luZygpLCB7IHdyYXBwZXIgfSlcbiAgICBcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQpLnRvQmVEZWZpbmVkKClcbiAgfSlcblxuICAvLyBUZXN0IGVycm9yIGhhbmRsaW5nXG4gIGl0KCdzaG91bGQgaGFuZGxlIGxvY2FsU3RvcmFnZSBlcnJvcnMgZ3JhY2VmdWxseScsICgpID0+IHtcbiAgICBsb2NhbFN0b3JhZ2VNb2NrLmdldEl0ZW0ubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignbG9jYWxTdG9yYWdlIGVycm9yJylcbiAgICB9KVxuXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTmV0d29ya2luZygpLCB7IHdyYXBwZXIgfSlcbiAgICBcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQpLnRvQmVEZWZpbmVkKClcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNMb2FkaW5nKS50b0JlKGZhbHNlKVxuICB9KVxuXG4gIC8vIFRlc3Qgc3Vic2NyaXB0aW9uIGludGVncmF0aW9uXG4gIGl0KCdzaG91bGQgaW50ZWdyYXRlIHdpdGggcHJlbWl1bSBzdWJzY3JpcHRpb25zJywgKCkgPT4ge1xuICAgIGxvY2FsU3RvcmFnZU1vY2suZ2V0SXRlbS5tb2NrSW1wbGVtZW50YXRpb24oKGtleTogc3RyaW5nKSA9PiB7XG4gICAgICBpZiAoa2V5ID09PSAnbHVzb3Rvd24tc3Vic2NyaXB0aW9uJykge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocG9ydHVndWVzZVRlc3RVdGlscy5tb2NrUHJlbWl1bVN1YnNjcmlwdGlvbilcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsXG4gICAgfSlcblxuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZU5ldHdvcmtpbmcoKSwgeyB3cmFwcGVyIH0pXG4gICAgXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50KS50b0JlRGVmaW5lZCgpXG4gIH0pXG5cbiAgLy8gVGVzdCBjb25uZWN0aW9uIG1hbmFnZW1lbnRcbiAgaXQoJ3Nob3VsZCBoYW5kbGUgY29ubmVjdGlvbiByZXF1ZXN0cycsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VOZXR3b3JraW5nKCksIHsgd3JhcHBlciB9KVxuICAgIFxuICAgIGFjdCgoKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHJlc3VsdC5jdXJyZW50LnNlbmRDb25uZWN0aW9uUmVxdWVzdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXN1bHQuY3VycmVudC5zZW5kQ29ubmVjdGlvblJlcXVlc3QoJ3VzZXItMTIzJylcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50KS50b0JlRGVmaW5lZCgpXG4gIH0pXG5cbiAgaXQoJ3Nob3VsZCBoYW5kbGUgY29ubmVjdGlvbiBhY2NlcHRhbmNlJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZU5ldHdvcmtpbmcoKSwgeyB3cmFwcGVyIH0pXG4gICAgXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgcmVzdWx0LmN1cnJlbnQuYWNjZXB0Q29ubmVjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXN1bHQuY3VycmVudC5hY2NlcHRDb25uZWN0aW9uKCdyZXF1ZXN0LTEyMycpXG4gICAgICB9XG4gICAgfSlcblxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudCkudG9CZURlZmluZWQoKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgaGFuZGxlIGNvbm5lY3Rpb24gcmVtb3ZhbCcsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VOZXR3b3JraW5nKCksIHsgd3JhcHBlciB9KVxuICAgIFxuICAgIGFjdCgoKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHJlc3VsdC5jdXJyZW50LnJlbW92ZUNvbm5lY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQucmVtb3ZlQ29ubmVjdGlvbignY29ubi0xJylcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50KS50b0JlRGVmaW5lZCgpXG4gIH0pXG59KVxuIl0sIm5hbWVzIjpbImxvY2FsU3RvcmFnZU1vY2siLCJnZXRJdGVtIiwiamVzdCIsImZuIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJjbGVhciIsImxlbmd0aCIsImtleSIsImdsb2JhbCIsImxvY2FsU3RvcmFnZSIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrUmV0dXJuVmFsdWUiLCJ3cmFwcGVyIiwiY2hpbGRyZW4iLCJOZXR3b3JraW5nUHJvdmlkZXIiLCJpdCIsInJlc3VsdCIsInJlbmRlckhvb2siLCJ1c2VOZXR3b3JraW5nIiwiZXhwZWN0IiwiY3VycmVudCIsInRvQmVEZWZpbmVkIiwiY29ubmVjdGlvbnMiLCJpc0xvYWRpbmciLCJ0b0JlIiwibW9ja0ltcGxlbWVudGF0aW9uIiwiSlNPTiIsInN0cmluZ2lmeSIsInBvcnR1Z3Vlc2VUZXN0VXRpbHMiLCJtb2NrUG9ydHVndWVzZUNvbm5lY3Rpb25zIiwiQXJyYXkiLCJpc0FycmF5IiwiYWN0IiwiZmlsdGVyQ29ubmVjdGlvbnMiLCJ1cGRhdGVDb25uZWN0aW9uU3RyZW5ndGgiLCJsZXZlbCIsIm1vY2tDb25uZWN0aW9uIiwiY29ubmVjdGVkVXNlciIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiY29ubmVjdGlvblN0cmVuZ3RoIiwidG9CZUdyZWF0ZXJUaGFuIiwibW9ja0N1bHR1cmFsRXZlbnRzIiwiRXJyb3IiLCJtb2NrUHJlbWl1bVN1YnNjcmlwdGlvbiIsInNlbmRDb25uZWN0aW9uUmVxdWVzdCIsImFjY2VwdENvbm5lY3Rpb24iLCJyZW1vdmVDb25uZWN0aW9uIl0sIm1hcHBpbmdzIjoiOzs7Ozs4REFBa0I7d0JBQ2M7bUNBQ2tCOzJCQUNkOzs7Ozs7QUFFcEMsZ0RBQWdEO0FBQ2hELE1BQU1BLG1CQUFtQjtJQUN2QkMsU0FBU0MsS0FBS0MsRUFBRTtJQUNoQkMsU0FBU0YsS0FBS0MsRUFBRTtJQUNoQkUsWUFBWUgsS0FBS0MsRUFBRTtJQUNuQkcsT0FBT0osS0FBS0MsRUFBRTtJQUNkSSxRQUFRO0lBQ1JDLEtBQUtOLEtBQUtDLEVBQUU7QUFDZDtBQUVBTSxPQUFPQyxZQUFZLEdBQUdWO0FBRXRCVyxTQUFTLHFCQUFxQjtJQUM1QkMsV0FBVztRQUNUVixLQUFLVyxhQUFhO1FB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