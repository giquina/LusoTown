2f2df9eb7c736e5e28cd538d3ee739bf
/**
 * LusoBot Chat Component Production Tests
 * 
 * Tests for the React chat interface component, including mobile optimization,
 * accessibility, and Portuguese-speaking community-specific features.
 */ "use strict";
// Mock dependencies
jest.mock("@/lib/lusobot-engine", ()=>({
        LusoBotSession: jest.fn().mockImplementation((context, language)=>({
                getMessages: jest.fn().mockReturnValue([
                    {
                        id: "welcome_123",
                        role: "assistant",
                        content: language === "pt" ? "Ol\xe1! Sou o LusoBot, o teu assistente cultural portugu\xeas." : "Hello! I'm LusoBot, your Portuguese cultural assistant.",
                        timestamp: new Date(),
                        language,
                        culturalContext: {
                            region: "diaspora_uk",
                            topic: "community",
                            expertise: [
                                "uk_portuguese_community"
                            ],
                            confidence: 1.0
                        },
                        emotionalTone: {
                            saudade: 0,
                            nostalgia: 0,
                            hope: 0.8,
                            community: 0.9,
                            heritage: 0.7
                        }
                    }
                ]),
                sendMessage: jest.fn().mockResolvedValue({
                    id: "response_456",
                    role: "assistant",
                    content: "Test response from LusoBot",
                    timestamp: new Date(),
                    language: "en",
                    culturalContext: {
                        region: "diaspora_uk",
                        topic: "community",
                        expertise: [
                            "cultural_events"
                        ],
                        confidence: 0.8
                    },
                    emotionalTone: {
                        saudade: 0.2,
                        nostalgia: 0.1,
                        hope: 0.6,
                        community: 0.7,
                        heritage: 0.5
                    },
                    suggestions: [
                        {
                            type: "event",
                            title: "Portuguese Cultural Event",
                            description: "Join our community gathering",
                            priority: "high",
                            culturalRelevance: 0.9
                        }
                    ]
                }),
                updateUserContext: jest.fn(),
                setLanguage: jest.fn(),
                exportConversation: jest.fn().mockReturnValue("{}")
            }))
    }));
// Mock react-hot-toast
jest.mock("react-hot-toast", ()=>({
        toast: {
            success: jest.fn(),
            error: jest.fn()
        }
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
const _testutils = require("react-dom/test-utils");
const _LusoBotChat = /*#__PURE__*/ _interop_require_default(require("../../src/components/LusoBotChat"));
const _LanguageContext = require("../../src/context/LanguageContext");
const _SubscriptionContext = require("../../src/context/SubscriptionContext");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock Web Speech API
const mockSpeechRecognition = {
    start: jest.fn(),
    stop: jest.fn(),
    onresult: null,
    onerror: null,
    onend: null,
    lang: "en-GB",
    continuous: false,
    interimResults: false
};
global.webkitSpeechRecognition = jest.fn().mockImplementation(()=>mockSpeechRecognition);
// Test wrapper component
const TestWrapper = ({ children, language = "en" })=>/*#__PURE__*/ (0, _jsxruntime.jsx)(_LanguageContext.LanguageProvider, {
        initialLanguage: language,
        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SubscriptionContext.SubscriptionProvider, {
            children: children
        })
    });
describe("LusoBot Chat Component", ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe("Component Rendering", ()=>{
        test("should render LusoBot chat interface correctly", async ()=>{
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            // Check for main interface elements
            expect(_react1.screen.getByText("LusoBot")).toBeInTheDocument();
            expect(_react1.screen.getByText("Portuguese Cultural Assistant")).toBeInTheDocument();
            expect(_react1.screen.getByPlaceholderText(/type your message/i)).toBeInTheDocument();
            expect(_react1.screen.getByRole("button", {
                name: /send/i
            })).toBeInTheDocument();
        });
        test("should render in Portuguese when language is set to PT", async ()=>{
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    language: "pt",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            expect(_react1.screen.getByText("Assistente Cultural Portugu\xeas")).toBeInTheDocument();
            expect(_react1.screen.getByPlaceholderText(/escreve a tua mensagem/i)).toBeInTheDocument();
            expect(_react1.screen.getByText("Conversando em Portugu\xeas")).toBeInTheDocument();
        });
        test("should display welcome message on initialization", async ()=>{
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText(/Hello! I'm LusoBot/i)).toBeInTheDocument();
            });
        });
        test("should render in embedded mode when specified", async ()=>{
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {
                        isEmbedded: true
                    })
                }));
            });
            const container = _react1.screen.getByTestId("lusobot-chat") || document.querySelector('[class*="h-full"]');
            expect(container).toBeInTheDocument();
        });
    });
    describe("Message Input and Sending", ()=>{
        test("should handle text input correctly", async ()=>{
            const user = _userevent.default.setup();
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            const input = _react1.screen.getByPlaceholderText(/type your message/i);
            await user.type(input, "Hello LusoBot");
            expect(input).toHaveValue("Hello LusoBot");
        });
        test("should send message when send button is clicked", async ()=>{
            const user = _userevent.default.setup();
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            const input = _react1.screen.getByPlaceholderText(/type your message/i);
            const sendButton = _react1.screen.getByRole("button", {
                name: /send/i
            });
            await user.type(input, "Test message");
            await user.click(sendButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText("Test response from LusoBot")).toBeInTheDocument();
            });
        });
        test("should send message when Enter key is pressed", async ()=>{
            const user = _userevent.default.setup();
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            const input = _react1.screen.getByPlaceholderText(/type your message/i);
            await user.type(input, "Test message{enter}");
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText("Test response from LusoBot")).toBeInTheDocument();
            });
        });
        test("should not send empty messages", async ()=>{
            const user = _userevent.default.setup();
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            const sendButton = _react1.screen.getByRole("button", {
                name: /send/i
            });
            // Try to send empty message
            await user.click(sendButton);
            // Should not create new messages beyond the welcome message
            const messages = _react1.screen.getAllByText(/LusoBot/i);
            expect(messages.length).toBeLessThanOrEqual(2) // Header + welcome message
            ;
        });
        test("should respect character limit", async ()=>{
            const user = _userevent.default.setup();
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            const input = _react1.screen.getByPlaceholderText(/type your message/i);
            const longMessage = "a".repeat(600) // Exceeds 500 character limit
            ;
            await user.type(input, longMessage);
            expect(input.value.length).toBeLessThanOrEqual(500);
        });
    });
    describe("Voice Input Functionality", ()=>{
        test("should handle voice input button click", async ()=>{
            const user = _userevent.default.setup();
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            const voiceButton = _react1.screen.getByRole("button", {
                name: /voice/i
            }) || document.querySelector('[class*="MicrophoneIcon"]')?.parentElement;
            if (voiceButton) {
                await user.click(voiceButton);
                expect(mockSpeechRecognition.start).toHaveBeenCalled();
            }
        });
        test("should set correct language for voice recognition", async ()=>{
            const user = _userevent.default.setup();
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    language: "pt",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            const voiceButton = _react1.screen.getByRole("button", {
                name: /voice/i
            }) || document.querySelector('[class*="MicrophoneIcon"]')?.parentElement;
            if (voiceButton) {
                await user.click(voiceButton);
                expect(mockSpeechRecognition.lang).toBe("pt-PT");
            }
        });
    });
    describe("Emotional Tone Display", ()=>{
        test("should display saudade meter for high emotional content", async ()=>{
            // Mock a response with high saudade
            const mockSession = require("@/lib/lusobot-engine").LusoBotSession;
            mockSession.mockImplementation(()=>({
                    getMessages: jest.fn().mockReturnValue([
                        {
                            id: "welcome_123",
                            role: "assistant",
                            content: "Welcome message",
                            timestamp: new Date(),
                            language: "en"
                        }
                    ]),
                    sendMessage: jest.fn().mockResolvedValue({
                        id: "high_saudade_response",
                        role: "assistant",
                        content: "I understand that deep saudade you're feeling.",
                        timestamp: new Date(),
                        language: "en",
                        emotionalTone: {
                            saudade: 0.8,
                            nostalgia: 0.7,
                            hope: 0.4,
                            community: 0.6,
                            heritage: 0.8
                        }
                    })
                }));
            const user = _userevent.default.setup();
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            const input = _react1.screen.getByPlaceholderText(/type your message/i);
            await user.type(input, "I miss home so much{enter}");
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText("Emotional Tone Detected")).toBeInTheDocument();
            });
        });
    });
    describe("Suggestions Display", ()=>{
        test("should display suggestions when provided by LusoBot", async ()=>{
            const user = _userevent.default.setup();
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            const input = _react1.screen.getByPlaceholderText(/type your message/i);
            await user.type(input, "I need cultural events{enter}");
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText("Personalized Suggestions")).toBeInTheDocument();
                expect(_react1.screen.getByText("Portuguese Cultural Event")).toBeInTheDocument();
            });
        });
        test("should handle suggestion click correctly", async ()=>{
            const user = _userevent.default.setup();
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            const input = _react1.screen.getByPlaceholderText(/type your message/i);
            await user.type(input, "I need cultural events{enter}");
            await (0, _react1.waitFor)(()=>{
                const suggestion = _react1.screen.getByText("Portuguese Cultural Event");
                expect(suggestion).toBeInTheDocument();
            });
            const suggestionButton = _react1.screen.getByText("Portuguese Cultural Event").closest("button");
            if (suggestionButton) {
                await user.click(suggestionButton);
            // Should either open link or add to chat input
            // This depends on the suggestion configuration
            }
        });
    });
    describe("Quick Starters", ()=>{
        test("should display conversation starters for new chat", async ()=>{
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText("Conversation Starters")).toBeInTheDocument();
                expect(_react1.screen.getByText(/Portuguese food in London/i)).toBeInTheDocument();
            });
        });
        test("should display Portuguese conversation starters when language is PT", async ()=>{
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    language: "pt",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText("Ideias para Come\xe7ar")).toBeInTheDocument();
                expect(_react1.screen.getByText(/comida portuguesa em Londres/i)).toBeInTheDocument();
            });
        });
        test("should populate input when starter is clicked", async ()=>{
            const user = _userevent.default.setup();
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            const starter = _react1.screen.getByText(/Portuguese food in London/i);
            await user.click(starter);
            const input = _react1.screen.getByPlaceholderText(/type your message/i);
            expect(input).toHaveValue(expect.stringContaining("Portuguese food"));
        });
    });
    describe("Accessibility", ()=>{
        test("should have proper ARIA labels", async ()=>{
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            const input = _react1.screen.getByPlaceholderText(/type your message/i);
            expect(input).toHaveAttribute("type", "text");
            const sendButton = _react1.screen.getByRole("button", {
                name: /send/i
            });
            expect(sendButton).toBeInTheDocument();
        });
        test("should support keyboard navigation", async ()=>{
            const user = _userevent.default.setup();
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            // Tab navigation should work
            await user.tab();
            const input = _react1.screen.getByPlaceholderText(/type your message/i);
            expect(input).toHaveFocus();
            await user.tab();
            const sendButton = _react1.screen.getByRole("button", {
                name: /send/i
            });
            expect(sendButton).toHaveFocus();
        });
    });
    describe("Mobile Optimization", ()=>{
        test("should be responsive on mobile viewport", async ()=>{
            // Mock mobile viewport
            Object.defineProperty(window, "innerWidth", {
                writable: true,
                configurable: true,
                value: 375
            });
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            const container = document.querySelector('[class*="w-96"]') || document.querySelector('[class*="h-screen"]');
            expect(container).toBeInTheDocument();
        });
        test("should handle touch interactions properly", async ()=>{
            const user = _userevent.default.setup();
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            const sendButton = _react1.screen.getByRole("button", {
                name: /send/i
            });
            // Simulate touch interaction
            _react1.fireEvent.touchStart(sendButton);
            _react1.fireEvent.touchEnd(sendButton);
            // Should not cause issues
            expect(sendButton).toBeInTheDocument();
        });
    });
    describe("Loading States", ()=>{
        test("should show loading indicator while sending message", async ()=>{
            // Mock delayed response
            const mockSession = require("@/lib/lusobot-engine").LusoBotSession;
            mockSession.mockImplementation(()=>({
                    getMessages: jest.fn().mockReturnValue([]),
                    sendMessage: jest.fn().mockImplementation(()=>new Promise((resolve)=>setTimeout(resolve, 1000)))
                }));
            const user = _userevent.default.setup();
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            const input = _react1.screen.getByPlaceholderText(/type your message/i);
            const sendButton = _react1.screen.getByRole("button", {
                name: /send/i
            });
            await user.type(input, "Test message");
            await user.click(sendButton);
            // Should show loading state
            expect(_react1.screen.getByText(/thinking/i)).toBeInTheDocument();
            expect(sendButton).toBeDisabled();
        });
        test("should show loading spinner on initial render", async ()=>{
            // Mock session as null initially
            const mockSession = require("@/lib/lusobot-engine").LusoBotSession;
            mockSession.mockImplementation(()=>null);
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            const spinner = document.querySelector('[class*="animate-spin"]');
            expect(spinner).toBeInTheDocument();
        });
    });
    describe("Error Handling", ()=>{
        test("should handle send message errors gracefully", async ()=>{
            const mockToast = require("react-hot-toast").toast;
            // Mock error in sendMessage
            const mockSession = require("@/lib/lusobot-engine").LusoBotSession;
            mockSession.mockImplementation(()=>({
                    getMessages: jest.fn().mockReturnValue([]),
                    sendMessage: jest.fn().mockRejectedValue(new Error("Network error"))
                }));
            const user = _userevent.default.setup();
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            const input = _react1.screen.getByPlaceholderText(/type your message/i);
            await user.type(input, "Test message{enter}");
            await (0, _react1.waitFor)(()=>{
                expect(mockToast.error).toHaveBeenCalledWith(expect.stringContaining("Error sending message"));
            });
        });
        test("should handle voice recognition errors", async ()=>{
            const mockToast = require("react-hot-toast").toast;
            const user = _userevent.default.setup();
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            const voiceButton = document.querySelector('[class*="MicrophoneIcon"]')?.parentElement;
            if (voiceButton) {
                await user.click(voiceButton);
                // Simulate recognition error
                if (mockSpeechRecognition.onerror) {
                    mockSpeechRecognition.onerror();
                }
                await (0, _react1.waitFor)(()=>{
                    expect(mockToast.error).toHaveBeenCalledWith(expect.stringContaining("Voice recognition error"));
                });
            }
        });
    });
    describe("Portuguese Cultural Features", ()=>{
        test("should display Portuguese flag in avatar", async ()=>{
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            const flagEmoji = _react1.screen.getByText("\uD83C\uDDF5\uD83C\uDDF9");
            expect(flagEmoji).toBeInTheDocument();
        });
        test("should use Portuguese cultural color scheme", async ()=>{
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            const gradientElements = document.querySelectorAll('[class*="from-primary-5"]');
            expect(gradientElements.length).toBeGreaterThan(0);
        });
        test("should handle Portuguese cultural context appropriately", async ()=>{
            const user = _userevent.default.setup();
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    language: "pt",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            const input = _react1.screen.getByPlaceholderText(/escreve a tua mensagem/i);
            await user.type(input, "Tenho saudades de Portugal{enter}");
            await (0, _react1.waitFor)(()=>{
                // Should show emotional support
                expect(_react1.screen.getByText(/estou aqui para te apoiar/i)).toBeInTheDocument();
            });
        });
    });
    describe("Integration with LusoTown Platform", ()=>{
        test("should integrate with subscription context", async ()=>{
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            // Should render without subscription context errors
            expect(_react1.screen.getByText("LusoBot")).toBeInTheDocument();
        });
        test("should maintain language context consistency", async ()=>{
            await (0, _testutils.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                    language: "pt",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_LusoBotChat.default, {})
                }));
            });
            expect(_react1.screen.getByText("Assistente Cultural Portugu\xeas")).toBeInTheDocument();
            expect(_react1.screen.getByText("Conversando em Portugu\xeas")).toBeInTheDocument();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi93b3Jrc3BhY2VzL0x1c29Ub3duL3dlYi1hcHAvX190ZXN0c19fL2x1c29ib3QvbHVzb2JvdC1jaGF0LnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTHVzb0JvdCBDaGF0IENvbXBvbmVudCBQcm9kdWN0aW9uIFRlc3RzXG4gKiBcbiAqIFRlc3RzIGZvciB0aGUgUmVhY3QgY2hhdCBpbnRlcmZhY2UgY29tcG9uZW50LCBpbmNsdWRpbmcgbW9iaWxlIG9wdGltaXphdGlvbixcbiAqIGFjY2Vzc2liaWxpdHksIGFuZCBQb3J0dWd1ZXNlLXNwZWFraW5nIGNvbW11bml0eS1zcGVjaWZpYyBmZWF0dXJlcy5cbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50LCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCdcbmltcG9ydCB1c2VyRXZlbnQgZnJvbSAnQHRlc3RpbmctbGlicmFyeS91c2VyLWV2ZW50J1xuaW1wb3J0IHsgYWN0IH0gZnJvbSAncmVhY3QtZG9tL3Rlc3QtdXRpbHMnXG5pbXBvcnQgTHVzb0JvdENoYXQgZnJvbSAnQC9jb21wb25lbnRzL0x1c29Cb3RDaGF0J1xuaW1wb3J0IHsgTGFuZ3VhZ2VQcm92aWRlciB9IGZyb20gJ0AvY29udGV4dC9MYW5ndWFnZUNvbnRleHQnXG5pbXBvcnQgeyBTdWJzY3JpcHRpb25Qcm92aWRlciB9IGZyb20gJ0AvY29udGV4dC9TdWJzY3JpcHRpb25Db250ZXh0J1xuXG4vLyBNb2NrIGRlcGVuZGVuY2llc1xuamVzdC5tb2NrKCdAL2xpYi9sdXNvYm90LWVuZ2luZScsICgpID0+ICh7XG4gIEx1c29Cb3RTZXNzaW9uOiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKChjb250ZXh0LCBsYW5ndWFnZSkgPT4gKHtcbiAgICBnZXRNZXNzYWdlczogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZShbXG4gICAgICB7XG4gICAgICAgIGlkOiAnd2VsY29tZV8xMjMnLFxuICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgY29udGVudDogbGFuZ3VhZ2UgPT09ICdwdCcgXG4gICAgICAgICAgPyAnT2zDoSEgU291IG8gTHVzb0JvdCwgbyB0ZXUgYXNzaXN0ZW50ZSBjdWx0dXJhbCBwb3J0dWd1w6pzLidcbiAgICAgICAgICA6ICdIZWxsbyEgSVxcJ20gTHVzb0JvdCwgeW91ciBQb3J0dWd1ZXNlIGN1bHR1cmFsIGFzc2lzdGFudC4nLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgIGxhbmd1YWdlLFxuICAgICAgICBjdWx0dXJhbENvbnRleHQ6IHtcbiAgICAgICAgICByZWdpb246ICdkaWFzcG9yYV91aycsXG4gICAgICAgICAgdG9waWM6ICdjb21tdW5pdHknLFxuICAgICAgICAgIGV4cGVydGlzZTogWyd1a19wb3J0dWd1ZXNlX2NvbW11bml0eSddLFxuICAgICAgICAgIGNvbmZpZGVuY2U6IDEuMFxuICAgICAgICB9LFxuICAgICAgICBlbW90aW9uYWxUb25lOiB7XG4gICAgICAgICAgc2F1ZGFkZTogMCxcbiAgICAgICAgICBub3N0YWxnaWE6IDAsXG4gICAgICAgICAgaG9wZTogMC44LFxuICAgICAgICAgIGNvbW11bml0eTogMC45LFxuICAgICAgICAgIGhlcml0YWdlOiAwLjdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF0pLFxuICAgIHNlbmRNZXNzYWdlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgaWQ6ICdyZXNwb25zZV80NTYnLFxuICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICBjb250ZW50OiAnVGVzdCByZXNwb25zZSBmcm9tIEx1c29Cb3QnLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgbGFuZ3VhZ2U6ICdlbicsXG4gICAgICBjdWx0dXJhbENvbnRleHQ6IHtcbiAgICAgICAgcmVnaW9uOiAnZGlhc3BvcmFfdWsnLFxuICAgICAgICB0b3BpYzogJ2NvbW11bml0eScsXG4gICAgICAgIGV4cGVydGlzZTogWydjdWx0dXJhbF9ldmVudHMnXSxcbiAgICAgICAgY29uZmlkZW5jZTogMC44XG4gICAgICB9LFxuICAgICAgZW1vdGlvbmFsVG9uZToge1xuICAgICAgICBzYXVkYWRlOiAwLjIsXG4gICAgICAgIG5vc3RhbGdpYTogMC4xLFxuICAgICAgICBob3BlOiAwLjYsXG4gICAgICAgIGNvbW11bml0eTogMC43LFxuICAgICAgICBoZXJpdGFnZTogMC41XG4gICAgICB9LFxuICAgICAgc3VnZ2VzdGlvbnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdldmVudCcsXG4gICAgICAgICAgdGl0bGU6ICdQb3J0dWd1ZXNlIEN1bHR1cmFsIEV2ZW50JyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0pvaW4gb3VyIGNvbW11bml0eSBnYXRoZXJpbmcnLFxuICAgICAgICAgIHByaW9yaXR5OiAnaGlnaCcsXG4gICAgICAgICAgY3VsdHVyYWxSZWxldmFuY2U6IDAuOVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSksXG4gICAgdXBkYXRlVXNlckNvbnRleHQ6IGplc3QuZm4oKSxcbiAgICBzZXRMYW5ndWFnZTogamVzdC5mbigpLFxuICAgIGV4cG9ydENvbnZlcnNhdGlvbjogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSgne30nKVxuICB9KSlcbn0pKVxuXG4vLyBNb2NrIHJlYWN0LWhvdC10b2FzdFxuamVzdC5tb2NrKCdyZWFjdC1ob3QtdG9hc3QnLCAoKSA9PiAoe1xuICB0b2FzdDoge1xuICAgIHN1Y2Nlc3M6IGplc3QuZm4oKSxcbiAgICBlcnJvcjogamVzdC5mbigpXG4gIH1cbn0pKVxuXG4vLyBNb2NrIFdlYiBTcGVlY2ggQVBJXG5jb25zdCBtb2NrU3BlZWNoUmVjb2duaXRpb24gPSB7XG4gIHN0YXJ0OiBqZXN0LmZuKCksXG4gIHN0b3A6IGplc3QuZm4oKSxcbiAgb25yZXN1bHQ6IG51bGwsXG4gIG9uZXJyb3I6IG51bGwsXG4gIG9uZW5kOiBudWxsLFxuICBsYW5nOiAnZW4tR0InLFxuICBjb250aW51b3VzOiBmYWxzZSxcbiAgaW50ZXJpbVJlc3VsdHM6IGZhbHNlXG59XG5cbjsoZ2xvYmFsIGFzIGFueSkud2Via2l0U3BlZWNoUmVjb2duaXRpb24gPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IG1vY2tTcGVlY2hSZWNvZ25pdGlvbilcblxuLy8gVGVzdCB3cmFwcGVyIGNvbXBvbmVudFxuY29uc3QgVGVzdFdyYXBwZXI6IFJlYWN0LkZDPHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsgbGFuZ3VhZ2U/OiAnZW4nIHwgJ3B0JyB9PiA9ICh7IFxuICBjaGlsZHJlbiwgXG4gIGxhbmd1YWdlID0gJ2VuJyBcbn0pID0+IChcbiAgPExhbmd1YWdlUHJvdmlkZXIgaW5pdGlhbExhbmd1YWdlPXtsYW5ndWFnZX0+XG4gICAgPFN1YnNjcmlwdGlvblByb3ZpZGVyPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvU3Vic2NyaXB0aW9uUHJvdmlkZXI+XG4gIDwvTGFuZ3VhZ2VQcm92aWRlcj5cbilcblxuZGVzY3JpYmUoJ0x1c29Cb3QgQ2hhdCBDb21wb25lbnQnLCAoKSA9PiB7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKClcbiAgfSlcblxuICBkZXNjcmliZSgnQ29tcG9uZW50IFJlbmRlcmluZycsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgcmVuZGVyIEx1c29Cb3QgY2hhdCBpbnRlcmZhY2UgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVuZGVyKFxuICAgICAgICAgIDxUZXN0V3JhcHBlcj5cbiAgICAgICAgICAgIDxMdXNvQm90Q2hhdCAvPlxuICAgICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICAgIClcbiAgICAgIH0pXG5cbiAgICAgIC8vIENoZWNrIGZvciBtYWluIGludGVyZmFjZSBlbGVtZW50c1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0x1c29Cb3QnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1BvcnR1Z3Vlc2UgQ3VsdHVyYWwgQXNzaXN0YW50JykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoL3R5cGUgeW91ciBtZXNzYWdlL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvc2VuZC9pIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfSlcblxuICAgIHRlc3QoJ3Nob3VsZCByZW5kZXIgaW4gUG9ydHVndWVzZSB3aGVuIGxhbmd1YWdlIGlzIHNldCB0byBQVCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8VGVzdFdyYXBwZXIgbGFuZ3VhZ2U9XCJwdFwiPlxuICAgICAgICAgICAgPEx1c29Cb3RDaGF0IC8+XG4gICAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICAgKVxuICAgICAgfSlcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Fzc2lzdGVudGUgQ3VsdHVyYWwgUG9ydHVndcOqcycpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KC9lc2NyZXZlIGEgdHVhIG1lbnNhZ2VtL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ29udmVyc2FuZG8gZW0gUG9ydHVndcOqcycpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfSlcblxuICAgIHRlc3QoJ3Nob3VsZCBkaXNwbGF5IHdlbGNvbWUgbWVzc2FnZSBvbiBpbml0aWFsaXphdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8VGVzdFdyYXBwZXI+XG4gICAgICAgICAgICA8THVzb0JvdENoYXQgLz5cbiAgICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgICApXG4gICAgICB9KVxuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL0hlbGxvISBJJ20gTHVzb0JvdC9pKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgdGVzdCgnc2hvdWxkIHJlbmRlciBpbiBlbWJlZGRlZCBtb2RlIHdoZW4gc3BlY2lmaWVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVuZGVyKFxuICAgICAgICAgIDxUZXN0V3JhcHBlcj5cbiAgICAgICAgICAgIDxMdXNvQm90Q2hhdCBpc0VtYmVkZGVkPXt0cnVlfSAvPlxuICAgICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICAgIClcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnbHVzb2JvdC1jaGF0JykgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2NsYXNzKj1cImgtZnVsbFwiXScpXG4gICAgICBleHBlY3QoY29udGFpbmVyKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnTWVzc2FnZSBJbnB1dCBhbmQgU2VuZGluZycsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIHRleHQgaW5wdXQgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpXG4gICAgICBcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8VGVzdFdyYXBwZXI+XG4gICAgICAgICAgICA8THVzb0JvdENoYXQgLz5cbiAgICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgICApXG4gICAgICB9KVxuXG4gICAgICBjb25zdCBpbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgvdHlwZSB5b3VyIG1lc3NhZ2UvaSlcbiAgICAgIGF3YWl0IHVzZXIudHlwZShpbnB1dCwgJ0hlbGxvIEx1c29Cb3QnKVxuICAgICAgXG4gICAgICBleHBlY3QoaW5wdXQpLnRvSGF2ZVZhbHVlKCdIZWxsbyBMdXNvQm90JylcbiAgICB9KVxuXG4gICAgdGVzdCgnc2hvdWxkIHNlbmQgbWVzc2FnZSB3aGVuIHNlbmQgYnV0dG9uIGlzIGNsaWNrZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKClcbiAgICAgIFxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVuZGVyKFxuICAgICAgICAgIDxUZXN0V3JhcHBlcj5cbiAgICAgICAgICAgIDxMdXNvQm90Q2hhdCAvPlxuICAgICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICAgIClcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IGlucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KC90eXBlIHlvdXIgbWVzc2FnZS9pKVxuICAgICAgY29uc3Qgc2VuZEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3NlbmQvaSB9KVxuICAgICAgXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXQsICdUZXN0IG1lc3NhZ2UnKVxuICAgICAgYXdhaXQgdXNlci5jbGljayhzZW5kQnV0dG9uKVxuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Rlc3QgcmVzcG9uc2UgZnJvbSBMdXNvQm90JykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIHRlc3QoJ3Nob3VsZCBzZW5kIG1lc3NhZ2Ugd2hlbiBFbnRlciBrZXkgaXMgcHJlc3NlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxuICAgICAgXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgICAgPEx1c29Cb3RDaGF0IC8+XG4gICAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICAgKVxuICAgICAgfSlcblxuICAgICAgY29uc3QgaW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoL3R5cGUgeW91ciBtZXNzYWdlL2kpXG4gICAgICBcbiAgICAgIGF3YWl0IHVzZXIudHlwZShpbnB1dCwgJ1Rlc3QgbWVzc2FnZXtlbnRlcn0nKVxuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Rlc3QgcmVzcG9uc2UgZnJvbSBMdXNvQm90JykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIHRlc3QoJ3Nob3VsZCBub3Qgc2VuZCBlbXB0eSBtZXNzYWdlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxuICAgICAgXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgICAgPEx1c29Cb3RDaGF0IC8+XG4gICAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICAgKVxuICAgICAgfSlcblxuICAgICAgY29uc3Qgc2VuZEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3NlbmQvaSB9KVxuICAgICAgXG4gICAgICAvLyBUcnkgdG8gc2VuZCBlbXB0eSBtZXNzYWdlXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHNlbmRCdXR0b24pXG5cbiAgICAgIC8vIFNob3VsZCBub3QgY3JlYXRlIG5ldyBtZXNzYWdlcyBiZXlvbmQgdGhlIHdlbGNvbWUgbWVzc2FnZVxuICAgICAgY29uc3QgbWVzc2FnZXMgPSBzY3JlZW4uZ2V0QWxsQnlUZXh0KC9MdXNvQm90L2kpXG4gICAgICBleHBlY3QobWVzc2FnZXMubGVuZ3RoKS50b0JlTGVzc1RoYW5PckVxdWFsKDIpIC8vIEhlYWRlciArIHdlbGNvbWUgbWVzc2FnZVxuICAgIH0pXG5cbiAgICB0ZXN0KCdzaG91bGQgcmVzcGVjdCBjaGFyYWN0ZXIgbGltaXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKClcbiAgICAgIFxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVuZGVyKFxuICAgICAgICAgIDxUZXN0V3JhcHBlcj5cbiAgICAgICAgICAgIDxMdXNvQm90Q2hhdCAvPlxuICAgICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICAgIClcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IGlucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KC90eXBlIHlvdXIgbWVzc2FnZS9pKSBhcyBIVE1MSW5wdXRFbGVtZW50XG4gICAgICBjb25zdCBsb25nTWVzc2FnZSA9ICdhJy5yZXBlYXQoNjAwKSAvLyBFeGNlZWRzIDUwMCBjaGFyYWN0ZXIgbGltaXRcbiAgICAgIFxuICAgICAgYXdhaXQgdXNlci50eXBlKGlucHV0LCBsb25nTWVzc2FnZSlcbiAgICAgIFxuICAgICAgZXhwZWN0KGlucHV0LnZhbHVlLmxlbmd0aCkudG9CZUxlc3NUaGFuT3JFcXVhbCg1MDApXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnVm9pY2UgSW5wdXQgRnVuY3Rpb25hbGl0eScsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIHZvaWNlIGlucHV0IGJ1dHRvbiBjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxuICAgICAgXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgICAgPEx1c29Cb3RDaGF0IC8+XG4gICAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICAgKVxuICAgICAgfSlcblxuICAgICAgY29uc3Qgdm9pY2VCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC92b2ljZS9pIH0pIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tjbGFzcyo9XCJNaWNyb3Bob25lSWNvblwiXScpPy5wYXJlbnRFbGVtZW50XG4gICAgICBcbiAgICAgIGlmICh2b2ljZUJ1dHRvbikge1xuICAgICAgICBhd2FpdCB1c2VyLmNsaWNrKHZvaWNlQnV0dG9uKVxuICAgICAgICBleHBlY3QobW9ja1NwZWVjaFJlY29nbml0aW9uLnN0YXJ0KS50b0hhdmVCZWVuQ2FsbGVkKClcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgdGVzdCgnc2hvdWxkIHNldCBjb3JyZWN0IGxhbmd1YWdlIGZvciB2b2ljZSByZWNvZ25pdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxuICAgICAgXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPFRlc3RXcmFwcGVyIGxhbmd1YWdlPVwicHRcIj5cbiAgICAgICAgICAgIDxMdXNvQm90Q2hhdCAvPlxuICAgICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICAgIClcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IHZvaWNlQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvdm9pY2UvaSB9KSB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbY2xhc3MqPVwiTWljcm9waG9uZUljb25cIl0nKT8ucGFyZW50RWxlbWVudFxuICAgICAgXG4gICAgICBpZiAodm9pY2VCdXR0b24pIHtcbiAgICAgICAgYXdhaXQgdXNlci5jbGljayh2b2ljZUJ1dHRvbilcbiAgICAgICAgZXhwZWN0KG1vY2tTcGVlY2hSZWNvZ25pdGlvbi5sYW5nKS50b0JlKCdwdC1QVCcpXG4gICAgICB9XG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnRW1vdGlvbmFsIFRvbmUgRGlzcGxheScsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgZGlzcGxheSBzYXVkYWRlIG1ldGVyIGZvciBoaWdoIGVtb3Rpb25hbCBjb250ZW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBhIHJlc3BvbnNlIHdpdGggaGlnaCBzYXVkYWRlXG4gICAgICBjb25zdCBtb2NrU2Vzc2lvbiA9IHJlcXVpcmUoJ0AvbGliL2x1c29ib3QtZW5naW5lJykuTHVzb0JvdFNlc3Npb25cbiAgICAgIG1vY2tTZXNzaW9uLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xuICAgICAgICBnZXRNZXNzYWdlczogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZShbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICd3ZWxjb21lXzEyMycsXG4gICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdXZWxjb21lIG1lc3NhZ2UnLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgbGFuZ3VhZ2U6ICdlbidcbiAgICAgICAgICB9XG4gICAgICAgIF0pLFxuICAgICAgICBzZW5kTWVzc2FnZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICBpZDogJ2hpZ2hfc2F1ZGFkZV9yZXNwb25zZScsXG4gICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgY29udGVudDogJ0kgdW5kZXJzdGFuZCB0aGF0IGRlZXAgc2F1ZGFkZSB5b3VcXCdyZSBmZWVsaW5nLicsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIGxhbmd1YWdlOiAnZW4nLFxuICAgICAgICAgIGVtb3Rpb25hbFRvbmU6IHtcbiAgICAgICAgICAgIHNhdWRhZGU6IDAuOCxcbiAgICAgICAgICAgIG5vc3RhbGdpYTogMC43LFxuICAgICAgICAgICAgaG9wZTogMC40LFxuICAgICAgICAgICAgY29tbXVuaXR5OiAwLjYsXG4gICAgICAgICAgICBoZXJpdGFnZTogMC44XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSkpXG5cbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxuICAgICAgXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgICAgPEx1c29Cb3RDaGF0IC8+XG4gICAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICAgKVxuICAgICAgfSlcblxuICAgICAgY29uc3QgaW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoL3R5cGUgeW91ciBtZXNzYWdlL2kpXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXQsICdJIG1pc3MgaG9tZSBzbyBtdWNoe2VudGVyfScpXG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRW1vdGlvbmFsIFRvbmUgRGV0ZWN0ZWQnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgfSlcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdTdWdnZXN0aW9ucyBEaXNwbGF5JywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBkaXNwbGF5IHN1Z2dlc3Rpb25zIHdoZW4gcHJvdmlkZWQgYnkgTHVzb0JvdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxuICAgICAgXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgICAgPEx1c29Cb3RDaGF0IC8+XG4gICAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICAgKVxuICAgICAgfSlcblxuICAgICAgY29uc3QgaW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoL3R5cGUgeW91ciBtZXNzYWdlL2kpXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXQsICdJIG5lZWQgY3VsdHVyYWwgZXZlbnRze2VudGVyfScpXG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUGVyc29uYWxpemVkIFN1Z2dlc3Rpb25zJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1BvcnR1Z3Vlc2UgQ3VsdHVyYWwgRXZlbnQnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBzdWdnZXN0aW9uIGNsaWNrIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxuICAgICAgXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgICAgPEx1c29Cb3RDaGF0IC8+XG4gICAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICAgKVxuICAgICAgfSlcblxuICAgICAgY29uc3QgaW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoL3R5cGUgeW91ciBtZXNzYWdlL2kpXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXQsICdJIG5lZWQgY3VsdHVyYWwgZXZlbnRze2VudGVyfScpXG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBzdWdnZXN0aW9uID0gc2NyZWVuLmdldEJ5VGV4dCgnUG9ydHVndWVzZSBDdWx0dXJhbCBFdmVudCcpXG4gICAgICAgIGV4cGVjdChzdWdnZXN0aW9uKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICB9KVxuXG4gICAgICBjb25zdCBzdWdnZXN0aW9uQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnUG9ydHVndWVzZSBDdWx0dXJhbCBFdmVudCcpLmNsb3Nlc3QoJ2J1dHRvbicpXG4gICAgICBpZiAoc3VnZ2VzdGlvbkJ1dHRvbikge1xuICAgICAgICBhd2FpdCB1c2VyLmNsaWNrKHN1Z2dlc3Rpb25CdXR0b24pXG4gICAgICAgIC8vIFNob3VsZCBlaXRoZXIgb3BlbiBsaW5rIG9yIGFkZCB0byBjaGF0IGlucHV0XG4gICAgICAgIC8vIFRoaXMgZGVwZW5kcyBvbiB0aGUgc3VnZ2VzdGlvbiBjb25maWd1cmF0aW9uXG4gICAgICB9XG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnUXVpY2sgU3RhcnRlcnMnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGRpc3BsYXkgY29udmVyc2F0aW9uIHN0YXJ0ZXJzIGZvciBuZXcgY2hhdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8VGVzdFdyYXBwZXI+XG4gICAgICAgICAgICA8THVzb0JvdENoYXQgLz5cbiAgICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgICApXG4gICAgICB9KVxuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0NvbnZlcnNhdGlvbiBTdGFydGVycycpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9Qb3J0dWd1ZXNlIGZvb2QgaW4gTG9uZG9uL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICB0ZXN0KCdzaG91bGQgZGlzcGxheSBQb3J0dWd1ZXNlIGNvbnZlcnNhdGlvbiBzdGFydGVycyB3aGVuIGxhbmd1YWdlIGlzIFBUJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVuZGVyKFxuICAgICAgICAgIDxUZXN0V3JhcHBlciBsYW5ndWFnZT1cInB0XCI+XG4gICAgICAgICAgICA8THVzb0JvdENoYXQgLz5cbiAgICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgICApXG4gICAgICB9KVxuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0lkZWlhcyBwYXJhIENvbWXDp2FyJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL2NvbWlkYSBwb3J0dWd1ZXNhIGVtIExvbmRyZXMvaSkpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIHRlc3QoJ3Nob3VsZCBwb3B1bGF0ZSBpbnB1dCB3aGVuIHN0YXJ0ZXIgaXMgY2xpY2tlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxuICAgICAgXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgICAgPEx1c29Cb3RDaGF0IC8+XG4gICAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICAgKVxuICAgICAgfSlcblxuICAgICAgY29uc3Qgc3RhcnRlciA9IHNjcmVlbi5nZXRCeVRleHQoL1BvcnR1Z3Vlc2UgZm9vZCBpbiBMb25kb24vaSlcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc3RhcnRlcilcblxuICAgICAgY29uc3QgaW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoL3R5cGUgeW91ciBtZXNzYWdlL2kpXG4gICAgICBleHBlY3QoaW5wdXQpLnRvSGF2ZVZhbHVlKGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdQb3J0dWd1ZXNlIGZvb2QnKSlcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdBY2Nlc3NpYmlsaXR5JywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBoYXZlIHByb3BlciBBUklBIGxhYmVscycsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8VGVzdFdyYXBwZXI+XG4gICAgICAgICAgICA8THVzb0JvdENoYXQgLz5cbiAgICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgICApXG4gICAgICB9KVxuXG4gICAgICBjb25zdCBpbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgvdHlwZSB5b3VyIG1lc3NhZ2UvaSlcbiAgICAgIGV4cGVjdChpbnB1dCkudG9IYXZlQXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKVxuICAgICAgXG4gICAgICBjb25zdCBzZW5kQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvc2VuZC9pIH0pXG4gICAgICBleHBlY3Qoc2VuZEJ1dHRvbikudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIH0pXG5cbiAgICB0ZXN0KCdzaG91bGQgc3VwcG9ydCBrZXlib2FyZCBuYXZpZ2F0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpXG4gICAgICBcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8VGVzdFdyYXBwZXI+XG4gICAgICAgICAgICA8THVzb0JvdENoYXQgLz5cbiAgICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgICApXG4gICAgICB9KVxuXG4gICAgICAvLyBUYWIgbmF2aWdhdGlvbiBzaG91bGQgd29ya1xuICAgICAgYXdhaXQgdXNlci50YWIoKVxuICAgICAgY29uc3QgaW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoL3R5cGUgeW91ciBtZXNzYWdlL2kpXG4gICAgICBleHBlY3QoaW5wdXQpLnRvSGF2ZUZvY3VzKClcblxuICAgICAgYXdhaXQgdXNlci50YWIoKVxuICAgICAgY29uc3Qgc2VuZEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3NlbmQvaSB9KVxuICAgICAgZXhwZWN0KHNlbmRCdXR0b24pLnRvSGF2ZUZvY3VzKClcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdNb2JpbGUgT3B0aW1pemF0aW9uJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBiZSByZXNwb25zaXZlIG9uIG1vYmlsZSB2aWV3cG9ydCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgbW9iaWxlIHZpZXdwb3J0XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnaW5uZXJXaWR0aCcsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IDM3NSxcbiAgICAgIH0pXG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8VGVzdFdyYXBwZXI+XG4gICAgICAgICAgICA8THVzb0JvdENoYXQgLz5cbiAgICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgICApXG4gICAgICB9KVxuXG4gICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbY2xhc3MqPVwidy05NlwiXScpIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbY2xhc3MqPVwiaC1zY3JlZW5cIl0nKVxuICAgICAgZXhwZWN0KGNvbnRhaW5lcikudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIH0pXG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIHRvdWNoIGludGVyYWN0aW9ucyBwcm9wZXJseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxuICAgICAgXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgICAgPEx1c29Cb3RDaGF0IC8+XG4gICAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICAgKVxuICAgICAgfSlcblxuICAgICAgY29uc3Qgc2VuZEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3NlbmQvaSB9KVxuICAgICAgXG4gICAgICAvLyBTaW11bGF0ZSB0b3VjaCBpbnRlcmFjdGlvblxuICAgICAgZmlyZUV2ZW50LnRvdWNoU3RhcnQoc2VuZEJ1dHRvbilcbiAgICAgIGZpcmVFdmVudC50b3VjaEVuZChzZW5kQnV0dG9uKVxuICAgICAgXG4gICAgICAvLyBTaG91bGQgbm90IGNhdXNlIGlzc3Vlc1xuICAgICAgZXhwZWN0KHNlbmRCdXR0b24pLnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdMb2FkaW5nIFN0YXRlcycsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgc2hvdyBsb2FkaW5nIGluZGljYXRvciB3aGlsZSBzZW5kaW5nIG1lc3NhZ2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIGRlbGF5ZWQgcmVzcG9uc2VcbiAgICAgIGNvbnN0IG1vY2tTZXNzaW9uID0gcmVxdWlyZSgnQC9saWIvbHVzb2JvdC1lbmdpbmUnKS5MdXNvQm90U2Vzc2lvblxuICAgICAgbW9ja1Nlc3Npb24ubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XG4gICAgICAgIGdldE1lc3NhZ2VzOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKFtdKSxcbiAgICAgICAgc2VuZE1lc3NhZ2U6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gXG4gICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApKVxuICAgICAgICApXG4gICAgICB9KSlcblxuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpXG4gICAgICBcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8VGVzdFdyYXBwZXI+XG4gICAgICAgICAgICA8THVzb0JvdENoYXQgLz5cbiAgICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgICApXG4gICAgICB9KVxuXG4gICAgICBjb25zdCBpbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgvdHlwZSB5b3VyIG1lc3NhZ2UvaSlcbiAgICAgIGNvbnN0IHNlbmRCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9zZW5kL2kgfSlcbiAgICAgIFxuICAgICAgYXdhaXQgdXNlci50eXBlKGlucHV0LCAnVGVzdCBtZXNzYWdlJylcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc2VuZEJ1dHRvbilcblxuICAgICAgLy8gU2hvdWxkIHNob3cgbG9hZGluZyBzdGF0ZVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL3RoaW5raW5nL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICBleHBlY3Qoc2VuZEJ1dHRvbikudG9CZURpc2FibGVkKClcbiAgICB9KVxuXG4gICAgdGVzdCgnc2hvdWxkIHNob3cgbG9hZGluZyBzcGlubmVyIG9uIGluaXRpYWwgcmVuZGVyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBzZXNzaW9uIGFzIG51bGwgaW5pdGlhbGx5XG4gICAgICBjb25zdCBtb2NrU2Vzc2lvbiA9IHJlcXVpcmUoJ0AvbGliL2x1c29ib3QtZW5naW5lJykuTHVzb0JvdFNlc3Npb25cbiAgICAgIG1vY2tTZXNzaW9uLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiBudWxsKVxuXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgICAgPEx1c29Cb3RDaGF0IC8+XG4gICAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICAgKVxuICAgICAgfSlcblxuICAgICAgY29uc3Qgc3Bpbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tjbGFzcyo9XCJhbmltYXRlLXNwaW5cIl0nKVxuICAgICAgZXhwZWN0KHNwaW5uZXIpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdFcnJvciBIYW5kbGluZycsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIHNlbmQgbWVzc2FnZSBlcnJvcnMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tUb2FzdCA9IHJlcXVpcmUoJ3JlYWN0LWhvdC10b2FzdCcpLnRvYXN0XG4gICAgICBcbiAgICAgIC8vIE1vY2sgZXJyb3IgaW4gc2VuZE1lc3NhZ2VcbiAgICAgIGNvbnN0IG1vY2tTZXNzaW9uID0gcmVxdWlyZSgnQC9saWIvbHVzb2JvdC1lbmdpbmUnKS5MdXNvQm90U2Vzc2lvblxuICAgICAgbW9ja1Nlc3Npb24ubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XG4gICAgICAgIGdldE1lc3NhZ2VzOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKFtdKSxcbiAgICAgICAgc2VuZE1lc3NhZ2U6IGplc3QuZm4oKS5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ05ldHdvcmsgZXJyb3InKSlcbiAgICAgIH0pKVxuXG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKClcbiAgICAgIFxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVuZGVyKFxuICAgICAgICAgIDxUZXN0V3JhcHBlcj5cbiAgICAgICAgICAgIDxMdXNvQm90Q2hhdCAvPlxuICAgICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICAgIClcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IGlucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KC90eXBlIHlvdXIgbWVzc2FnZS9pKVxuICAgICAgYXdhaXQgdXNlci50eXBlKGlucHV0LCAnVGVzdCBtZXNzYWdle2VudGVyfScpXG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja1RvYXN0LmVycm9yKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnRXJyb3Igc2VuZGluZyBtZXNzYWdlJylcbiAgICAgICAgKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSB2b2ljZSByZWNvZ25pdGlvbiBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrVG9hc3QgPSByZXF1aXJlKCdyZWFjdC1ob3QtdG9hc3QnKS50b2FzdFxuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpXG4gICAgICBcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8VGVzdFdyYXBwZXI+XG4gICAgICAgICAgICA8THVzb0JvdENoYXQgLz5cbiAgICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgICApXG4gICAgICB9KVxuXG4gICAgICBjb25zdCB2b2ljZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tjbGFzcyo9XCJNaWNyb3Bob25lSWNvblwiXScpPy5wYXJlbnRFbGVtZW50XG4gICAgICBcbiAgICAgIGlmICh2b2ljZUJ1dHRvbikge1xuICAgICAgICBhd2FpdCB1c2VyLmNsaWNrKHZvaWNlQnV0dG9uKVxuICAgICAgICBcbiAgICAgICAgLy8gU2ltdWxhdGUgcmVjb2duaXRpb24gZXJyb3JcbiAgICAgICAgaWYgKG1vY2tTcGVlY2hSZWNvZ25pdGlvbi5vbmVycm9yKSB7XG4gICAgICAgICAgbW9ja1NwZWVjaFJlY29nbml0aW9uLm9uZXJyb3IoKVxuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgICAgZXhwZWN0KG1vY2tUb2FzdC5lcnJvcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnVm9pY2UgcmVjb2duaXRpb24gZXJyb3InKVxuICAgICAgICAgIClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdQb3J0dWd1ZXNlIEN1bHR1cmFsIEZlYXR1cmVzJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBkaXNwbGF5IFBvcnR1Z3Vlc2UgZmxhZyBpbiBhdmF0YXInLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgICAgPEx1c29Cb3RDaGF0IC8+XG4gICAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICAgKVxuICAgICAgfSlcblxuICAgICAgY29uc3QgZmxhZ0Vtb2ppID0gc2NyZWVuLmdldEJ5VGV4dCgn8J+HtfCfh7knKVxuICAgICAgZXhwZWN0KGZsYWdFbW9qaSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIH0pXG5cbiAgICB0ZXN0KCdzaG91bGQgdXNlIFBvcnR1Z3Vlc2UgY3VsdHVyYWwgY29sb3Igc2NoZW1lJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVuZGVyKFxuICAgICAgICAgIDxUZXN0V3JhcHBlcj5cbiAgICAgICAgICAgIDxMdXNvQm90Q2hhdCAvPlxuICAgICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICAgIClcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IGdyYWRpZW50RWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbY2xhc3MqPVwiZnJvbS1wcmltYXJ5LTVcIl0nKVxuICAgICAgZXhwZWN0KGdyYWRpZW50RWxlbWVudHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMClcbiAgICB9KVxuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBQb3J0dWd1ZXNlIGN1bHR1cmFsIGNvbnRleHQgYXBwcm9wcmlhdGVseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxuICAgICAgXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPFRlc3RXcmFwcGVyIGxhbmd1YWdlPVwicHRcIj5cbiAgICAgICAgICAgIDxMdXNvQm90Q2hhdCAvPlxuICAgICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICAgIClcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IGlucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KC9lc2NyZXZlIGEgdHVhIG1lbnNhZ2VtL2kpXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXQsICdUZW5obyBzYXVkYWRlcyBkZSBQb3J0dWdhbHtlbnRlcn0nKVxuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgLy8gU2hvdWxkIHNob3cgZW1vdGlvbmFsIHN1cHBvcnRcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL2VzdG91IGFxdWkgcGFyYSB0ZSBhcG9pYXIvaSkpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnSW50ZWdyYXRpb24gd2l0aCBMdXNvVG93biBQbGF0Zm9ybScsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgaW50ZWdyYXRlIHdpdGggc3Vic2NyaXB0aW9uIGNvbnRleHQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgICAgPEx1c29Cb3RDaGF0IC8+XG4gICAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICAgKVxuICAgICAgfSlcblxuICAgICAgLy8gU2hvdWxkIHJlbmRlciB3aXRob3V0IHN1YnNjcmlwdGlvbiBjb250ZXh0IGVycm9yc1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0x1c29Cb3QnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIH0pXG5cbiAgICB0ZXN0KCdzaG91bGQgbWFpbnRhaW4gbGFuZ3VhZ2UgY29udGV4dCBjb25zaXN0ZW5jeScsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8VGVzdFdyYXBwZXIgbGFuZ3VhZ2U9XCJwdFwiPlxuICAgICAgICAgICAgPEx1c29Cb3RDaGF0IC8+XG4gICAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICAgKVxuICAgICAgfSlcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Fzc2lzdGVudGUgQ3VsdHVyYWwgUG9ydHVndcOqcycpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ29udmVyc2FuZG8gZW0gUG9ydHVndcOqcycpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfSlcbiAgfSlcbn0pIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwiTHVzb0JvdFNlc3Npb24iLCJmbiIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsImNvbnRleHQiLCJsYW5ndWFnZSIsImdldE1lc3NhZ2VzIiwibW9ja1JldHVyblZhbHVlIiwiaWQiLCJyb2xlIiwiY29udGVudCIsInRpbWVzdGFtcCIsIkRhdGUiLCJjdWx0dXJhbENvbnRleHQiLCJyZWdpb24iLCJ0b3BpYyIsImV4cGVydGlzZSIsImNvbmZpZGVuY2UiLCJlbW90aW9uYWxUb25lIiwic2F1ZGFkZSIsIm5vc3RhbGdpYSIsImhvcGUiLCJjb21tdW5pdHkiLCJoZXJpdGFnZSIsInNlbmRNZXNzYWdlIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJzdWdnZXN0aW9ucyIsInR5cGUiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwicHJpb3JpdHkiLCJjdWx0dXJhbFJlbGV2YW5jZSIsInVwZGF0ZVVzZXJDb250ZXh0Iiwic2V0TGFuZ3VhZ2UiLCJleHBvcnRDb252ZXJzYXRpb24iLCJ0b2FzdCIsInN1Y2Nlc3MiLCJlcnJvciIsIm1vY2tTcGVlY2hSZWNvZ25pdGlvbiIsInN0YXJ0Iiwic3RvcCIsIm9ucmVzdWx0Iiwib25lcnJvciIsIm9uZW5kIiwibGFuZyIsImNvbnRpbnVvdXMiLCJpbnRlcmltUmVzdWx0cyIsImdsb2JhbCIsIndlYmtpdFNwZWVjaFJlY29nbml0aW9uIiwiVGVzdFdyYXBwZXIiLCJjaGlsZHJlbiIsIkxhbmd1YWdlUHJvdmlkZXIiLCJpbml0aWFsTGFuZ3VhZ2UiLCJTdWJzY3JpcHRpb25Qcm92aWRlciIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJ0ZXN0IiwiYWN0IiwicmVuZGVyIiwiTHVzb0JvdENoYXQiLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsImdldEJ5UGxhY2Vob2xkZXJUZXh0IiwiZ2V0QnlSb2xlIiwibmFtZSIsIndhaXRGb3IiLCJpc0VtYmVkZGVkIiwiY29udGFpbmVyIiwiZ2V0QnlUZXN0SWQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ1c2VyIiwidXNlckV2ZW50Iiwic2V0dXAiLCJpbnB1dCIsInRvSGF2ZVZhbHVlIiwic2VuZEJ1dHRvbiIsImNsaWNrIiwibWVzc2FnZXMiLCJnZXRBbGxCeVRleHQiLCJsZW5ndGgiLCJ0b0JlTGVzc1RoYW5PckVxdWFsIiwibG9uZ01lc3NhZ2UiLCJyZXBlYXQiLCJ2YWx1ZSIsInZvaWNlQnV0dG9uIiwicGFyZW50RWxlbWVudCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJ0b0JlIiwibW9ja1Nlc3Npb24iLCJyZXF1aXJlIiwic3VnZ2VzdGlvbiIsInN1Z2dlc3Rpb25CdXR0b24iLCJjbG9zZXN0Iiwic3RhcnRlciIsInN0cmluZ0NvbnRhaW5pbmciLCJ0b0hhdmVBdHRyaWJ1dGUiLCJ0YWIiLCJ0b0hhdmVGb2N1cyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwid2luZG93Iiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJmaXJlRXZlbnQiLCJ0b3VjaFN0YXJ0IiwidG91Y2hFbmQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJ0b0JlRGlzYWJsZWQiLCJzcGlubmVyIiwibW9ja1RvYXN0IiwibW9ja1JlamVjdGVkVmFsdWUiLCJFcnJvciIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiZmxhZ0Vtb2ppIiwiZ3JhZGllbnRFbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0b0JlR3JlYXRlclRoYW4iXSwibWFwcGluZ3MiOiJBQUFBOzs7OztDQUtDO0FBVUQsb0JBQW9CO0FBQ3BCQSxLQUFL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