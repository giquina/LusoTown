a873cfd26f4539e4a1ee469cd45dcad9
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    calculateProfileCompletion: function() {
        return calculateProfileCompletion;
    },
    compressImage: function() {
        return compressImage;
    },
    createClient: function() {
        return createClient;
    },
    deletePhoto: function() {
        return deletePhoto;
    },
    getCulturalCompatibility: function() {
        return getCulturalCompatibility;
    },
    getCulturalInsights: function() {
        return getCulturalInsights;
    },
    getCulturalPreferences: function() {
        return getCulturalPreferences;
    },
    getCurrentUser: function() {
        return getCurrentUser;
    },
    getCurrentUserProfile: function() {
        return getCurrentUserProfile;
    },
    getMembershipTierConfig: function() {
        return getMembershipTierConfig;
    },
    getPortugueseCulturalElements: function() {
        return getPortugueseCulturalElements;
    },
    getProfile: function() {
        return getProfile;
    },
    getPublicUrl: function() {
        return getPublicUrl;
    },
    getTopCulturalMatches: function() {
        return getTopCulturalMatches;
    },
    saveCulturalPreferences: function() {
        return saveCulturalPreferences;
    },
    searchProfiles: function() {
        return searchProfiles;
    },
    signOut: function() {
        return signOut;
    },
    supabase: function() {
        return supabase;
    },
    supabaseAnonKey: function() {
        return supabaseAnonKey;
    },
    supabaseUrl: function() {
        return supabaseUrl;
    },
    updateProfile: function() {
        return updateProfile;
    },
    uploadFile: function() {
        return uploadFile;
    },
    uploadPhoto: function() {
        return uploadPhoto;
    },
    validateImage: function() {
        return validateImage;
    }
});
const _supabasejs = require("@supabase/supabase-js");
const _logger = /*#__PURE__*/ _interop_require_default(require("../utils/logger"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || "https://placeholder.supabase.co";
const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || "placeholder-key";
const supabase = (0, _supabasejs.createClient)(supabaseUrl, supabaseAnonKey, {
    auth: {
        autoRefreshToken: true,
        persistSession: true,
        detectSessionInUrl: true
    }
});
function createClient(cookieStore) {
    const options = {
        auth: {
            autoRefreshToken: true,
            persistSession: true,
            detectSessionInUrl: true
        }
    };
    if (cookieStore) {
        options.cookies = {
            get (name) {
                const v = typeof cookieStore?.get === "function" ? cookieStore.get(name) : undefined;
                return typeof v === "string" ? v : v?.value;
            }
        };
    }
    return (0, _supabasejs.createClient)(supabaseUrl, supabaseAnonKey, options);
}
const getCurrentUser = async ()=>{
    const { data: { user }, error } = await supabase.auth.getUser();
    if (error) throw error;
    return user;
};
const signOut = async ()=>{
    const { error } = await supabase.auth.signOut();
    if (error) throw error;
};
const getProfile = async (userId)=>{
    try {
        const { data, error } = await supabase.from("profiles").select("*").eq("id", userId).single();
        if (error) throw error;
        return data;
    } catch (error) {
        _logger.default.error("Error fetching profile", error, {
            area: "auth",
            action: "get_profile"
        });
        return null;
    }
};
const getCurrentUserProfile = async ()=>{
    try {
        const user = await getCurrentUser();
        if (!user) return null;
        return await getProfile(user.id);
    } catch (error) {
        _logger.default.error("Error fetching current user profile", error, {
            area: "auth",
            action: "get_current_profile"
        });
        return null;
    }
};
const updateProfile = async (userId, updates)=>{
    try {
        const { data, error } = await supabase.from("profiles").update(updates).eq("id", userId).select().single();
        if (error) throw error;
        return {
            success: true,
            data
        };
    } catch (error) {
        _logger.default.error("Error updating profile", error, {
            area: "auth",
            action: "update_profile"
        });
        return {
            success: false,
            error: error instanceof Error ? error.message : "Unknown error"
        };
    }
};
const uploadPhoto = async (userId, file, isProfilePicture = false)=>{
    try {
        // Validate image
        const validation = validateImage(file);
        if (!validation.valid) {
            throw new Error(validation.error);
        }
        // Compress image
        const compressedFile = await compressImage(file);
        // Generate unique filename
        const fileExt = file.name.split(".").pop();
        const fileName = `${userId}/${Date.now()}-${Math.random().toString(36).substr(2, 9)}.${fileExt}`;
        // Upload to storage
        const { data: uploadData, error: uploadError } = await supabase.storage.from("profile-pictures").upload(fileName, compressedFile);
        if (uploadError) throw uploadError;
        // Get public URL
        const { data: urlData } = supabase.storage.from("profile-pictures").getPublicUrl(fileName);
        // Update profile if this is the profile picture
        if (isProfilePicture) {
            await updateProfile(userId, {
                profile_picture_url: urlData.publicUrl
            });
        }
        return {
            success: true,
            url: urlData.publicUrl,
            path: fileName
        };
    } catch (error) {
        _logger.default.error("Error uploading photo", error, {
            area: "auth",
            action: "upload_photo"
        });
        return {
            success: false,
            error: error instanceof Error ? error.message : "Unknown error"
        };
    }
};
const deletePhoto = async (path)=>{
    try {
        const { error } = await supabase.storage.from("profile-pictures").remove([
            path
        ]);
        if (error) throw error;
        return {
            success: true
        };
    } catch (error) {
        _logger.default.error("Error deleting photo", error, {
            area: "auth",
            action: "delete_photo"
        });
        return {
            success: false,
            error: error instanceof Error ? error.message : "Unknown error"
        };
    }
};
const calculateProfileCompletion = async (userId)=>{
    try {
        const profile = await getProfile(userId);
        if (!profile) {
            return {
                percentage: 0,
                completed_steps: [],
                missing_steps: [
                    "basic_info"
                ],
                total_points: 0,
                max_points: 100
            };
        }
        const steps = [
            {
                id: "basic_info",
                completed: !!(profile.first_name && profile.email),
                points: 15
            },
            {
                id: "profile_picture",
                completed: !!profile.profile_picture_url,
                points: 20
            },
            {
                id: "bio",
                completed: !!(profile.bio && profile.bio.length > 20),
                points: 15
            },
            {
                id: "location",
                completed: !!profile.location,
                points: 10
            },
            {
                id: "date_of_birth",
                completed: !!profile.date_of_birth,
                points: 10
            },
            {
                id: "interests",
                completed: !!(profile.interests && profile.interests.length >= 3),
                points: 15
            },
            {
                id: "verification",
                completed: profile.verification_status === "verified",
                points: 10
            },
            {
                id: "preferences",
                completed: !!profile.preferences?.looking_for,
                points: 5
            }
        ];
        const completedSteps = steps.filter((step)=>step.completed);
        const missingSteps = steps.filter((step)=>!step.completed);
        const totalPoints = completedSteps.reduce((sum, step)=>sum + step.points, 0);
        const maxPoints = steps.reduce((sum, step)=>sum + step.points, 0);
        return {
            percentage: Math.round(totalPoints / maxPoints * 100),
            completed_steps: completedSteps.map((s)=>s.id),
            missing_steps: missingSteps.map((s)=>s.id),
            total_points: totalPoints,
            max_points: maxPoints
        };
    } catch (error) {
        _logger.default.error("Error calculating profile completion", error, {
            area: "auth",
            action: "calculate_completion"
        });
        return {
            percentage: 0,
            completed_steps: [],
            missing_steps: [
                "error"
            ],
            total_points: 0,
            max_points: 100
        };
    }
};
const searchProfiles = async (filters)=>{
    try {
        let query = supabase.from("profiles").select("*").eq("is_active", true).eq("verification_status", "verified");
        // Apply filters
        if (filters?.age_range) {
            const today = new Date();
            const minDate = new Date(today.getFullYear() - filters.age_range.max, today.getMonth(), today.getDate());
            const maxDate = new Date(today.getFullYear() - filters.age_range.min, today.getMonth(), today.getDate());
            query = query.gte("date_of_birth", minDate.toISOString().split("T")[0]);
            query = query.lte("date_of_birth", maxDate.toISOString().split("T")[0]);
        }
        if (filters?.membership_tier) {
            query = query.eq("membership_tier", filters.membership_tier);
        }
        if (filters?.location?.length) {
            // Use ilike for partial location matching
            const locationFilter = filters.location.map((loc)=>`location.ilike.%${loc}%`).join(",");
            query = query.or(locationFilter);
        }
        if (filters?.limit) {
            query = query.limit(filters.limit);
        }
        const { data, error } = await query;
        if (error) throw error;
        // Filter by text search if provided
        let results = data || [];
        if (filters?.query) {
            const searchTerm = filters.query.toLowerCase();
            results = results.filter((profile)=>profile.first_name?.toLowerCase().includes(searchTerm) || profile.last_name?.toLowerCase().includes(searchTerm) || profile.bio?.toLowerCase().includes(searchTerm) || profile.location?.toLowerCase().includes(searchTerm));
        }
        return results;
    } catch (error) {
        _logger.default.error("Error searching profiles", error, {
            area: "matching",
            action: "search_profiles"
        });
        return [];
    }
};
const uploadFile = async (bucket, path, file)=>{
    const { data, error } = await supabase.storage.from(bucket).upload(path, file);
    if (error) throw error;
    return data;
};
const getPublicUrl = (bucket, path)=>{
    const { data } = supabase.storage.from(bucket).getPublicUrl(path);
    return data.publicUrl;
};
const validateImage = (file)=>{
    const maxSize = 5 * 1024 * 1024; // 5MB
    const allowedTypes = [
        "image/jpeg",
        "image/jpg",
        "image/png",
        "image/webp"
    ];
    if (!allowedTypes.includes(file.type)) {
        return {
            valid: false,
            error: "Please upload a JPG, PNG, or WebP image"
        };
    }
    if (file.size > maxSize) {
        return {
            valid: false,
            error: "Image must be smaller than 5MB"
        };
    }
    return {
        valid: true
    };
};
const compressImage = async (file, maxWidth = 1000, quality = 0.8)=>{
    return new Promise((resolve)=>{
        const canvas = document.createElement("canvas");
        const ctx = canvas.getContext("2d");
        const img = new Image();
        img.onload = ()=>{
            // Calculate new dimensions
            let { width, height } = img;
            if (width > maxWidth) {
                height = height * maxWidth / width;
                width = maxWidth;
            }
            canvas.width = width;
            canvas.height = height;
            // Draw and compress
            ctx?.drawImage(img, 0, 0, width, height);
            canvas.toBlob((blob)=>{
                if (blob) {
                    const compressedFile = new File([
                        blob
                    ], file.name, {
                        type: file.type,
                        lastModified: Date.now()
                    });
                    resolve(compressedFile);
                } else {
                    resolve(file);
                }
            }, file.type, quality);
        };
        img.src = URL.createObjectURL(file);
    });
};
const getMembershipTierConfig = (tier)=>{
    const configs = {
        basic: {
            tier: "basic",
            name: "Basic",
            namePortuguese: "B\xe1sico",
            monthlyPrice: 0,
            yearlyPrice: 0,
            description: "Basic community access with limited features",
            descriptionPortuguese: "Acesso b\xe1sico \xe0 comunidade com funcionalidades limitadas",
            color: "gray",
            icon: "UserIcon",
            features: [
                "5 matches per day",
                "20 messages per month",
                "Basic community events",
                "Profile browsing"
            ],
            featuresPortuguese: [
                "5 matches por dia",
                "20 mensagens por m\xeas",
                "Eventos b\xe1sicos da comunidade",
                "Navega\xe7\xe3o de perfis"
            ],
            limits: {
                dailyMatches: 5,
                monthlyMessages: 20,
                premiumEvents: 0,
                livestreamHours: 0
            }
        },
        student: {
            tier: "student",
            name: "Student",
            namePortuguese: "Estudante",
            monthlyPrice: 1250,
            yearlyPrice: 12500,
            description: "Special pricing for university students with verification",
            descriptionPortuguese: "Pre\xe7os especiais para estudantes universit\xe1rios com verifica\xe7\xe3o",
            color: "blue",
            icon: "AcademicCapIcon",
            features: [
                "50 matches per day",
                "100 messages per month",
                "2 premium events per month",
                "5 hours livestream access",
                "University partnerships",
                "Student network access"
            ],
            featuresPortuguese: [
                "50 matches por dia",
                "100 mensagens por m\xeas",
                "2 eventos premium por m\xeas",
                "5 horas de acesso a livestream",
                "Parcerias universit\xe1rias",
                "Acesso \xe0 rede de estudantes"
            ],
            limits: {
                dailyMatches: 50,
                monthlyMessages: 100,
                premiumEvents: 2,
                livestreamHours: 5
            },
            studentDiscount: 50
        },
        professional: {
            tier: "professional",
            name: "Professional",
            namePortuguese: "Profissional",
            monthlyPrice: 2500,
            yearlyPrice: 25000,
            description: "Full access for Lusophone professionals in London",
            descriptionPortuguese: "Acesso completo para profissionais portugueses em Londres",
            color: "primary",
            icon: "BriefcaseIcon",
            features: [
                "Unlimited matches",
                "Unlimited messages",
                "5 premium events per month",
                "10 hours livestream access",
                "Professional networking",
                "Business directory listing"
            ],
            featuresPortuguese: [
                "Matches ilimitados",
                "Mensagens ilimitadas",
                "5 eventos premium por m\xeas",
                "10 horas de acesso a livestream",
                "Networking profissional",
                "Listagem no diret\xf3rio de neg\xf3cios"
            ],
            limits: {
                dailyMatches: -1,
                monthlyMessages: -1,
                premiumEvents: 5,
                livestreamHours: 10
            },
            popular: true
        },
        business: {
            tier: "business",
            name: "Business",
            namePortuguese: "Neg\xf3cios",
            monthlyPrice: 9900,
            yearlyPrice: 99000,
            description: "Corporate networking and partnership tools",
            descriptionPortuguese: "Ferramentas de networking empresarial e parcerias",
            color: "amber",
            icon: "BuildingOfficeIcon",
            features: [
                "Unlimited everything",
                "25 hours livestream access",
                "Corporate event hosting",
                "Partnership opportunities",
                "Bulk employee accounts",
                "Business analytics"
            ],
            featuresPortuguese: [
                "Tudo ilimitado",
                "25 horas de acesso a livestream",
                "Hospedagem de eventos corporativos",
                "Oportunidades de parceria",
                "Contas em massa para funcion\xe1rios",
                "An\xe1lises de neg\xf3cios"
            ],
            limits: {
                dailyMatches: -1,
                monthlyMessages: -1,
                premiumEvents: -1,
                livestreamHours: 25
            }
        },
        vip: {
            tier: "vip",
            name: "VIP",
            namePortuguese: "VIP",
            monthlyPrice: 24900,
            yearlyPrice: 249000,
            description: "Exclusive VIP experiences and priority access",
            descriptionPortuguese: "Experi\xeancias VIP exclusivas e acesso priorit\xe1rio",
            color: "purple",
            icon: "CrownIcon",
            features: [
                "Everything unlimited",
                "VIP events and experiences",
                "Personal concierge service",
                "Priority matching algorithm",
                "Exclusive networking events",
                "Direct access to founders"
            ],
            featuresPortuguese: [
                "Tudo ilimitado",
                "Eventos e experi\xeancias VIP",
                "Servi\xe7o de concierge pessoal",
                "Algoritmo de matching priorit\xe1rio",
                "Eventos de networking exclusivos",
                "Acesso direto aos fundadores"
            ],
            limits: {
                dailyMatches: -1,
                monthlyMessages: -1,
                premiumEvents: -1,
                livestreamHours: -1
            }
        }
    };
    return configs[tier];
};
const getCulturalPreferences = async (userId)=>{
    try {
        const { data, error } = await supabase.from("cultural_preferences").select("*").eq("user_id", userId).single();
        if (error && error.code !== "PGRST116") {
            // PGRST116 means no rows found
            throw error;
        }
        return data;
    } catch (error) {
        _logger.default.error("Error fetching cultural preferences", error, {
            area: "cultural",
            action: "get_preferences",
            culturalContext: "lusophone"
        });
        return null;
    }
};
const saveCulturalPreferences = async (userId, preferences)=>{
    try {
        const { data, error } = await supabase.from("cultural_preferences").upsert({
            user_id: userId,
            ...preferences,
            last_updated: new Date().toISOString(),
            quiz_version: "1.0"
        }).select().single();
        if (error) throw error;
        // Trigger compatibility calculation for this user
        try {
            await supabase.rpc("update_user_compatibility_scores", {
                target_user_id: userId
            });
        } catch (compatError) {
            _logger.default.warn("Failed to update compatibility scores", undefined, {
                area: "matching",
                action: "update_compatibility"
            });
        // Don't fail the main operation if compatibility calculation fails
        }
        return {
            success: true,
            data
        };
    } catch (error) {
        _logger.default.error("Error saving cultural preferences", error, {
            area: "cultural",
            action: "save_preferences",
            culturalContext: "lusophone"
        });
        return {
            success: false,
            error: error instanceof Error ? error.message : "Unknown error"
        };
    }
};
const getCulturalCompatibility = async (userAId, userBId)=>{
    try {
        const { data, error } = await supabase.from("cultural_compatibility").select("*").eq("user_a_id", userAId).eq("user_b_id", userBId).single();
        if (error && error.code !== "PGRST116") {
            throw error;
        }
        return data;
    } catch (error) {
        _logger.default.error("Error fetching cultural compatibility", error, {
            area: "matching",
            action: "get_compatibility",
            culturalContext: "lusophone"
        });
        return null;
    }
};
const getTopCulturalMatches = async (userId, limit = 10)=>{
    try {
        const { data, error } = await supabase.from("cultural_compatibility").select(`
        *,
        profile:profiles!cultural_compatibility_user_b_id_fkey(*)
      `).eq("user_a_id", userId).order("overall_compatibility", {
            ascending: false
        }).limit(limit);
        if (error) throw error;
        return data || [];
    } catch (error) {
        _logger.default.error("Error fetching top cultural matches", error, {
            area: "matching",
            action: "get_top_matches",
            culturalContext: "lusophone"
        });
        return [];
    }
};
const getPortugueseCulturalElements = async ()=>{
    try {
        const { data, error } = await supabase.from("portuguese_cultural_elements").select("*").eq("is_active", true).order("popularity_score", {
            ascending: false
        });
        if (error) throw error;
        return data || [];
    } catch (error) {
        _logger.default.error("Error fetching Lusophone cultural elements", error, {
            area: "cultural",
            action: "get_elements",
            culturalContext: "lusophone"
        });
        return [];
    }
};
const getCulturalInsights = async ()=>{
    try {
        const { data, error } = await supabase.from("cultural_insights").select("*").eq("is_active", true).order("category");
        if (error) throw error;
        return data || [];
    } catch (error) {
        _logger.default.error("Error fetching cultural insights", error, {
            area: "cultural",
            action: "get_insights",
            culturalContext: "lusophone"
        });
        return [];
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi93b3Jrc3BhY2VzL0x1c29Ub3duL3dlYi1hcHAvc3JjL2xpYi9zdXBhYmFzZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgYXMgY3JlYXRlU3VwYWJhc2VDbGllbnQgfSBmcm9tIFwiQHN1cGFiYXNlL3N1cGFiYXNlLWpzXCI7XG5pbXBvcnQgbG9nZ2VyIGZyb20gJ0AvdXRpbHMvbG9nZ2VyJztcblxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlVXJsID1cbiAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIHx8IFwiaHR0cHM6Ly9wbGFjZWhvbGRlci5zdXBhYmFzZS5jb1wiO1xuZXhwb3J0IGNvbnN0IHN1cGFiYXNlQW5vbktleSA9XG4gIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIHx8IFwicGxhY2Vob2xkZXIta2V5XCI7XG5cbmV4cG9ydCBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZVN1cGFiYXNlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXksIHtcbiAgYXV0aDoge1xuICAgIGF1dG9SZWZyZXNoVG9rZW46IHRydWUsXG4gICAgcGVyc2lzdFNlc3Npb246IHRydWUsXG4gICAgZGV0ZWN0U2Vzc2lvbkluVXJsOiB0cnVlLFxuICB9LFxufSk7XG5cbi8vIFNlcnZlci1zaWRlIGNsaWVudCBmb3IgQVBJIHJvdXRlcyAoc2FmZSBmb3IgY2xpZW50IGJ1bmRsZXMpXG4vLyBBdm9pZCBpbXBvcnRpbmcgYG5leHQvaGVhZGVyc2AgYXQgbW9kdWxlIHNjb3BlIHRvIGtlZXAgdGhpcyBmaWxlIGNsaWVudC1jb21wYXRpYmxlLlxudHlwZSBDb29raWVTdG9yZUxpa2UgPVxuICB8IHtcbiAgICAgIGdldDogKG5hbWU6IHN0cmluZykgPT4geyB2YWx1ZT86IHN0cmluZyB9IHwgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIH1cbiAgfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDbGllbnQoY29va2llU3RvcmU/OiBDb29raWVTdG9yZUxpa2UpIHtcbiAgY29uc3Qgb3B0aW9uczogYW55ID0ge1xuICAgIGF1dGg6IHtcbiAgICAgIGF1dG9SZWZyZXNoVG9rZW46IHRydWUsXG4gICAgICBwZXJzaXN0U2Vzc2lvbjogdHJ1ZSxcbiAgICAgIGRldGVjdFNlc3Npb25JblVybDogdHJ1ZSxcbiAgICB9LFxuICB9O1xuXG4gIGlmIChjb29raWVTdG9yZSkge1xuICAgIG9wdGlvbnMuY29va2llcyA9IHtcbiAgICAgIGdldChuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgdiA9XG4gICAgICAgICAgdHlwZW9mIChjb29raWVTdG9yZSBhcyBhbnkpPy5nZXQgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgPyAoY29va2llU3RvcmUgYXMgYW55KS5nZXQobmFtZSlcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gdHlwZW9mIHYgPT09IFwic3RyaW5nXCIgPyB2IDogdj8udmFsdWU7XG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICByZXR1cm4gY3JlYXRlU3VwYWJhc2VDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlQW5vbktleSwgb3B0aW9ucyk7XG59XG5cbi8vIFR5cGVzIGZvciBvdXIgZGF0YWJhc2VcbmV4cG9ydCBpbnRlcmZhY2UgUHJvZmlsZSB7XG4gIGlkOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIGZpcnN0X25hbWU6IHN0cmluZztcbiAgbGFzdF9uYW1lPzogc3RyaW5nO1xuICBkYXRlX29mX2JpcnRoOiBzdHJpbmc7XG4gIGJpbz86IHN0cmluZztcbiAgbG9jYXRpb24/OiBzdHJpbmc7XG4gIHZlcmlmaWNhdGlvbl9zdGF0dXM6IFwicGVuZGluZ1wiIHwgXCJ2ZXJpZmllZFwiIHwgXCJyZWplY3RlZFwiO1xuICB2ZXJpZmljYXRpb25fc2VsZmllX3VybD86IHN0cmluZztcbiAgcHJvZmlsZV9waWN0dXJlX3VybD86IHN0cmluZztcbiAgaXNfYWN0aXZlOiBib29sZWFuO1xuICBtZW1iZXJzaGlwX3RpZXI6IFwiZnJlZVwiIHwgXCJjb3JlXCIgfCBcInByZW1pdW1cIjtcbiAgc3RyaXBlX2N1c3RvbWVyX2lkPzogc3RyaW5nO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnRlcmVzdCB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgY2F0ZWdvcnk6IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIGljb24/OiBzdHJpbmc7XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHcm91cCB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIGdyb3VwX3R5cGU6IFwiaW50ZXJlc3RcIiB8IFwibG9jYXRpb25cIiB8IFwiYWN0aXZpdHlcIjtcbiAgY2F0ZWdvcnk/OiBzdHJpbmc7XG4gIGxvY2F0aW9uPzogc3RyaW5nO1xuICBsb25kb25fYm9yb3VnaD86IHN0cmluZztcbiAgaXNfcHJpdmF0ZTogYm9vbGVhbjtcbiAgbWF4X21lbWJlcnM/OiBudW1iZXI7XG4gIGN1cnJlbnRfbWVtYmVyX2NvdW50OiBudW1iZXI7XG4gIGNyZWF0ZWRfYnk6IHN0cmluZztcbiAgaW1hZ2VfdXJsPzogc3RyaW5nO1xuICBydWxlcz86IHN0cmluZztcbiAgaXNfYWN0aXZlOiBib29sZWFuO1xuICBwb3J0dWd1ZXNlX29yaWdpbj86XG4gICAgfCBcInBvcnR1Z2FsXCJcbiAgICB8IFwiYnJhemlsXCJcbiAgICB8IFwiYW5nb2xhXCJcbiAgICB8IFwibW96YW1iaXF1ZVwiXG4gICAgfCBcImNhcGUtdmVyZGVcIlxuICAgIHwgXCJndWluZWEtYmlzc2F1XCJcbiAgICB8IFwic2FvLXRvbWUtcHJpbmNpcGVcIlxuICAgIHwgXCJlYXN0LXRpbW9yXCJcbiAgICB8IFwibWFjYXVcIlxuICAgIHwgXCJlcXVhdG9yaWFsLWd1aW5lYVwiXG4gICAgfCBcIm1peGVkXCJcbiAgICB8IFwiYW55XCI7XG4gIGxhbmd1YWdlX3ByZWZlcmVuY2U/OiBcImVuZ2xpc2hcIiB8IFwicG9ydHVndWVzZVwiIHwgXCJwdC1wdFwiIHwgXCJwdC1iclwiIHwgXCJib3RoXCI7XG4gIGFnZV9yZXN0cmljdGlvbnM/OiB7XG4gICAgbWluX2FnZT86IG51bWJlcjtcbiAgICBtYXhfYWdlPzogbnVtYmVyO1xuICAgIHByb2Zlc3Npb25hbHNfd2VsY29tZT86IGJvb2xlYW47XG4gIH07XG4gIG1lZXRpbmdfZnJlcXVlbmN5PzpcbiAgICB8IFwid2Vla2x5XCJcbiAgICB8IFwiYml3ZWVrbHlcIlxuICAgIHwgXCJtb250aGx5XCJcbiAgICB8IFwicXVhcnRlcmx5XCJcbiAgICB8IFwiaXJyZWd1bGFyXCJcbiAgICB8IFwib25lLXRpbWVcIjtcbiAgdmVyaWZpY2F0aW9uX2xldmVsPzogXCJub25lXCIgfCBcImJhc2ljXCIgfCBcInZlcmlmaWVkXCIgfCBcInByZW1pdW1cIjtcbiAgc2FmZXR5X2ZlYXR1cmVzPzoge1xuICAgIGF1dG9fbW9kZXJhdGlvbj86IGJvb2xlYW47XG4gICAgbWFudWFsX2FwcHJvdmFsPzogYm9vbGVhbjtcbiAgICBiYWNrZ3JvdW5kX2NoZWNrX3JlcXVpcmVkPzogYm9vbGVhbjtcbiAgfTtcbiAgY3VsdHVyYWxfZm9jdXM/OiB7XG4gICAgcHJlc2VydmVzX2hlcml0YWdlPzogYm9vbGVhbjtcbiAgICBwcm9mZXNzaW9uYWxfbmV0d29ya2luZz86IGJvb2xlYW47XG4gICAgdHJhZGl0aW9uYWxfYWN0aXZpdGllcz86IGJvb2xlYW47XG4gICAgbGFuZ3VhZ2VfbGVhcm5pbmc/OiBib29sZWFuO1xuICB9O1xuICBjb250YWN0X2luZm8/OiB7XG4gICAgZW1haWw/OiBzdHJpbmc7XG4gICAgcGhvbmU/OiBzdHJpbmc7XG4gICAgd2hhdHNhcHA/OiBzdHJpbmc7XG4gICAgdGVsZWdyYW0/OiBzdHJpbmc7XG4gIH07XG4gIGdyb3VwX3RhZ3M/OiBzdHJpbmdbXTtcbiAgbW9kZXJhdGlvbl9zdGF0dXM/OlxuICAgIHwgXCJwZW5kaW5nXCJcbiAgICB8IFwiYXBwcm92ZWRcIlxuICAgIHwgXCJyZWplY3RlZFwiXG4gICAgfCBcImZsYWdnZWRcIlxuICAgIHwgXCJ1bmRlcl9yZXZpZXdcIjtcbiAgcmVqZWN0aW9uX3JlYXNvbj86IHN0cmluZztcbiAgbGFzdF9tb2RlcmF0ZWRfYXQ/OiBzdHJpbmc7XG4gIG1vZGVyYXRlZF9ieT86IHN0cmluZztcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JvdXBDYXRlZ29yeSB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWVfZW46IHN0cmluZztcbiAgbmFtZV9wdDogc3RyaW5nO1xuICBkZXNjcmlwdGlvbl9lbj86IHN0cmluZztcbiAgZGVzY3JpcHRpb25fcHQ/OiBzdHJpbmc7XG4gIGljb24/OiBzdHJpbmc7XG4gIGNvbG9yX2NsYXNzPzogc3RyaW5nO1xuICBpc19hZ2VfcmVzdHJpY3RlZDogYm9vbGVhbjtcbiAgbWluX2FnZT86IG51bWJlcjtcbiAgaXNfYWN0aXZlOiBib29sZWFuO1xuICBkaXNwbGF5X29yZGVyOiBudW1iZXI7XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHcm91cFJlcG9ydCB7XG4gIGlkOiBzdHJpbmc7XG4gIGdyb3VwX2lkOiBzdHJpbmc7XG4gIHJlcG9ydGVkX2J5OiBzdHJpbmc7XG4gIHJlcG9ydF90eXBlOlxuICAgIHwgXCJpbmFwcHJvcHJpYXRlX2NvbnRlbnRcIlxuICAgIHwgXCJzcGFtXCJcbiAgICB8IFwiaGFyYXNzbWVudFwiXG4gICAgfCBcImZha2VfZ3JvdXBcIlxuICAgIHwgXCJzYWZldHlfY29uY2VyblwiXG4gICAgfCBcImFnZV9pbmFwcHJvcHJpYXRlXCJcbiAgICB8IFwib3RoZXJcIjtcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgc3RhdHVzOiBcInBlbmRpbmdcIiB8IFwiaW52ZXN0aWdhdGluZ1wiIHwgXCJyZXNvbHZlZFwiIHwgXCJkaXNtaXNzZWRcIjtcbiAgcmV2aWV3ZWRfYnk/OiBzdHJpbmc7XG4gIHJldmlld2VkX2F0Pzogc3RyaW5nO1xuICByZXNvbHV0aW9uX25vdGVzPzogc3RyaW5nO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JvdXBKb2luUmVxdWVzdCB7XG4gIGlkOiBzdHJpbmc7XG4gIGdyb3VwX2lkOiBzdHJpbmc7XG4gIHVzZXJfaWQ6IHN0cmluZztcbiAgbWVzc2FnZT86IHN0cmluZztcbiAgc3RhdHVzOiBcInBlbmRpbmdcIiB8IFwiYXBwcm92ZWRcIiB8IFwicmVqZWN0ZWRcIjtcbiAgcmV2aWV3ZWRfYnk/OiBzdHJpbmc7XG4gIHJldmlld2VkX2F0Pzogc3RyaW5nO1xuICByZXNwb25zZV9tZXNzYWdlPzogc3RyaW5nO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnQge1xuICBpZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgZXZlbnRfdHlwZTogXCJvbmxpbmVcIiB8IFwiaW5fcGVyc29uXCIgfCBcImh5YnJpZFwiO1xuICBsb2NhdGlvbj86IHN0cmluZztcbiAgdmlydHVhbF9saW5rPzogc3RyaW5nO1xuICBzdGFydF9kYXRldGltZTogc3RyaW5nO1xuICBlbmRfZGF0ZXRpbWU6IHN0cmluZztcbiAgbWF4X2F0dGVuZGVlcz86IG51bWJlcjtcbiAgY3VycmVudF9hdHRlbmRlZV9jb3VudDogbnVtYmVyO1xuICBwcmljZTogbnVtYmVyO1xuICBjdXJyZW5jeTogc3RyaW5nO1xuICBncm91cF9pZD86IHN0cmluZztcbiAgY3JlYXRlZF9ieTogc3RyaW5nO1xuICBpbWFnZV91cmw/OiBzdHJpbmc7XG4gIGlzX2ZlYXR1cmVkOiBib29sZWFuO1xuICBzdGF0dXM6IFwiYWN0aXZlXCIgfCBcImNhbmNlbGxlZFwiIHwgXCJjb21wbGV0ZWRcIjtcbiAgdGFncz86IHN0cmluZ1tdO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn1cblxuLy8gRXh0ZW5kZWQgUHJvZmlsZSBpbnRlcmZhY2Ugd2l0aCBwcml2YWN5IGFuZCBwcmVmZXJlbmNlc1xuZXhwb3J0IGludGVyZmFjZSBVc2VyUHJvZmlsZSBleHRlbmRzIFByb2ZpbGUge1xuICBpbnRlcmVzdHM/OiBzdHJpbmdbXTtcbiAgcGhvdG9zPzogUHJvZmlsZVBob3RvW107XG4gIHByZWZlcmVuY2VzPzoge1xuICAgIGxvb2tpbmdfZm9yOiBcImZyaWVuZHNoaXBcIiB8IFwiYWN0aXZpdHlfcGFydG5lcnNcIiB8IFwibmV0d29ya2luZ1wiIHwgXCJhbGxcIjtcbiAgICBhZ2VfcmFuZ2VfbWluOiBudW1iZXI7XG4gICAgYWdlX3JhbmdlX21heDogbnVtYmVyO1xuICAgIHByZWZlcnJlZF9sb2NhdGlvbnM/OiBzdHJpbmdbXTtcbiAgfTtcbiAgcHJpdmFjeV9zZXR0aW5ncz86IHtcbiAgICBzaG93X2FnZTogYm9vbGVhbjtcbiAgICBzaG93X2xvY2F0aW9uOiBib29sZWFuO1xuICAgIGFsbG93X21lc3NhZ2VzOiBcImV2ZXJ5b25lXCIgfCBcImNvbm5lY3Rpb25zXCIgfCBcInByZW1pdW1cIjtcbiAgICBwcm9maWxlX3Zpc2liaWxpdHk6IFwicHVibGljXCIgfCBcIm1lbWJlcnNfb25seVwiIHwgXCJjb25uZWN0aW9uc19vbmx5XCI7XG4gIH07XG4gIHZlcmlmaWNhdGlvbl9kYXRhPzoge1xuICAgIGVtYWlsX3ZlcmlmaWVkOiBib29sZWFuO1xuICAgIHBob25lX3ZlcmlmaWVkOiBib29sZWFuO1xuICAgIHBob3RvX3ZlcmlmaWVkOiBib29sZWFuO1xuICAgIGJhY2tncm91bmRfY2hlY2tlZDogYm9vbGVhbjtcbiAgfTtcbiAgc3RhdHM/OiB7XG4gICAgY29ubmVjdGlvbnNfY291bnQ6IG51bWJlcjtcbiAgICBldmVudHNfYXR0ZW5kZWQ6IG51bWJlcjtcbiAgICBwcm9maWxlX2NvbXBsZXRpb246IG51bWJlcjtcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcm9maWxlUGhvdG8ge1xuICBpZDogc3RyaW5nO1xuICB1c2VyX2lkOiBzdHJpbmc7XG4gIHVybDogc3RyaW5nO1xuICBjYXB0aW9uPzogc3RyaW5nO1xuICBpc19wcm9maWxlX3BpY3R1cmU6IGJvb2xlYW47XG4gIHVwbG9hZGVkX2F0OiBzdHJpbmc7XG4gIGlzX2FjdGl2ZTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcm9maWxlQ29tcGxldGlvbiB7XG4gIHBlcmNlbnRhZ2U6IG51bWJlcjtcbiAgY29tcGxldGVkX3N0ZXBzOiBzdHJpbmdbXTtcbiAgbWlzc2luZ19zdGVwczogc3RyaW5nW107XG4gIHRvdGFsX3BvaW50czogbnVtYmVyO1xuICBtYXhfcG9pbnRzOiBudW1iZXI7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIGNvbW1vbiBvcGVyYXRpb25zXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFVzZXIgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgICBlcnJvcixcbiAgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICByZXR1cm4gdXNlcjtcbn07XG5cbmV4cG9ydCBjb25zdCBzaWduT3V0ID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25PdXQoKTtcbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbn07XG5cbi8vIFByb2ZpbGUgbWFuYWdlbWVudCBmdW5jdGlvbnNcbmV4cG9ydCBjb25zdCBnZXRQcm9maWxlID0gYXN5bmMgKFxuICB1c2VySWQ6IHN0cmluZ1xuKTogUHJvbWlzZTxVc2VyUHJvZmlsZSB8IG51bGw+ID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJwcm9maWxlc1wiKVxuICAgICAgLnNlbGVjdChcIipcIilcbiAgICAgIC5lcShcImlkXCIsIHVzZXJJZClcbiAgICAgIC5zaW5nbGUoKTtcblxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdFcnJvciBmZXRjaGluZyBwcm9maWxlJywgZXJyb3IsIHsgYXJlYTogJ2F1dGgnLCBhY3Rpb246ICdnZXRfcHJvZmlsZScgfSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDdXJyZW50VXNlclByb2ZpbGUgPSBhc3luYyAoKTogUHJvbWlzZTxVc2VyUHJvZmlsZSB8IG51bGw+ID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgZ2V0Q3VycmVudFVzZXIoKTtcbiAgICBpZiAoIXVzZXIpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIGF3YWl0IGdldFByb2ZpbGUodXNlci5pZCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdFcnJvciBmZXRjaGluZyBjdXJyZW50IHVzZXIgcHJvZmlsZScsIGVycm9yLCB7IGFyZWE6ICdhdXRoJywgYWN0aW9uOiAnZ2V0X2N1cnJlbnRfcHJvZmlsZScgfSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVQcm9maWxlID0gYXN5bmMgKFxuICB1c2VySWQ6IHN0cmluZyxcbiAgdXBkYXRlczogUGFydGlhbDxVc2VyUHJvZmlsZT5cbikgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbShcInByb2ZpbGVzXCIpXG4gICAgICAudXBkYXRlKHVwZGF0ZXMpXG4gICAgICAuZXEoXCJpZFwiLCB1c2VySWQpXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5zaW5nbGUoKTtcblxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci5lcnJvcignRXJyb3IgdXBkYXRpbmcgcHJvZmlsZScsIGVycm9yLCB7IGFyZWE6ICdhdXRoJywgYWN0aW9uOiAndXBkYXRlX3Byb2ZpbGUnIH0pO1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiLFxuICAgIH07XG4gIH1cbn07XG5cbi8vIFBob3RvIG1hbmFnZW1lbnQgZnVuY3Rpb25zXG5leHBvcnQgY29uc3QgdXBsb2FkUGhvdG8gPSBhc3luYyAoXG4gIHVzZXJJZDogc3RyaW5nLFxuICBmaWxlOiBGaWxlLFxuICBpc1Byb2ZpbGVQaWN0dXJlOiBib29sZWFuID0gZmFsc2VcbikgPT4ge1xuICB0cnkge1xuICAgIC8vIFZhbGlkYXRlIGltYWdlXG4gICAgY29uc3QgdmFsaWRhdGlvbiA9IHZhbGlkYXRlSW1hZ2UoZmlsZSk7XG4gICAgaWYgKCF2YWxpZGF0aW9uLnZhbGlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IodmFsaWRhdGlvbi5lcnJvcik7XG4gICAgfVxuXG4gICAgLy8gQ29tcHJlc3MgaW1hZ2VcbiAgICBjb25zdCBjb21wcmVzc2VkRmlsZSA9IGF3YWl0IGNvbXByZXNzSW1hZ2UoZmlsZSk7XG5cbiAgICAvLyBHZW5lcmF0ZSB1bmlxdWUgZmlsZW5hbWVcbiAgICBjb25zdCBmaWxlRXh0ID0gZmlsZS5uYW1lLnNwbGl0KFwiLlwiKS5wb3AoKTtcbiAgICBjb25zdCBmaWxlTmFtZSA9IGAke3VzZXJJZH0vJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKClcbiAgICAgIC50b1N0cmluZygzNilcbiAgICAgIC5zdWJzdHIoMiwgOSl9LiR7ZmlsZUV4dH1gO1xuXG4gICAgLy8gVXBsb2FkIHRvIHN0b3JhZ2VcbiAgICBjb25zdCB7IGRhdGE6IHVwbG9hZERhdGEsIGVycm9yOiB1cGxvYWRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Uuc3RvcmFnZVxuICAgICAgLmZyb20oXCJwcm9maWxlLXBpY3R1cmVzXCIpXG4gICAgICAudXBsb2FkKGZpbGVOYW1lLCBjb21wcmVzc2VkRmlsZSk7XG5cbiAgICBpZiAodXBsb2FkRXJyb3IpIHRocm93IHVwbG9hZEVycm9yO1xuXG4gICAgLy8gR2V0IHB1YmxpYyBVUkxcbiAgICBjb25zdCB7IGRhdGE6IHVybERhdGEgfSA9IHN1cGFiYXNlLnN0b3JhZ2VcbiAgICAgIC5mcm9tKFwicHJvZmlsZS1waWN0dXJlc1wiKVxuICAgICAgLmdldFB1YmxpY1VybChmaWxlTmFtZSk7XG5cbiAgICAvLyBVcGRhdGUgcHJvZmlsZSBpZiB0aGlzIGlzIHRoZSBwcm9maWxlIHBpY3R1cmVcbiAgICBpZiAoaXNQcm9maWxlUGljdHVyZSkge1xuICAgICAgYXdhaXQgdXBkYXRlUHJvZmlsZSh1c2VySWQsIHsgcHJvZmlsZV9waWN0dXJlX3VybDogdXJsRGF0YS5wdWJsaWNVcmwgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICB1cmw6IHVybERhdGEucHVibGljVXJsLFxuICAgICAgcGF0aDogZmlsZU5hbWUsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIHVwbG9hZGluZyBwaG90bycsIGVycm9yLCB7IGFyZWE6ICdhdXRoJywgYWN0aW9uOiAndXBsb2FkX3Bob3RvJyB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIixcbiAgICB9O1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZGVsZXRlUGhvdG8gPSBhc3luYyAocGF0aDogc3RyaW5nKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Uuc3RvcmFnZVxuICAgICAgLmZyb20oXCJwcm9maWxlLXBpY3R1cmVzXCIpXG4gICAgICAucmVtb3ZlKFtwYXRoXSk7XG5cbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIHBob3RvJywgZXJyb3IsIHsgYXJlYTogJ2F1dGgnLCBhY3Rpb246ICdkZWxldGVfcGhvdG8nIH0pO1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiLFxuICAgIH07XG4gIH1cbn07XG5cbi8vIFByb2ZpbGUgY29tcGxldGlvbiBjYWxjdWxhdGlvblxuZXhwb3J0IGNvbnN0IGNhbGN1bGF0ZVByb2ZpbGVDb21wbGV0aW9uID0gYXN5bmMgKFxuICB1c2VySWQ6IHN0cmluZ1xuKTogUHJvbWlzZTxQcm9maWxlQ29tcGxldGlvbj4gPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHByb2ZpbGUgPSBhd2FpdCBnZXRQcm9maWxlKHVzZXJJZCk7XG4gICAgaWYgKCFwcm9maWxlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwZXJjZW50YWdlOiAwLFxuICAgICAgICBjb21wbGV0ZWRfc3RlcHM6IFtdLFxuICAgICAgICBtaXNzaW5nX3N0ZXBzOiBbXCJiYXNpY19pbmZvXCJdLFxuICAgICAgICB0b3RhbF9wb2ludHM6IDAsXG4gICAgICAgIG1heF9wb2ludHM6IDEwMCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3Qgc3RlcHMgPSBbXG4gICAgICB7XG4gICAgICAgIGlkOiBcImJhc2ljX2luZm9cIixcbiAgICAgICAgY29tcGxldGVkOiAhIShwcm9maWxlLmZpcnN0X25hbWUgJiYgcHJvZmlsZS5lbWFpbCksXG4gICAgICAgIHBvaW50czogMTUsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogXCJwcm9maWxlX3BpY3R1cmVcIixcbiAgICAgICAgY29tcGxldGVkOiAhIXByb2ZpbGUucHJvZmlsZV9waWN0dXJlX3VybCxcbiAgICAgICAgcG9pbnRzOiAyMCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiBcImJpb1wiLFxuICAgICAgICBjb21wbGV0ZWQ6ICEhKHByb2ZpbGUuYmlvICYmIHByb2ZpbGUuYmlvLmxlbmd0aCA+IDIwKSxcbiAgICAgICAgcG9pbnRzOiAxNSxcbiAgICAgIH0sXG4gICAgICB7IGlkOiBcImxvY2F0aW9uXCIsIGNvbXBsZXRlZDogISFwcm9maWxlLmxvY2F0aW9uLCBwb2ludHM6IDEwIH0sXG4gICAgICB7IGlkOiBcImRhdGVfb2ZfYmlydGhcIiwgY29tcGxldGVkOiAhIXByb2ZpbGUuZGF0ZV9vZl9iaXJ0aCwgcG9pbnRzOiAxMCB9LFxuICAgICAge1xuICAgICAgICBpZDogXCJpbnRlcmVzdHNcIixcbiAgICAgICAgY29tcGxldGVkOiAhIShwcm9maWxlLmludGVyZXN0cyAmJiBwcm9maWxlLmludGVyZXN0cy5sZW5ndGggPj0gMyksXG4gICAgICAgIHBvaW50czogMTUsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogXCJ2ZXJpZmljYXRpb25cIixcbiAgICAgICAgY29tcGxldGVkOiBwcm9maWxlLnZlcmlmaWNhdGlvbl9zdGF0dXMgPT09IFwidmVyaWZpZWRcIixcbiAgICAgICAgcG9pbnRzOiAxMCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiBcInByZWZlcmVuY2VzXCIsXG4gICAgICAgIGNvbXBsZXRlZDogISFwcm9maWxlLnByZWZlcmVuY2VzPy5sb29raW5nX2ZvcixcbiAgICAgICAgcG9pbnRzOiA1LFxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgY29uc3QgY29tcGxldGVkU3RlcHMgPSBzdGVwcy5maWx0ZXIoKHN0ZXApID0+IHN0ZXAuY29tcGxldGVkKTtcbiAgICBjb25zdCBtaXNzaW5nU3RlcHMgPSBzdGVwcy5maWx0ZXIoKHN0ZXApID0+ICFzdGVwLmNvbXBsZXRlZCk7XG4gICAgY29uc3QgdG90YWxQb2ludHMgPSBjb21wbGV0ZWRTdGVwcy5yZWR1Y2UoXG4gICAgICAoc3VtLCBzdGVwKSA9PiBzdW0gKyBzdGVwLnBvaW50cyxcbiAgICAgIDBcbiAgICApO1xuICAgIGNvbnN0IG1heFBvaW50cyA9IHN0ZXBzLnJlZHVjZSgoc3VtLCBzdGVwKSA9PiBzdW0gKyBzdGVwLnBvaW50cywgMCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcGVyY2VudGFnZTogTWF0aC5yb3VuZCgodG90YWxQb2ludHMgLyBtYXhQb2ludHMpICogMTAwKSxcbiAgICAgIGNvbXBsZXRlZF9zdGVwczogY29tcGxldGVkU3RlcHMubWFwKChzKSA9PiBzLmlkKSxcbiAgICAgIG1pc3Npbmdfc3RlcHM6IG1pc3NpbmdTdGVwcy5tYXAoKHMpID0+IHMuaWQpLFxuICAgICAgdG90YWxfcG9pbnRzOiB0b3RhbFBvaW50cyxcbiAgICAgIG1heF9wb2ludHM6IG1heFBvaW50cyxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci5lcnJvcignRXJyb3IgY2FsY3VsYXRpbmcgcHJvZmlsZSBjb21wbGV0aW9uJywgZXJyb3IsIHsgYXJlYTogJ2F1dGgnLCBhY3Rpb246ICdjYWxjdWxhdGVfY29tcGxldGlvbicgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBlcmNlbnRhZ2U6IDAsXG4gICAgICBjb21wbGV0ZWRfc3RlcHM6IFtdLFxuICAgICAgbWlzc2luZ19zdGVwczogW1wiZXJyb3JcIl0sXG4gICAgICB0b3RhbF9wb2ludHM6IDAsXG4gICAgICBtYXhfcG9pbnRzOiAxMDAsXG4gICAgfTtcbiAgfVxufTtcblxuLy8gU2VhcmNoIHByb2ZpbGVzIHdpdGggZmlsdGVyc1xuZXhwb3J0IGNvbnN0IHNlYXJjaFByb2ZpbGVzID0gYXN5bmMgKGZpbHRlcnM/OiB7XG4gIHF1ZXJ5Pzogc3RyaW5nO1xuICBhZ2VfcmFuZ2U/OiB7IG1pbjogbnVtYmVyOyBtYXg6IG51bWJlciB9O1xuICBsb2NhdGlvbj86IHN0cmluZ1tdO1xuICBpbnRlcmVzdHM/OiBzdHJpbmdbXTtcbiAgbWVtYmVyc2hpcF90aWVyPzogXCJmcmVlXCIgfCBcImNvcmVcIiB8IFwicHJlbWl1bVwiO1xuICBsaW1pdD86IG51bWJlcjtcbn0pOiBQcm9taXNlPFVzZXJQcm9maWxlW10+ID0+IHtcbiAgdHJ5IHtcbiAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJwcm9maWxlc1wiKVxuICAgICAgLnNlbGVjdChcIipcIilcbiAgICAgIC5lcShcImlzX2FjdGl2ZVwiLCB0cnVlKVxuICAgICAgLmVxKFwidmVyaWZpY2F0aW9uX3N0YXR1c1wiLCBcInZlcmlmaWVkXCIpO1xuXG4gICAgLy8gQXBwbHkgZmlsdGVyc1xuICAgIGlmIChmaWx0ZXJzPy5hZ2VfcmFuZ2UpIHtcbiAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgIGNvbnN0IG1pbkRhdGUgPSBuZXcgRGF0ZShcbiAgICAgICAgdG9kYXkuZ2V0RnVsbFllYXIoKSAtIGZpbHRlcnMuYWdlX3JhbmdlLm1heCxcbiAgICAgICAgdG9kYXkuZ2V0TW9udGgoKSxcbiAgICAgICAgdG9kYXkuZ2V0RGF0ZSgpXG4gICAgICApO1xuICAgICAgY29uc3QgbWF4RGF0ZSA9IG5ldyBEYXRlKFxuICAgICAgICB0b2RheS5nZXRGdWxsWWVhcigpIC0gZmlsdGVycy5hZ2VfcmFuZ2UubWluLFxuICAgICAgICB0b2RheS5nZXRNb250aCgpLFxuICAgICAgICB0b2RheS5nZXREYXRlKClcbiAgICAgICk7XG4gICAgICBxdWVyeSA9IHF1ZXJ5Lmd0ZShcImRhdGVfb2ZfYmlydGhcIiwgbWluRGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXSk7XG4gICAgICBxdWVyeSA9IHF1ZXJ5Lmx0ZShcImRhdGVfb2ZfYmlydGhcIiwgbWF4RGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXSk7XG4gICAgfVxuXG4gICAgaWYgKGZpbHRlcnM/Lm1lbWJlcnNoaXBfdGllcikge1xuICAgICAgcXVlcnkgPSBxdWVyeS5lcShcIm1lbWJlcnNoaXBfdGllclwiLCBmaWx0ZXJzLm1lbWJlcnNoaXBfdGllcik7XG4gICAgfVxuXG4gICAgaWYgKGZpbHRlcnM/LmxvY2F0aW9uPy5sZW5ndGgpIHtcbiAgICAgIC8vIFVzZSBpbGlrZSBmb3IgcGFydGlhbCBsb2NhdGlvbiBtYXRjaGluZ1xuICAgICAgY29uc3QgbG9jYXRpb25GaWx0ZXIgPSBmaWx0ZXJzLmxvY2F0aW9uXG4gICAgICAgIC5tYXAoKGxvYykgPT4gYGxvY2F0aW9uLmlsaWtlLiUke2xvY30lYClcbiAgICAgICAgLmpvaW4oXCIsXCIpO1xuICAgICAgcXVlcnkgPSBxdWVyeS5vcihsb2NhdGlvbkZpbHRlcik7XG4gICAgfVxuXG4gICAgaWYgKGZpbHRlcnM/LmxpbWl0KSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5LmxpbWl0KGZpbHRlcnMubGltaXQpO1xuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5O1xuXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcblxuICAgIC8vIEZpbHRlciBieSB0ZXh0IHNlYXJjaCBpZiBwcm92aWRlZFxuICAgIGxldCByZXN1bHRzID0gZGF0YSB8fCBbXTtcbiAgICBpZiAoZmlsdGVycz8ucXVlcnkpIHtcbiAgICAgIGNvbnN0IHNlYXJjaFRlcm0gPSBmaWx0ZXJzLnF1ZXJ5LnRvTG93ZXJDYXNlKCk7XG4gICAgICByZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIoXG4gICAgICAgIChwcm9maWxlKSA9PlxuICAgICAgICAgIHByb2ZpbGUuZmlyc3RfbmFtZT8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtKSB8fFxuICAgICAgICAgIHByb2ZpbGUubGFzdF9uYW1lPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFRlcm0pIHx8XG4gICAgICAgICAgcHJvZmlsZS5iaW8/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoVGVybSkgfHxcbiAgICAgICAgICBwcm9maWxlLmxvY2F0aW9uPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFRlcm0pXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRzO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci5lcnJvcignRXJyb3Igc2VhcmNoaW5nIHByb2ZpbGVzJywgZXJyb3IsIHsgYXJlYTogJ21hdGNoaW5nJywgYWN0aW9uOiAnc2VhcmNoX3Byb2ZpbGVzJyB9KTtcbiAgICByZXR1cm4gW107XG4gIH1cbn07XG5cbi8vIEZpbGUgdXBsb2FkIGhlbHBlcnNcbmV4cG9ydCBjb25zdCB1cGxvYWRGaWxlID0gYXN5bmMgKGJ1Y2tldDogc3RyaW5nLCBwYXRoOiBzdHJpbmcsIGZpbGU6IEZpbGUpID0+IHtcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Uuc3RvcmFnZVxuICAgIC5mcm9tKGJ1Y2tldClcbiAgICAudXBsb2FkKHBhdGgsIGZpbGUpO1xuXG4gIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gIHJldHVybiBkYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFB1YmxpY1VybCA9IChidWNrZXQ6IHN0cmluZywgcGF0aDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHsgZGF0YSB9ID0gc3VwYWJhc2Uuc3RvcmFnZS5mcm9tKGJ1Y2tldCkuZ2V0UHVibGljVXJsKHBhdGgpO1xuXG4gIHJldHVybiBkYXRhLnB1YmxpY1VybDtcbn07XG5cbi8vIEltYWdlIHZhbGlkYXRpb24gYW5kIGNvbXByZXNzaW9uIHV0aWxpdGllc1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRlSW1hZ2UgPSAoXG4gIGZpbGU6IEZpbGVcbik6IHsgdmFsaWQ6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0gPT4ge1xuICBjb25zdCBtYXhTaXplID0gNSAqIDEwMjQgKiAxMDI0OyAvLyA1TUJcbiAgY29uc3QgYWxsb3dlZFR5cGVzID0gW1wiaW1hZ2UvanBlZ1wiLCBcImltYWdlL2pwZ1wiLCBcImltYWdlL3BuZ1wiLCBcImltYWdlL3dlYnBcIl07XG5cbiAgaWYgKCFhbGxvd2VkVHlwZXMuaW5jbHVkZXMoZmlsZS50eXBlKSkge1xuICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgZXJyb3I6IFwiUGxlYXNlIHVwbG9hZCBhIEpQRywgUE5HLCBvciBXZWJQIGltYWdlXCIgfTtcbiAgfVxuXG4gIGlmIChmaWxlLnNpemUgPiBtYXhTaXplKSB7XG4gICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcjogXCJJbWFnZSBtdXN0IGJlIHNtYWxsZXIgdGhhbiA1TUJcIiB9O1xuICB9XG5cbiAgcmV0dXJuIHsgdmFsaWQ6IHRydWUgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBjb21wcmVzc0ltYWdlID0gYXN5bmMgKFxuICBmaWxlOiBGaWxlLFxuICBtYXhXaWR0aDogbnVtYmVyID0gMTAwMCxcbiAgcXVhbGl0eTogbnVtYmVyID0gMC44XG4pOiBQcm9taXNlPEZpbGU+ID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuXG4gICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIC8vIENhbGN1bGF0ZSBuZXcgZGltZW5zaW9uc1xuICAgICAgbGV0IHsgd2lkdGgsIGhlaWdodCB9ID0gaW1nO1xuICAgICAgaWYgKHdpZHRoID4gbWF4V2lkdGgpIHtcbiAgICAgICAgaGVpZ2h0ID0gKGhlaWdodCAqIG1heFdpZHRoKSAvIHdpZHRoO1xuICAgICAgICB3aWR0aCA9IG1heFdpZHRoO1xuICAgICAgfVxuXG4gICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgIC8vIERyYXcgYW5kIGNvbXByZXNzXG4gICAgICBjdHg/LmRyYXdJbWFnZShpbWcsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgY2FudmFzLnRvQmxvYihcbiAgICAgICAgKGJsb2IpID0+IHtcbiAgICAgICAgICBpZiAoYmxvYikge1xuICAgICAgICAgICAgY29uc3QgY29tcHJlc3NlZEZpbGUgPSBuZXcgRmlsZShbYmxvYl0sIGZpbGUubmFtZSwge1xuICAgICAgICAgICAgICB0eXBlOiBmaWxlLnR5cGUsXG4gICAgICAgICAgICAgIGxhc3RNb2RpZmllZDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVzb2x2ZShjb21wcmVzc2VkRmlsZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUoZmlsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmaWxlLnR5cGUsXG4gICAgICAgIHF1YWxpdHlcbiAgICAgICk7XG4gICAgfTtcblxuICAgIGltZy5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuICB9KTtcbn07XG5cbi8vIFRyYW5zcG9ydCBTZXJ2aWNlIFR5cGVzXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zcG9ydFNlcnZpY2Uge1xuICBpZDogc3RyaW5nO1xuICBzZXJ2aWNlX25hbWU6IHN0cmluZztcbiAgc2VydmljZV90eXBlOlxuICAgIHwgXCJleGVjdXRpdmVcIlxuICAgIHwgXCJ0b3VyaXNtXCJcbiAgICB8IFwiYWlycG9ydFwiXG4gICAgfCBcImV2ZW50c1wiXG4gICAgfCBcImJ1c2luZXNzXCJcbiAgICB8IFwicGVyc29uYWxcIjtcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIGJhc2VfaG91cmx5X3JhdGU6IG51bWJlcjtcbiAgbWluaW11bV9ob3VyczogbnVtYmVyO1xuICBkYXlfcmF0ZT86IG51bWJlcjtcbiAgbWluaW11bV9kYXlfaG91cnM6IG51bWJlcjtcbiAgY2FsbF9vdXRfZmVlOiBudW1iZXI7XG4gIHBlYWtfdGltZV9tdWx0aXBsaWVyOiBudW1iZXI7XG4gIGN1cnJlbmN5OiBzdHJpbmc7XG4gIGlzX2FjdGl2ZTogYm9vbGVhbjtcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNwb3J0VmVoaWNsZSB7XG4gIGlkOiBzdHJpbmc7XG4gIG1ha2U6IHN0cmluZztcbiAgbW9kZWw6IHN0cmluZztcbiAgeWVhcjogbnVtYmVyO1xuICBjYXRlZ29yeTogXCJleGVjdXRpdmVcIiB8IFwibHV4dXJ5XCIgfCBcInByZW1pdW1cIiB8IFwic3RhbmRhcmRcIjtcbiAgbWF4X3Bhc3NlbmdlcnM6IG51bWJlcjtcbiAgZmVhdHVyZXM6IHN0cmluZ1tdO1xuICBpbWFnZV91cmw/OiBzdHJpbmc7XG4gIGhvdXJseV9yYXRlX3ByZW1pdW06IG51bWJlcjtcbiAgaXNfYWN0aXZlOiBib29sZWFuO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNwb3J0RHJpdmVyIHtcbiAgaWQ6IHN0cmluZztcbiAgZmlyc3RfbmFtZTogc3RyaW5nO1xuICBsYXN0X25hbWU6IHN0cmluZztcbiAgbGljZW5zZV9udW1iZXI6IHN0cmluZztcbiAgbGFuZ3VhZ2VzX3Nwb2tlbjogc3RyaW5nW107XG4gIHllYXJzX2V4cGVyaWVuY2U6IG51bWJlcjtcbiAgc3BlY2lhbGl6YXRpb25zOiBzdHJpbmdbXTtcbiAgYmFja2dyb3VuZF9jaGVja19kYXRlOiBzdHJpbmc7XG4gIHByb2ZpbGVfcGljdHVyZV91cmw/OiBzdHJpbmc7XG4gIGhvdXJseV9yYXRlX3ByZW1pdW06IG51bWJlcjtcbiAgaXNfYWN0aXZlOiBib29sZWFuO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNwb3J0UHJpY2luZ1RpZXIge1xuICBpZDogc3RyaW5nO1xuICB0aWVyX25hbWU6IHN0cmluZztcbiAgYmxvY2tfaG91cnNfbWluOiBudW1iZXI7XG4gIGJsb2NrX2hvdXJzX21heD86IG51bWJlcjtcbiAgZGlzY291bnRfcGVyY2VudGFnZTogbnVtYmVyO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgaXNfYWN0aXZlOiBib29sZWFuO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNwb3J0UGVha1RpbWUge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHN0YXJ0X3RpbWU6IHN0cmluZztcbiAgZW5kX3RpbWU6IHN0cmluZztcbiAgZGF5c19vZl93ZWVrOiBudW1iZXJbXTtcbiAgbXVsdGlwbGllcjogbnVtYmVyO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgaXNfYWN0aXZlOiBib29sZWFuO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNwb3J0Qm9va2luZyB7XG4gIGlkOiBzdHJpbmc7XG4gIGJvb2tpbmdfcmVmZXJlbmNlOiBzdHJpbmc7XG4gIGN1c3RvbWVyX2lkOiBzdHJpbmc7XG4gIHNlcnZpY2VfaWQ6IHN0cmluZztcbiAgdmVoaWNsZV9pZD86IHN0cmluZztcbiAgZHJpdmVyX2lkPzogc3RyaW5nO1xuICBib29raW5nX3R5cGU6IFwiaG91cmx5XCIgfCBcImRheV9yYXRlXCIgfCBcImJsb2NrX2Jvb2tpbmdcIiB8IFwiYWlycG9ydF90cmFuc2ZlclwiO1xuICBwaWNrdXBfZGF0ZXRpbWU6IHN0cmluZztcbiAgcGlja3VwX2xvY2F0aW9uOiBzdHJpbmc7XG4gIHBpY2t1cF9wb3N0Y29kZT86IHN0cmluZztcbiAgZHJvcG9mZl9sb2NhdGlvbj86IHN0cmluZztcbiAgZHJvcG9mZl9wb3N0Y29kZT86IHN0cmluZztcblxuICAvLyBQcmljaW5nIGRldGFpbHNcbiAgYmFzZV9ob3VyczogbnVtYmVyO1xuICBhY3R1YWxfaG91cnM/OiBudW1iZXI7XG4gIGhvdXJseV9yYXRlOiBudW1iZXI7XG4gIGRheV9yYXRlX2FwcGxpZWQ/OiBudW1iZXI7XG4gIGNhbGxfb3V0X2ZlZTogbnVtYmVyO1xuICBwZWFrX3RpbWVfY2hhcmdlczogbnVtYmVyO1xuICBibG9ja19kaXNjb3VudF9wZXJjZW50YWdlOiBudW1iZXI7XG4gIHZlaGljbGVfcHJlbWl1bTogbnVtYmVyO1xuICBkcml2ZXJfcHJlbWl1bTogbnVtYmVyO1xuICBzdWJ0b3RhbDogbnVtYmVyO1xuICBtZW1iZXJfZGlzY291bnRfcGVyY2VudGFnZTogbnVtYmVyO1xuICBtZW1iZXJfZGlzY291bnRfYW1vdW50OiBudW1iZXI7XG4gIHRvdGFsX2Ftb3VudDogbnVtYmVyO1xuICBjdXJyZW5jeTogc3RyaW5nO1xuXG4gIC8vIEN1c3RvbWVyIGRldGFpbHNcbiAgY3VzdG9tZXJfbm90ZXM/OiBzdHJpbmc7XG4gIHNwZWNpYWxfcmVxdWlyZW1lbnRzPzogc3RyaW5nO1xuICBwYXNzZW5nZXJfY291bnQ6IG51bWJlcjtcbiAgY3VzdG9tZXJfcGhvbmU/OiBzdHJpbmc7XG4gIGN1c3RvbWVyX2VtYWlsPzogc3RyaW5nO1xuXG4gIC8vIFN0YXR1c1xuICBzdGF0dXM6XG4gICAgfCBcInBlbmRpbmdcIlxuICAgIHwgXCJjb25maXJtZWRcIlxuICAgIHwgXCJhc3NpZ25lZFwiXG4gICAgfCBcImluX3Byb2dyZXNzXCJcbiAgICB8IFwiY29tcGxldGVkXCJcbiAgICB8IFwiY2FuY2VsbGVkXCJcbiAgICB8IFwibm9fc2hvd1wiO1xuICBwYXltZW50X3N0YXR1czogXCJwZW5kaW5nXCIgfCBcInBhaWRcIiB8IFwicGFydGlhbFwiIHwgXCJyZWZ1bmRlZFwiIHwgXCJmYWlsZWRcIjtcbiAgcGF5bWVudF9tZXRob2Q/OiBzdHJpbmc7XG4gIHN0cmlwZV9wYXltZW50X2ludGVudF9pZD86IHN0cmluZztcblxuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbiAgY29uZmlybWVkX2F0Pzogc3RyaW5nO1xuICBjb21wbGV0ZWRfYXQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNwb3J0Qm9va2luZ0V4dHJhIHtcbiAgaWQ6IHN0cmluZztcbiAgYm9va2luZ19pZDogc3RyaW5nO1xuICBleHRyYV90eXBlOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHF1YW50aXR5OiBudW1iZXI7XG4gIHVuaXRfcHJpY2U6IG51bWJlcjtcbiAgdG90YWxfcHJpY2U6IG51bWJlcjtcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zcG9ydEF2YWlsYWJpbGl0eSB7XG4gIGlkOiBzdHJpbmc7XG4gIGRyaXZlcl9pZD86IHN0cmluZztcbiAgdmVoaWNsZV9pZD86IHN0cmluZztcbiAgc3RhcnRfZGF0ZXRpbWU6IHN0cmluZztcbiAgZW5kX2RhdGV0aW1lOiBzdHJpbmc7XG4gIGF2YWlsYWJpbGl0eV90eXBlOiBcImF2YWlsYWJsZVwiIHwgXCJidXN5XCIgfCBcIm1haW50ZW5hbmNlXCIgfCBcInVuYXZhaWxhYmxlXCI7XG4gIG5vdGVzPzogc3RyaW5nO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG59XG5cbi8vIFByaWNpbmcgY2FsY3VsYXRpb24gaW50ZXJmYWNlc1xuZXhwb3J0IGludGVyZmFjZSBQcmljaW5nQ2FsY3VsYXRpb25SZXF1ZXN0IHtcbiAgc2VydmljZV9pZDogc3RyaW5nO1xuICB2ZWhpY2xlX2lkPzogc3RyaW5nO1xuICBkcml2ZXJfaWQ/OiBzdHJpbmc7XG4gIHBpY2t1cF9kYXRldGltZTogc3RyaW5nO1xuICBob3VyczogbnVtYmVyO1xuICBib29raW5nX3R5cGU6IFwiaG91cmx5XCIgfCBcImRheV9yYXRlXCIgfCBcImJsb2NrX2Jvb2tpbmdcIiB8IFwiYWlycG9ydF90cmFuc2ZlclwiO1xuICBtZW1iZXJzaGlwX3RpZXI/OiBcImZyZWVcIiB8IFwiY29yZVwiIHwgXCJwcmVtaXVtXCI7XG4gIHBhc3Nlbmdlcl9jb3VudD86IG51bWJlcjtcbiAgZXh0cmFzPzogeyB0eXBlOiBzdHJpbmc7IHF1YW50aXR5OiBudW1iZXIgfVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFByaWNpbmdDYWxjdWxhdGlvblJlc3VsdCB7XG4gIGJhc2VfcmF0ZTogbnVtYmVyO1xuICBob3VyczogbnVtYmVyO1xuICBzdWJ0b3RhbDogbnVtYmVyO1xuICBjYWxsX291dF9mZWU6IG51bWJlcjtcbiAgcGVha190aW1lX2NoYXJnZXM6IG51bWJlcjtcbiAgYmxvY2tfZGlzY291bnQ6IHtcbiAgICBhcHBsaWNhYmxlOiBib29sZWFuO1xuICAgIHBlcmNlbnRhZ2U6IG51bWJlcjtcbiAgICBhbW91bnQ6IG51bWJlcjtcbiAgfTtcbiAgdmVoaWNsZV9wcmVtaXVtOiBudW1iZXI7XG4gIGRyaXZlcl9wcmVtaXVtOiBudW1iZXI7XG4gIG1lbWJlcl9kaXNjb3VudDoge1xuICAgIGFwcGxpY2FibGU6IGJvb2xlYW47XG4gICAgcGVyY2VudGFnZTogbnVtYmVyO1xuICAgIGFtb3VudDogbnVtYmVyO1xuICB9O1xuICBleHRyYXNfdG90YWw6IG51bWJlcjtcbiAgdG90YWxfYW1vdW50OiBudW1iZXI7XG4gIGN1cnJlbmN5OiBzdHJpbmc7XG4gIGJyZWFrZG93bjoge1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgYW1vdW50OiBudW1iZXI7XG4gICAgdHlwZTogXCJjaGFyZ2VcIiB8IFwiZGlzY291bnRcIjtcbiAgfVtdO1xufVxuXG4vLyBQcmVtaXVtIE1lbWJlcnNoaXAgU3lzdGVtIFR5cGVzXG5leHBvcnQgaW50ZXJmYWNlIFN1YnNjcmlwdGlvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIHVzZXJfaWQ6IHN0cmluZztcbiAgc3RyaXBlX3N1YnNjcmlwdGlvbl9pZD86IHN0cmluZztcbiAgc3RyaXBlX2N1c3RvbWVyX2lkPzogc3RyaW5nO1xuICBzdGF0dXM6IFwiYWN0aXZlXCIgfCBcImluYWN0aXZlXCIgfCBcImNhbmNlbGxlZFwiIHwgXCJwYXN0X2R1ZVwiIHwgXCJ0cmlhbGluZ1wiO1xuICBwbGFuX3R5cGU6IFwieWVhcmx5XCI7XG4gIHRpZXI6IFwiYnJvbnplXCIgfCBcInNpbHZlclwiIHwgXCJnb2xkXCIgfCBcInBsYXRpbnVtXCI7XG4gIGN1cnJlbnRfcGVyaW9kX3N0YXJ0Pzogc3RyaW5nO1xuICBjdXJyZW50X3BlcmlvZF9lbmQ/OiBzdHJpbmc7XG4gIHRyaWFsX2VuZD86IHN0cmluZztcbiAgYW1vdW50OiBudW1iZXI7XG4gIGN1cnJlbmN5OiBzdHJpbmc7XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lbWJlcnNoaXBCZW5lZml0IHtcbiAgaWQ6IHN0cmluZztcbiAgdGllcjogXCJicm9uemVcIiB8IFwic2lsdmVyXCIgfCBcImdvbGRcIiB8IFwicGxhdGludW1cIjtcbiAgYmVuZWZpdF90eXBlOlxuICAgIHwgXCJzZXJ2aWNlX2Rpc2NvdW50XCJcbiAgICB8IFwiY3VsdHVyYWxfZXZlbnRzXCJcbiAgICB8IFwiYnVzaW5lc3NfbmV0d29ya2luZ1wiXG4gICAgfCBcImNvbmNpZXJnZV9zdXBwb3J0XCJcbiAgICB8IFwicHJlbWl1bV9hY2Nlc3NcIjtcbiAgYmVuZWZpdF9uYW1lOiBzdHJpbmc7XG4gIGJlbmVmaXRfZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIGJlbmVmaXRfdmFsdWU/OiBzdHJpbmc7XG4gIGlzX2FjdGl2ZTogYm9vbGVhbjtcbiAgc29ydF9vcmRlcjogbnVtYmVyO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZW1iZXJzaGlwVXNhZ2Uge1xuICBpZDogc3RyaW5nO1xuICB1c2VyX2lkOiBzdHJpbmc7XG4gIHN1YnNjcmlwdGlvbl9pZDogc3RyaW5nO1xuICBiZW5lZml0X3R5cGU6IHN0cmluZztcbiAgdXNhZ2VfZGF0ZTogc3RyaW5nO1xuICBzZXJ2aWNlX3R5cGU/OiBzdHJpbmc7XG4gIGRpc2NvdW50X2FwcGxpZWQ/OiBudW1iZXI7XG4gIGFtb3VudF9zYXZlZD86IG51bWJlcjtcbiAgbm90ZXM/OiBzdHJpbmc7XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQb3J0dWd1ZXNlQ29tbXVuaXR5UGFydG5lcnNoaXAge1xuICBpZDogc3RyaW5nO1xuICBwYXJ0bmVyX25hbWU6IHN0cmluZztcbiAgcGFydG5lcl90eXBlOlxuICAgIHwgXCJjaGFtYmVyX29mX2NvbW1lcmNlXCJcbiAgICB8IFwiY3VsdHVyYWxfaW5zdGl0dXRlXCJcbiAgICB8IFwiYnVzaW5lc3NfYXNzb2NpYXRpb25cIlxuICAgIHwgXCJjb21tdW5pdHlfb3JnYW5pemF0aW9uXCI7XG4gIHBhcnRuZXJzaGlwX2Rlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBtZW1iZXJfYmVuZWZpdHM/OiBzdHJpbmc7XG4gIHJlcXVpcmVkX3RpZXI/OiBcImJyb256ZVwiIHwgXCJzaWx2ZXJcIiB8IFwiZ29sZFwiIHwgXCJwbGF0aW51bVwiO1xuICBjb250YWN0X2luZm8/OiBhbnk7XG4gIGlzX2FjdGl2ZTogYm9vbGVhbjtcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIE1lbWJlcnNoaXBUaWVyID1cbiAgfCBcImJhc2ljXCJcbiAgfCBcInN0dWRlbnRcIlxuICB8IFwicHJvZmVzc2lvbmFsXCJcbiAgfCBcImJ1c2luZXNzXCJcbiAgfCBcInZpcFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIE1lbWJlcnNoaXBUaWVyQ29uZmlnIHtcbiAgdGllcjogTWVtYmVyc2hpcFRpZXI7XG4gIG5hbWU6IHN0cmluZztcbiAgbmFtZVBvcnR1Z3Vlc2U6IHN0cmluZztcbiAgbW9udGhseVByaWNlOiBudW1iZXI7XG4gIHllYXJseVByaWNlOiBudW1iZXI7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uUG9ydHVndWVzZTogc3RyaW5nO1xuICBjb2xvcjogc3RyaW5nO1xuICBpY29uOiBzdHJpbmc7XG4gIGZlYXR1cmVzOiBzdHJpbmdbXTtcbiAgZmVhdHVyZXNQb3J0dWd1ZXNlOiBzdHJpbmdbXTtcbiAgbGltaXRzOiB7XG4gICAgZGFpbHlNYXRjaGVzOiBudW1iZXI7XG4gICAgbW9udGhseU1lc3NhZ2VzOiBudW1iZXI7XG4gICAgcHJlbWl1bUV2ZW50czogbnVtYmVyO1xuICAgIGxpdmVzdHJlYW1Ib3VyczogbnVtYmVyO1xuICB9O1xuICBwb3B1bGFyPzogYm9vbGVhbjtcbiAgc3R1ZGVudERpc2NvdW50PzogbnVtYmVyO1xufVxuXG4vLyBNZW1iZXJzaGlwIHV0aWxpdHkgZnVuY3Rpb25zXG5leHBvcnQgY29uc3QgZ2V0TWVtYmVyc2hpcFRpZXJDb25maWcgPSAoXG4gIHRpZXI6IE1lbWJlcnNoaXBUaWVyXG4pOiBNZW1iZXJzaGlwVGllckNvbmZpZyA9PiB7XG4gIGNvbnN0IGNvbmZpZ3M6IFJlY29yZDxNZW1iZXJzaGlwVGllciwgTWVtYmVyc2hpcFRpZXJDb25maWc+ID0ge1xuICAgIGJhc2ljOiB7XG4gICAgICB0aWVyOiBcImJhc2ljXCIsXG4gICAgICBuYW1lOiBcIkJhc2ljXCIsXG4gICAgICBuYW1lUG9ydHVndWVzZTogXCJCw6FzaWNvXCIsXG4gICAgICBtb250aGx5UHJpY2U6IDAsXG4gICAgICB5ZWFybHlQcmljZTogMCxcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkJhc2ljIGNvbW11bml0eSBhY2Nlc3Mgd2l0aCBsaW1pdGVkIGZlYXR1cmVzXCIsXG4gICAgICBkZXNjcmlwdGlvblBvcnR1Z3Vlc2U6XG4gICAgICAgIFwiQWNlc3NvIGLDoXNpY28gw6AgY29tdW5pZGFkZSBjb20gZnVuY2lvbmFsaWRhZGVzIGxpbWl0YWRhc1wiLFxuICAgICAgY29sb3I6IFwiZ3JheVwiLFxuICAgICAgaWNvbjogXCJVc2VySWNvblwiLFxuICAgICAgZmVhdHVyZXM6IFtcbiAgICAgICAgXCI1IG1hdGNoZXMgcGVyIGRheVwiLFxuICAgICAgICBcIjIwIG1lc3NhZ2VzIHBlciBtb250aFwiLFxuICAgICAgICBcIkJhc2ljIGNvbW11bml0eSBldmVudHNcIixcbiAgICAgICAgXCJQcm9maWxlIGJyb3dzaW5nXCIsXG4gICAgICBdLFxuICAgICAgZmVhdHVyZXNQb3J0dWd1ZXNlOiBbXG4gICAgICAgIFwiNSBtYXRjaGVzIHBvciBkaWFcIixcbiAgICAgICAgXCIyMCBtZW5zYWdlbnMgcG9yIG3DqnNcIixcbiAgICAgICAgXCJFdmVudG9zIGLDoXNpY29zIGRhIGNvbXVuaWRhZGVcIixcbiAgICAgICAgXCJOYXZlZ2HDp8OjbyBkZSBwZXJmaXNcIixcbiAgICAgIF0sXG4gICAgICBsaW1pdHM6IHtcbiAgICAgICAgZGFpbHlNYXRjaGVzOiA1LFxuICAgICAgICBtb250aGx5TWVzc2FnZXM6IDIwLFxuICAgICAgICBwcmVtaXVtRXZlbnRzOiAwLFxuICAgICAgICBsaXZlc3RyZWFtSG91cnM6IDAsXG4gICAgICB9LFxuICAgIH0sXG4gICAgc3R1ZGVudDoge1xuICAgICAgdGllcjogXCJzdHVkZW50XCIsXG4gICAgICBuYW1lOiBcIlN0dWRlbnRcIixcbiAgICAgIG5hbWVQb3J0dWd1ZXNlOiBcIkVzdHVkYW50ZVwiLFxuICAgICAgbW9udGhseVByaWNlOiAxMjUwLCAvLyDCozEyLjUwXG4gICAgICB5ZWFybHlQcmljZTogMTI1MDAsIC8vIMKjMTI1ICg1MCUgb2ZmIHJlZ3VsYXIpXG4gICAgICBkZXNjcmlwdGlvbjogXCJTcGVjaWFsIHByaWNpbmcgZm9yIHVuaXZlcnNpdHkgc3R1ZGVudHMgd2l0aCB2ZXJpZmljYXRpb25cIixcbiAgICAgIGRlc2NyaXB0aW9uUG9ydHVndWVzZTpcbiAgICAgICAgXCJQcmXDp29zIGVzcGVjaWFpcyBwYXJhIGVzdHVkYW50ZXMgdW5pdmVyc2l0w6FyaW9zIGNvbSB2ZXJpZmljYcOnw6NvXCIsXG4gICAgICBjb2xvcjogXCJibHVlXCIsXG4gICAgICBpY29uOiBcIkFjYWRlbWljQ2FwSWNvblwiLFxuICAgICAgZmVhdHVyZXM6IFtcbiAgICAgICAgXCI1MCBtYXRjaGVzIHBlciBkYXlcIixcbiAgICAgICAgXCIxMDAgbWVzc2FnZXMgcGVyIG1vbnRoXCIsXG4gICAgICAgIFwiMiBwcmVtaXVtIGV2ZW50cyBwZXIgbW9udGhcIixcbiAgICAgICAgXCI1IGhvdXJzIGxpdmVzdHJlYW0gYWNjZXNzXCIsXG4gICAgICAgIFwiVW5pdmVyc2l0eSBwYXJ0bmVyc2hpcHNcIixcbiAgICAgICAgXCJTdHVkZW50IG5ldHdvcmsgYWNjZXNzXCIsXG4gICAgICBdLFxuICAgICAgZmVhdHVyZXNQb3J0dWd1ZXNlOiBbXG4gICAgICAgIFwiNTAgbWF0Y2hlcyBwb3IgZGlhXCIsXG4gICAgICAgIFwiMTAwIG1lbnNhZ2VucyBwb3IgbcOqc1wiLFxuICAgICAgICBcIjIgZXZlbnRvcyBwcmVtaXVtIHBvciBtw6pzXCIsXG4gICAgICAgIFwiNSBob3JhcyBkZSBhY2Vzc28gYSBsaXZlc3RyZWFtXCIsXG4gICAgICAgIFwiUGFyY2VyaWFzIHVuaXZlcnNpdMOhcmlhc1wiLFxuICAgICAgICBcIkFjZXNzbyDDoCByZWRlIGRlIGVzdHVkYW50ZXNcIixcbiAgICAgIF0sXG4gICAgICBsaW1pdHM6IHtcbiAgICAgICAgZGFpbHlNYXRjaGVzOiA1MCxcbiAgICAgICAgbW9udGhseU1lc3NhZ2VzOiAxMDAsXG4gICAgICAgIHByZW1pdW1FdmVudHM6IDIsXG4gICAgICAgIGxpdmVzdHJlYW1Ib3VyczogNSxcbiAgICAgIH0sXG4gICAgICBzdHVkZW50RGlzY291bnQ6IDUwLFxuICAgIH0sXG4gICAgcHJvZmVzc2lvbmFsOiB7XG4gICAgICB0aWVyOiBcInByb2Zlc3Npb25hbFwiLFxuICAgICAgbmFtZTogXCJQcm9mZXNzaW9uYWxcIixcbiAgICAgIG5hbWVQb3J0dWd1ZXNlOiBcIlByb2Zpc3Npb25hbFwiLFxuICAgICAgbW9udGhseVByaWNlOiAyNTAwLCAvLyDCozI1XG4gICAgICB5ZWFybHlQcmljZTogMjUwMDAsIC8vIMKjMjUwXG4gICAgICBkZXNjcmlwdGlvbjogXCJGdWxsIGFjY2VzcyBmb3IgTHVzb3Bob25lIHByb2Zlc3Npb25hbHMgaW4gTG9uZG9uXCIsXG4gICAgICBkZXNjcmlwdGlvblBvcnR1Z3Vlc2U6XG4gICAgICAgIFwiQWNlc3NvIGNvbXBsZXRvIHBhcmEgcHJvZmlzc2lvbmFpcyBwb3J0dWd1ZXNlcyBlbSBMb25kcmVzXCIsXG4gICAgICBjb2xvcjogXCJwcmltYXJ5XCIsXG4gICAgICBpY29uOiBcIkJyaWVmY2FzZUljb25cIixcbiAgICAgIGZlYXR1cmVzOiBbXG4gICAgICAgIFwiVW5saW1pdGVkIG1hdGNoZXNcIixcbiAgICAgICAgXCJVbmxpbWl0ZWQgbWVzc2FnZXNcIixcbiAgICAgICAgXCI1IHByZW1pdW0gZXZlbnRzIHBlciBtb250aFwiLFxuICAgICAgICBcIjEwIGhvdXJzIGxpdmVzdHJlYW0gYWNjZXNzXCIsXG4gICAgICAgIFwiUHJvZmVzc2lvbmFsIG5ldHdvcmtpbmdcIixcbiAgICAgICAgXCJCdXNpbmVzcyBkaXJlY3RvcnkgbGlzdGluZ1wiLFxuICAgICAgXSxcbiAgICAgIGZlYXR1cmVzUG9ydHVndWVzZTogW1xuICAgICAgICBcIk1hdGNoZXMgaWxpbWl0YWRvc1wiLFxuICAgICAgICBcIk1lbnNhZ2VucyBpbGltaXRhZGFzXCIsXG4gICAgICAgIFwiNSBldmVudG9zIHByZW1pdW0gcG9yIG3DqnNcIixcbiAgICAgICAgXCIxMCBob3JhcyBkZSBhY2Vzc28gYSBsaXZlc3RyZWFtXCIsXG4gICAgICAgIFwiTmV0d29ya2luZyBwcm9maXNzaW9uYWxcIixcbiAgICAgICAgXCJMaXN0YWdlbSBubyBkaXJldMOzcmlvIGRlIG5lZ8OzY2lvc1wiLFxuICAgICAgXSxcbiAgICAgIGxpbWl0czoge1xuICAgICAgICBkYWlseU1hdGNoZXM6IC0xLFxuICAgICAgICBtb250aGx5TWVzc2FnZXM6IC0xLFxuICAgICAgICBwcmVtaXVtRXZlbnRzOiA1LFxuICAgICAgICBsaXZlc3RyZWFtSG91cnM6IDEwLFxuICAgICAgfSxcbiAgICAgIHBvcHVsYXI6IHRydWUsXG4gICAgfSxcbiAgICBidXNpbmVzczoge1xuICAgICAgdGllcjogXCJidXNpbmVzc1wiLFxuICAgICAgbmFtZTogXCJCdXNpbmVzc1wiLFxuICAgICAgbmFtZVBvcnR1Z3Vlc2U6IFwiTmVnw7NjaW9zXCIsXG4gICAgICBtb250aGx5UHJpY2U6IDk5MDAsIC8vIMKjOTlcbiAgICAgIHllYXJseVByaWNlOiA5OTAwMCwgLy8gwqM5OTBcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkNvcnBvcmF0ZSBuZXR3b3JraW5nIGFuZCBwYXJ0bmVyc2hpcCB0b29sc1wiLFxuICAgICAgZGVzY3JpcHRpb25Qb3J0dWd1ZXNlOlxuICAgICAgICBcIkZlcnJhbWVudGFzIGRlIG5ldHdvcmtpbmcgZW1wcmVzYXJpYWwgZSBwYXJjZXJpYXNcIixcbiAgICAgIGNvbG9yOiBcImFtYmVyXCIsXG4gICAgICBpY29uOiBcIkJ1aWxkaW5nT2ZmaWNlSWNvblwiLFxuICAgICAgZmVhdHVyZXM6IFtcbiAgICAgICAgXCJVbmxpbWl0ZWQgZXZlcnl0aGluZ1wiLFxuICAgICAgICBcIjI1IGhvdXJzIGxpdmVzdHJlYW0gYWNjZXNzXCIsXG4gICAgICAgIFwiQ29ycG9yYXRlIGV2ZW50IGhvc3RpbmdcIixcbiAgICAgICAgXCJQYXJ0bmVyc2hpcCBvcHBvcnR1bml0aWVzXCIsXG4gICAgICAgIFwiQnVsayBlbXBsb3llZSBhY2NvdW50c1wiLFxuICAgICAgICBcIkJ1c2luZXNzIGFuYWx5dGljc1wiLFxuICAgICAgXSxcbiAgICAgIGZlYXR1cmVzUG9ydHVndWVzZTogW1xuICAgICAgICBcIlR1ZG8gaWxpbWl0YWRvXCIsXG4gICAgICAgIFwiMjUgaG9yYXMgZGUgYWNlc3NvIGEgbGl2ZXN0cmVhbVwiLFxuICAgICAgICBcIkhvc3BlZGFnZW0gZGUgZXZlbnRvcyBjb3Jwb3JhdGl2b3NcIixcbiAgICAgICAgXCJPcG9ydHVuaWRhZGVzIGRlIHBhcmNlcmlhXCIsXG4gICAgICAgIFwiQ29udGFzIGVtIG1hc3NhIHBhcmEgZnVuY2lvbsOhcmlvc1wiLFxuICAgICAgICBcIkFuw6FsaXNlcyBkZSBuZWfDs2Npb3NcIixcbiAgICAgIF0sXG4gICAgICBsaW1pdHM6IHtcbiAgICAgICAgZGFpbHlNYXRjaGVzOiAtMSxcbiAgICAgICAgbW9udGhseU1lc3NhZ2VzOiAtMSxcbiAgICAgICAgcHJlbWl1bUV2ZW50czogLTEsXG4gICAgICAgIGxpdmVzdHJlYW1Ib3VyczogMjUsXG4gICAgICB9LFxuICAgIH0sXG4gICAgdmlwOiB7XG4gICAgICB0aWVyOiBcInZpcFwiLFxuICAgICAgbmFtZTogXCJWSVBcIixcbiAgICAgIG5hbWVQb3J0dWd1ZXNlOiBcIlZJUFwiLFxuICAgICAgbW9udGhseVByaWNlOiAyNDkwMCwgLy8gwqMyNDlcbiAgICAgIHllYXJseVByaWNlOiAyNDkwMDAsIC8vIMKjMjQ5MFxuICAgICAgZGVzY3JpcHRpb246IFwiRXhjbHVzaXZlIFZJUCBleHBlcmllbmNlcyBhbmQgcHJpb3JpdHkgYWNjZXNzXCIsXG4gICAgICBkZXNjcmlwdGlvblBvcnR1Z3Vlc2U6IFwiRXhwZXJpw6puY2lhcyBWSVAgZXhjbHVzaXZhcyBlIGFjZXNzbyBwcmlvcml0w6FyaW9cIixcbiAgICAgIGNvbG9yOiBcInB1cnBsZVwiLFxuICAgICAgaWNvbjogXCJDcm93bkljb25cIixcbiAgICAgIGZlYXR1cmVzOiBbXG4gICAgICAgIFwiRXZlcnl0aGluZyB1bmxpbWl0ZWRcIixcbiAgICAgICAgXCJWSVAgZXZlbnRzIGFuZCBleHBlcmllbmNlc1wiLFxuICAgICAgICBcIlBlcnNvbmFsIGNvbmNpZXJnZSBzZXJ2aWNlXCIsXG4gICAgICAgIFwiUHJpb3JpdHkgbWF0Y2hpbmcgYWxnb3JpdGhtXCIsXG4gICAgICAgIFwiRXhjbHVzaXZlIG5ldHdvcmtpbmcgZXZlbnRzXCIsXG4gICAgICAgIFwiRGlyZWN0IGFjY2VzcyB0byBmb3VuZGVyc1wiLFxuICAgICAgXSxcbiAgICAgIGZlYXR1cmVzUG9ydHVndWVzZTogW1xuICAgICAgICBcIlR1ZG8gaWxpbWl0YWRvXCIsXG4gICAgICAgIFwiRXZlbnRvcyBlIGV4cGVyacOqbmNpYXMgVklQXCIsXG4gICAgICAgIFwiU2VydmnDp28gZGUgY29uY2llcmdlIHBlc3NvYWxcIixcbiAgICAgICAgXCJBbGdvcml0bW8gZGUgbWF0Y2hpbmcgcHJpb3JpdMOhcmlvXCIsXG4gICAgICAgIFwiRXZlbnRvcyBkZSBuZXR3b3JraW5nIGV4Y2x1c2l2b3NcIixcbiAgICAgICAgXCJBY2Vzc28gZGlyZXRvIGFvcyBmdW5kYWRvcmVzXCIsXG4gICAgICBdLFxuICAgICAgbGltaXRzOiB7XG4gICAgICAgIGRhaWx5TWF0Y2hlczogLTEsXG4gICAgICAgIG1vbnRobHlNZXNzYWdlczogLTEsXG4gICAgICAgIHByZW1pdW1FdmVudHM6IC0xLFxuICAgICAgICBsaXZlc3RyZWFtSG91cnM6IC0xLFxuICAgICAgfSxcbiAgICB9LFxuICB9O1xuXG4gIHJldHVybiBjb25maWdzW3RpZXJdO1xufTtcblxuLy8gQ3VsdHVyYWwgUHJlZmVyZW5jZXMgVHlwZXNcbmV4cG9ydCBpbnRlcmZhY2UgQ3VsdHVyYWxQcmVmZXJlbmNlcyB7XG4gIGlkOiBzdHJpbmc7XG4gIHVzZXJfaWQ6IHN0cmluZztcbiAgb3JpZ2luczogc3RyaW5nW107XG4gIGxhbmd1YWdlX3ByZWZlcmVuY2U6IHN0cmluZztcbiAgY3VsdHVyYWxfY2VsZWJyYXRpb25zOiBzdHJpbmdbXTtcbiAgcHJvZmVzc2lvbmFsX2dvYWxzOiBzdHJpbmdbXTtcbiAgY3VsdHVyYWxfdmFsdWVzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuICBsaWZlc3R5bGVfcHJlZmVyZW5jZXM6IHN0cmluZ1tdO1xuICBjb21wYXRpYmlsaXR5X3Njb3JlPzogbnVtYmVyO1xuICBjdWx0dXJhbF9kZXB0aF9zY29yZT86IG51bWJlcjtcbiAgY29tbXVuaXR5X2VuZ2FnZW1lbnRfc2NvcmU/OiBudW1iZXI7XG4gIGNvbXBsZXRlZF9hdDogc3RyaW5nO1xuICBsYXN0X3VwZGF0ZWQ6IHN0cmluZztcbiAgcXVpel92ZXJzaW9uOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3VsdHVyYWxDb21wYXRpYmlsaXR5IHtcbiAgaWQ6IHN0cmluZztcbiAgdXNlcl9hX2lkOiBzdHJpbmc7XG4gIHVzZXJfYl9pZDogc3RyaW5nO1xuICBvcmlnaW5fY29tcGF0aWJpbGl0eTogbnVtYmVyO1xuICBsYW5ndWFnZV9jb21wYXRpYmlsaXR5OiBudW1iZXI7XG4gIGN1bHR1cmFsX2NvbXBhdGliaWxpdHk6IG51bWJlcjtcbiAgcHJvZmVzc2lvbmFsX2NvbXBhdGliaWxpdHk6IG51bWJlcjtcbiAgdmFsdWVzX2NvbXBhdGliaWxpdHk6IG51bWJlcjtcbiAgbGlmZXN0eWxlX2NvbXBhdGliaWxpdHk6IG51bWJlcjtcbiAgb3ZlcmFsbF9jb21wYXRpYmlsaXR5OiBudW1iZXI7XG4gIGNvbXBhdGliaWxpdHlfaW5zaWdodHM6IHN0cmluZ1tdO1xuICBzaGFyZWRfZWxlbWVudHM6IHN0cmluZ1tdO1xuICBjYWxjdWxhdGVkX2F0OiBzdHJpbmc7XG4gIGxhc3RfdXBkYXRlZDogc3RyaW5nO1xufVxuXG4vLyBDdWx0dXJhbCBQcmVmZXJlbmNlcyBGdW5jdGlvbnNcbmV4cG9ydCBjb25zdCBnZXRDdWx0dXJhbFByZWZlcmVuY2VzID0gYXN5bmMgKFxuICB1c2VySWQ6IHN0cmluZ1xuKTogUHJvbWlzZTxDdWx0dXJhbFByZWZlcmVuY2VzIHwgbnVsbD4gPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbShcImN1bHR1cmFsX3ByZWZlcmVuY2VzXCIpXG4gICAgICAuc2VsZWN0KFwiKlwiKVxuICAgICAgLmVxKFwidXNlcl9pZFwiLCB1c2VySWQpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZXJyb3IgJiYgZXJyb3IuY29kZSAhPT0gXCJQR1JTVDExNlwiKSB7XG4gICAgICAvLyBQR1JTVDExNiBtZWFucyBubyByb3dzIGZvdW5kXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGN1bHR1cmFsIHByZWZlcmVuY2VzJywgZXJyb3IsIHsgYXJlYTogJ2N1bHR1cmFsJywgYWN0aW9uOiAnZ2V0X3ByZWZlcmVuY2VzJywgY3VsdHVyYWxDb250ZXh0OiAnbHVzb3Bob25lJyB9KTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHNhdmVDdWx0dXJhbFByZWZlcmVuY2VzID0gYXN5bmMgKFxuICB1c2VySWQ6IHN0cmluZyxcbiAgcHJlZmVyZW5jZXM6IHtcbiAgICBvcmlnaW5zOiBzdHJpbmdbXTtcbiAgICBsYW5ndWFnZV9wcmVmZXJlbmNlOiBzdHJpbmc7XG4gICAgY3VsdHVyYWxfY2VsZWJyYXRpb25zOiBzdHJpbmdbXTtcbiAgICBwcm9mZXNzaW9uYWxfZ29hbHM6IHN0cmluZ1tdO1xuICAgIGN1bHR1cmFsX3ZhbHVlczogUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcbiAgICBsaWZlc3R5bGVfcHJlZmVyZW5jZXM6IHN0cmluZ1tdO1xuICB9XG4pID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJjdWx0dXJhbF9wcmVmZXJlbmNlc1wiKVxuICAgICAgLnVwc2VydCh7XG4gICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgICAgLi4ucHJlZmVyZW5jZXMsXG4gICAgICAgIGxhc3RfdXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBxdWl6X3ZlcnNpb246IFwiMS4wXCIsXG4gICAgICB9KVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuXG4gICAgLy8gVHJpZ2dlciBjb21wYXRpYmlsaXR5IGNhbGN1bGF0aW9uIGZvciB0aGlzIHVzZXJcbiAgICB0cnkge1xuICAgICAgYXdhaXQgc3VwYWJhc2UucnBjKFwidXBkYXRlX3VzZXJfY29tcGF0aWJpbGl0eV9zY29yZXNcIiwge1xuICAgICAgICB0YXJnZXRfdXNlcl9pZDogdXNlcklkLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoY29tcGF0RXJyb3IpIHtcbiAgICAgIGxvZ2dlci53YXJuKCdGYWlsZWQgdG8gdXBkYXRlIGNvbXBhdGliaWxpdHkgc2NvcmVzJywgdW5kZWZpbmVkLCB7IGFyZWE6ICdtYXRjaGluZycsIGFjdGlvbjogJ3VwZGF0ZV9jb21wYXRpYmlsaXR5JyB9KTtcbiAgICAgIC8vIERvbid0IGZhaWwgdGhlIG1haW4gb3BlcmF0aW9uIGlmIGNvbXBhdGliaWxpdHkgY2FsY3VsYXRpb24gZmFpbHNcbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdFcnJvciBzYXZpbmcgY3VsdHVyYWwgcHJlZmVyZW5jZXMnLCBlcnJvciwgeyBhcmVhOiAnY3VsdHVyYWwnLCBhY3Rpb246ICdzYXZlX3ByZWZlcmVuY2VzJywgY3VsdHVyYWxDb250ZXh0OiAnbHVzb3Bob25lJyB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIixcbiAgICB9O1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q3VsdHVyYWxDb21wYXRpYmlsaXR5ID0gYXN5bmMgKFxuICB1c2VyQUlkOiBzdHJpbmcsXG4gIHVzZXJCSWQ6IHN0cmluZ1xuKTogUHJvbWlzZTxDdWx0dXJhbENvbXBhdGliaWxpdHkgfCBudWxsPiA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKFwiY3VsdHVyYWxfY29tcGF0aWJpbGl0eVwiKVxuICAgICAgLnNlbGVjdChcIipcIilcbiAgICAgIC5lcShcInVzZXJfYV9pZFwiLCB1c2VyQUlkKVxuICAgICAgLmVxKFwidXNlcl9iX2lkXCIsIHVzZXJCSWQpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZXJyb3IgJiYgZXJyb3IuY29kZSAhPT0gXCJQR1JTVDExNlwiKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGN1bHR1cmFsIGNvbXBhdGliaWxpdHknLCBlcnJvciwgeyBhcmVhOiAnbWF0Y2hpbmcnLCBhY3Rpb246ICdnZXRfY29tcGF0aWJpbGl0eScsIGN1bHR1cmFsQ29udGV4dDogJ2x1c29waG9uZScgfSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRUb3BDdWx0dXJhbE1hdGNoZXMgPSBhc3luYyAoXG4gIHVzZXJJZDogc3RyaW5nLFxuICBsaW1pdDogbnVtYmVyID0gMTBcbik6IFByb21pc2U8QXJyYXk8Q3VsdHVyYWxDb21wYXRpYmlsaXR5ICYgeyBwcm9maWxlOiBVc2VyUHJvZmlsZSB9PiB8IFtdPiA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKFwiY3VsdHVyYWxfY29tcGF0aWJpbGl0eVwiKVxuICAgICAgLnNlbGVjdChcbiAgICAgICAgYFxuICAgICAgICAqLFxuICAgICAgICBwcm9maWxlOnByb2ZpbGVzIWN1bHR1cmFsX2NvbXBhdGliaWxpdHlfdXNlcl9iX2lkX2ZrZXkoKilcbiAgICAgIGBcbiAgICAgIClcbiAgICAgIC5lcShcInVzZXJfYV9pZFwiLCB1c2VySWQpXG4gICAgICAub3JkZXIoXCJvdmVyYWxsX2NvbXBhdGliaWxpdHlcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG4gICAgICAubGltaXQobGltaXQpO1xuXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICByZXR1cm4gZGF0YSB8fCBbXTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHRvcCBjdWx0dXJhbCBtYXRjaGVzJywgZXJyb3IsIHsgYXJlYTogJ21hdGNoaW5nJywgYWN0aW9uOiAnZ2V0X3RvcF9tYXRjaGVzJywgY3VsdHVyYWxDb250ZXh0OiAnbHVzb3Bob25lJyB9KTtcbiAgICByZXR1cm4gW107XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRQb3J0dWd1ZXNlQ3VsdHVyYWxFbGVtZW50cyA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJwb3J0dWd1ZXNlX2N1bHR1cmFsX2VsZW1lbnRzXCIpXG4gICAgICAuc2VsZWN0KFwiKlwiKVxuICAgICAgLmVxKFwiaXNfYWN0aXZlXCIsIHRydWUpXG4gICAgICAub3JkZXIoXCJwb3B1bGFyaXR5X3Njb3JlXCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgcmV0dXJuIGRhdGEgfHwgW107XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdFcnJvciBmZXRjaGluZyBMdXNvcGhvbmUgY3VsdHVyYWwgZWxlbWVudHMnLCBlcnJvciwgeyBhcmVhOiAnY3VsdHVyYWwnLCBhY3Rpb246ICdnZXRfZWxlbWVudHMnLCBjdWx0dXJhbENvbnRleHQ6ICdsdXNvcGhvbmUnIH0pO1xuICAgIHJldHVybiBbXTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldEN1bHR1cmFsSW5zaWdodHMgPSBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKFwiY3VsdHVyYWxfaW5zaWdodHNcIilcbiAgICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgICAuZXEoXCJpc19hY3RpdmVcIiwgdHJ1ZSlcbiAgICAgIC5vcmRlcihcImNhdGVnb3J5XCIpO1xuXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICByZXR1cm4gZGF0YSB8fCBbXTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGN1bHR1cmFsIGluc2lnaHRzJywgZXJyb3IsIHsgYXJlYTogJ2N1bHR1cmFsJywgYWN0aW9uOiAnZ2V0X2luc2lnaHRzJywgY3VsdHVyYWxDb250ZXh0OiAnbHVzb3Bob25lJyB9KTtcbiAgICByZXR1cm4gW107XG4gIH1cbn07XG4iXSwibmFtZXMiOlsiY2FsY3VsYXRlUHJvZmlsZUNvbXBsZXRpb24iLCJjb21wcmVzc0ltYWdlIiwiY3JlYXRlQ2xpZW50IiwiZGVsZXRlUGhvdG8iLCJnZXRDdWx0dXJhbENvbXBhdGliaWxpdHkiLCJnZXRDdWx0dXJhbEluc2lnaHRzIiwiZ2V0Q3VsdHVyYWxQcmVmZXJlbmNlcyIsImdldEN1cnJlbnRVc2VyIiwiZ2V0Q3VycmVudFVzZXJQcm9maWxlIiwiZ2V0TWVtYmVyc2hpcFRpZXJDb25maWciLCJnZXRQb3J0dWd1ZXNlQ3VsdHVyYWxFbGVtZW50cyIsImdldFByb2ZpbGUiLCJnZXRQdWJsaWNVcmwiLCJnZXRUb3BDdWx0dXJhbE1hdGNoZXMiLCJzYXZlQ3VsdHVyYWxQcmVmZXJlbmNlcyIsInNlYXJjaFByb2ZpbGVzIiwic2lnbk91dCIsInN1cGFiYXNlIiwic3VwYWJhc2VBbm9uS2V5Iiwic3VwYWJhc2VVcmwiLCJ1cGRhdGVQcm9maWxlIiwidXBsb2FkRmlsZSIsInVwbG9hZFBob3RvIiwidmFsaWRhdGVJbWFnZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImNyZWF0ZVN1cGFiYXNlQ2xpZW50IiwiYXV0aCIsImF1dG9SZWZyZXNoVG9rZW4iLCJwZXJzaXN0U2Vzc2lvbiIsImRldGVjdFNlc3Npb25JblVybCIsImNvb2tpZVN0b3JlIiwib3B0aW9ucyIsImNvb2tpZXMiLCJnZXQiLCJuYW1lIiwidiIsInVuZGVmaW5lZCIsInZhbHVlIiwiZGF0YSIsInVzZXIiLCJlcnJvciIsImdldFVzZXIiLCJ1c2VySWQiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJsb2dnZXIiLCJhcmVhIiwiYWN0aW9uIiwiaWQiLCJ1cGRhdGVzIiwidXBkYXRlIiwic3VjY2VzcyIsIkVycm9yIiwibWVzc2FnZSIsImZpbGUiLCJpc1Byb2ZpbGVQaWN0dXJlIiwidmFsaWRhdGlvbiIsInZhbGlkIiwiY29tcHJlc3NlZEZpbGUiLCJmaWxlRXh0Iiwic3BsaXQiLCJwb3AiLCJmaWxlTmFtZSIsIkRhdGUiLCJub3ciLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJ1cGxvYWREYXRhIiwidXBsb2FkRXJyb3IiLCJzdG9yYWdlIiwidXBsb2FkIiwidXJsRGF0YSIsInByb2ZpbGVfcGljdHVyZV91cmwiLCJwdWJsaWNVcmwiLCJ1cmwiLCJwYXRoIiwicmVtb3ZlIiwicHJvZmlsZSIsInBlcmNlbnRhZ2UiLCJjb21wbGV0ZWRfc3RlcHMiLCJtaXNzaW5nX3N0ZXBzIiwidG90YWxfcG9pbnRzIiwibWF4X3BvaW50cyIsInN0ZXBzIiwiY29tcGxldGVkIiwiZmlyc3RfbmFtZSIsImVtYWlsIiwicG9pbnRzIiwiYmlvIiwibGVuZ3RoIiwibG9jYXRpb24iLCJkYXRlX29mX2JpcnRoIiwiaW50ZXJlc3RzIiwidmVyaWZpY2F0aW9uX3N0YXR1cyIsInByZWZlcmVuY2VzIiwibG9va2luZ19mb3IiLCJjb21wbGV0ZWRTdGVwcyIsImZpbHRlciIsInN0ZXAiLCJtaXNzaW5nU3RlcHMiLCJ0b3RhbFBvaW50cyIsInJlZHVjZSIsInN1bSIsIm1heFBvaW50cyIsInJvdW5kIiwibWFwIiwicyIsImZpbHRlcnMiLCJxdWVyeSIsImFnZV9yYW5nZSIsInRvZGF5IiwibWluRGF0ZSIsImdldEZ1bGxZZWFyIiwibWF4IiwiZ2V0TW9udGgiLCJnZXREYXRlIiwibWF4RGF0ZSIsIm1pbiIsImd0ZSIsInRvSVNPU3RyaW5nIiwibHRlIiwibWVtYmVyc2hpcF90aWVyIiwibG9jYXRpb25GaWx0ZXIiLCJsb2MiLCJqb2luIiwib3IiLCJsaW1pdCIsInJlc3VsdHMiLCJzZWFyY2hUZXJtIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImxhc3RfbmFtZSIsImJ1Y2tldCIsIm1heFNpemUiLCJhbGxvd2VkVHlwZXMiLCJ0eXBlIiwic2l6ZSIsIm1heFdpZHRoIiwicXVhbGl0eSIsIlByb21pc2UiLCJyZXNvbHZlIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY3R4IiwiZ2V0Q29udGV4dCIsImltZyIsIkltYWdlIiwib25sb2FkIiwid2lkdGgiLCJoZWlnaHQiLCJkcmF3SW1hZ2UiLCJ0b0Jsb2IiLCJibG9iIiwiRmlsZSIsImxhc3RNb2RpZmllZCIsInNyYyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInRpZXIiLCJjb25maWdzIiwiYmFzaWMiLCJuYW1lUG9ydHVndWVzZSIsIm1vbnRobHlQcmljZSIsInllYXJseVByaWNlIiwiZGVzY3JpcHRpb24iLCJkZXNjcmlwdGlvblBvcnR1Z3Vlc2UiLCJjb2xvciIsImljb24iLCJmZWF0dXJlcyIsImZlYXR1cmVzUG9ydHVndWVzZSIsImxpbWl0cyIsImRhaWx5TWF0Y2hlcyIsIm1vbnRobHlNZXNzYWdlcyIsInByZW1pdW1FdmVudHMiLCJsaXZlc3RyZWFtSG91cnMiLCJzdHVkZW50Iiwic3R1ZGVudERpc2NvdW50IiwicHJvZmVzc2lvbmFsIiwicG9wdWxhciIsImJ1c2luZXNzIiwidmlwIiwiY29kZSIsImN1bHR1cmFsQ29udGV4dCIsInVwc2VydCIsInVzZXJfaWQiLCJsYXN0X3VwZGF0ZWQiLCJxdWl6X3ZlcnNpb24iLCJycGMiLCJ0YXJnZXRfdXNlcl9pZCIsImNvbXBhdEVycm9yIiwid2FybiIsInVzZXJBSWQiLCJ1c2VyQklkIiwib3JkZXIiLCJhc2NlbmRpbmciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0lBc1phQSwwQkFBMEI7ZUFBMUJBOztJQXdMQUMsYUFBYTtlQUFiQTs7SUF0akJHQyxZQUFZO2VBQVpBOztJQTRXSEMsV0FBVztlQUFYQTs7SUFnekJBQyx3QkFBd0I7ZUFBeEJBOztJQWdFQUMsbUJBQW1CO2VBQW5CQTs7SUFuSUFDLHNCQUFzQjtlQUF0QkE7O0lBdDJCQUMsY0FBYztlQUFkQTs7SUFpQ0FDLHFCQUFxQjtlQUFyQkE7O0lBaW5CQUMsdUJBQXVCO2VBQXZCQTs7SUF1VUFDLDZCQUE2QjtlQUE3QkE7O0lBMThCQUMsVUFBVTtlQUFWQTs7SUE0UkFDLFlBQVk7ZUFBWkE7O0lBcXBCQUMscUJBQXFCO2VBQXJCQTs7SUFwRUFDLHVCQUF1QjtlQUF2QkE7O0lBbnFCQUMsY0FBYztlQUFkQTs7SUFoTkFDLE9BQU87ZUFBUEE7O0lBNVFBQyxRQUFRO2VBQVJBOztJQUhB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