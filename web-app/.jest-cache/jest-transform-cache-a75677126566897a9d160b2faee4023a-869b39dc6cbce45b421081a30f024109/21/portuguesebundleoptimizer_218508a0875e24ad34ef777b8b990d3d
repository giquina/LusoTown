b91feeecb4988a97ff3232ef6575970f
// Portuguese-speaking community bundle optimization utilities
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    PortugueseBundleOptimizer: function() {
        return PortugueseBundleOptimizer;
    },
    measurePortuguesePerformance: function() {
        return measurePortuguesePerformance;
    },
    optimizePortugueseImages: function() {
        return optimizePortugueseImages;
    },
    portugueseBundleOptimizer: function() {
        return portugueseBundleOptimizer;
    },
    preloadPortugueseRoute: function() {
        return preloadPortugueseRoute;
    },
    usePortugueseBundleOptimization: function() {
        return usePortugueseBundleOptimization;
    }
});
const _logger = /*#__PURE__*/ _interop_require_default(require("./logger"));
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
// Portuguese-speaking community content prioritization
const PORTUGUESE_CONTENT_PRIORITIES = {
    critical: [
        "portuguese-navigation",
        "community-authentication",
        "language-switcher",
        "cultural-branding",
        "mobile-header"
    ],
    high: [
        "event-listings",
        "community-matches",
        "business-directory",
        "cultural-calendar",
        "portuguese-feed"
    ],
    medium: [
        "community-stories",
        "cultural-articles",
        "business-profiles",
        "event-details",
        "user-profiles"
    ],
    low: [
        "historical-content",
        "cultural-galleries",
        "community-photos",
        "testimonials",
        "about-sections"
    ],
    defer: [
        "cultural-videos",
        "large-galleries",
        "community-archives",
        "advanced-features",
        "admin-panels"
    ]
};
// Mobile-first optimization thresholds
const MOBILE_OPTIMIZATION_THRESHOLDS = {
    criticalBundleSize: 170 * 1024,
    highPriorityBundleSize: 250 * 1024,
    lazyLoadThreshold: 50,
    slowConnectionThreshold: "3g",
    lowMemoryThreshold: 2,
    batteryLowThreshold: 0.2
};
class PortugueseBundleOptimizer {
    constructor(config = {}){
        this.deviceContext = null;
        this.loadedBundles = new Set();
        this.preloadedResources = new Set();
        this.lazyLoadThreshold = MOBILE_OPTIMIZATION_THRESHOLDS.lazyLoadThreshold;
        this.config = {
            enableCriticalResourcePreload: true,
            enablePortugueseContentGrouping: true,
            enableMobilePrioritization: true,
            enableCulturalContentSplitting: true,
            enableLazyLoadingThresholds: true,
            ...config
        };
        this.initializeDeviceContext();
    }
    initializeDeviceContext() {
        if (typeof window === "undefined") return;
        const connection = navigator.connection;
        this.deviceContext = {
            isMobile: window.innerWidth <= 768,
            connectionType: connection?.effectiveType || "unknown",
            deviceMemory: navigator.deviceMemory || 4,
            isDataSaverMode: connection?.saveData || false,
            viewportWidth: window.innerWidth,
            prefersReducedMotion: window.matchMedia("(prefers-reduced-motion: reduce)").matches
        };
    }
    // Preload critical Portuguese-speaking community resources
    async preloadCriticalResources() {
        if (!this.config.enableCriticalResourcePreload || !this.deviceContext) return;
        const criticalResources = [
            "/api/auth/session",
            "/api/user/preferences",
            "/api/events/featured?limit=5",
            "/api/community/stats"
        ];
        // Adjust for device capabilities
        if (this.deviceContext.isDataSaverMode || this.deviceContext.connectionType === "slow-2g") {
            // Skip non-essential preloading on slow connections
            criticalResources.splice(2); // Keep only auth and preferences
        }
        const preloadPromises = criticalResources.map(async (resource)=>{
            if (this.preloadedResources.has(resource)) return;
            try {
                const response = await fetch(resource, {
                    method: "GET",
                    headers: {
                        "X-Preload": "true"
                    }
                });
                if (response.ok) {
                    this.preloadedResources.add(resource);
                }
            } catch (error) {
                _logger.default.info(`[Bundle Optimizer] Failed to preload ${resource}:`, error);
            }
        });
        await Promise.allSettled(preloadPromises);
    }
    // Load Lusophone content bundles based on priority
    async loadPortugueseContentBundle(priority) {
        if (!this.config.enablePortugueseContentGrouping) return;
        const bundleKey = `portuguese-${priority}`;
        if (this.loadedBundles.has(bundleKey)) return;
        const contentTypes = PORTUGUESE_CONTENT_PRIORITIES[priority];
        // Skip or defer loading based on device constraints
        if (this.shouldDeferLoading(priority)) {
            setTimeout(()=>this.loadPortugueseContentBundle(priority), 2000);
            return;
        }
        try {
            const loadPromises = contentTypes.map(async (contentType)=>{
                return this.loadContentTypeBundle(contentType);
            });
            await Promise.allSettled(loadPromises);
            this.loadedBundles.add(bundleKey);
            _logger.default.info(`[Bundle Optimizer] Loaded ${priority} priority Lusophone content`);
        } catch (error) {
            _logger.default.error(`[Bundle Optimizer] Failed to load ${priority} bundle:`, error);
        }
    }
    async loadContentTypeBundle(contentType) {
        const bundleMap = {
            "portuguese-navigation": ()=>Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../components/PortugueseNavigation"))),
            "community-authentication": ()=>Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../components/AuthSystem"))),
            "event-listings": ()=>Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../components/EventsShowcase"))),
            "community-matches": ()=>Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../components/MatchesSystem"))),
            "business-directory": ()=>Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../components/BusinessDirectory"))),
            "cultural-calendar": ()=>Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../components/CulturalCalendar"))),
            "portuguese-feed": ()=>Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../components/CommunityFeedSection"))),
            "community-stories": ()=>Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../components/SuccessStories"))),
            "cultural-articles": ()=>Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../components/CulturalArticles"))),
            "business-profiles": ()=>Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../components/BusinessProfiles"))),
            "cultural-galleries": ()=>Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../components/CulturalGallery"))),
            "community-photos": ()=>Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../components/CommunityPhotos"))),
            "cultural-videos": ()=>Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../components/CulturalVideos")))
        };
        if (bundleMap[contentType]) {
            await bundleMap[contentType]();
        }
    }
    shouldDeferLoading(priority) {
        if (!this.deviceContext) return false;
        // Defer low priority content on constrained devices
        if (priority === "low" || priority === "defer") {
            if (this.deviceContext.isDataSaverMode) return true;
            if (this.deviceContext.connectionType === "slow-2g" || this.deviceContext.connectionType === "2g") return true;
            if (this.deviceContext.deviceMemory <= MOBILE_OPTIMIZATION_THRESHOLDS.lowMemoryThreshold) return true;
        }
        // Defer medium priority on very constrained devices
        if (priority === "medium") {
            if (this.deviceContext.isDataSaverMode && this.deviceContext.connectionType === "slow-2g") return true;
            if (this.deviceContext.deviceMemory <= 1) return true;
        }
        return false;
    }
    // Optimize bundle loading for mobile Lusophone users
    optimizeForMobile() {
        if (!this.config.enableMobilePrioritization || !this.deviceContext?.isMobile) return;
        // Implement mobile-specific optimizations
        this.implementMobileOptimizations();
        // Set up intersection observer for lazy loading
        if (this.config.enableLazyLoadingThresholds) {
            this.setupIntersectionObserver();
        }
        // Optimize for Lusophone mobile usage patterns
        this.optimizePortugueseMobilePatterns();
    }
    implementMobileOptimizations() {
        if (!this.deviceContext) return;
        // Reduce animation complexity on mobile
        if (this.deviceContext.prefersReducedMotion || this.deviceContext.deviceMemory <= 2) {
            document.documentElement.classList.add("reduced-animations");
        }
        // Apply data saver optimizations
        if (this.deviceContext.isDataSaverMode) {
            document.documentElement.classList.add("data-saver-mode");
            this.enableDataSaverMode();
        }
        // Optimize for slow connections
        if ([
            "slow-2g",
            "2g",
            "3g"
        ].includes(this.deviceContext.connectionType)) {
            document.documentElement.classList.add("slow-connection");
            this.enableSlowConnectionOptimizations();
        }
    }
    enableDataSaverMode() {
        // Disable autoplay videos
        const videos = document.querySelectorAll("video[autoplay]");
        videos.forEach((video)=>video.removeAttribute("autoplay"));
        // Reduce image quality
        const images = document.querySelectorAll('img[src*="cloudinary"]');
        images.forEach((img)=>{
            const imgElement = img;
            imgElement.src = imgElement.src.replace(/q_\d+/, "q_30");
        });
        // Defer non-critical Lusophone cultural content
        this.deferNonCriticalContent();
    }
    enableSlowConnectionOptimizations() {
        // Preload only critical resources
        const criticalLinks = document.querySelectorAll('link[rel="preload"]');
        criticalLinks.forEach((link)=>{
            if (!link.getAttribute("href")?.includes("critical")) {
                link.remove();
            }
        });
        // Increase intersection observer thresholds
        this.lazyLoadThreshold = 20; // Closer to viewport
    }
    setupIntersectionObserver() {
        if (typeof window === "undefined" || !("IntersectionObserver" in window)) return;
        const observer = new IntersectionObserver((entries)=>{
            entries.forEach((entry)=>{
                if (entry.isIntersecting) {
                    const element = entry.target;
                    this.loadElementContent(element);
                    observer.unobserve(element);
                }
            });
        }, {
            rootMargin: `${this.lazyLoadThreshold}px 0px`,
            threshold: 0.1
        });
        // Observe lazy-loadable Lusophone content
        const lazyElements = document.querySelectorAll("[data-portuguese-lazy]");
        lazyElements.forEach((element)=>observer.observe(element));
    }
    loadElementContent(element) {
        const contentType = element.dataset.portugueseLazy;
        if (!contentType) return;
        // Load specific Lusophone content based on type
        switch(contentType){
            case "cultural-gallery":
                this.loadCulturalGallery(element);
                break;
            case "community-feed":
                this.loadCommunityFeed(element);
                break;
            case "business-listings":
                this.loadBusinessListings(element);
                break;
            case "event-details":
                this.loadEventDetails(element);
                break;
            default:
                _logger.default.warn(`[Bundle Optimizer] Unknown Lusophone content type: ${contentType}`);
        }
    }
    async loadCulturalGallery(element) {
        try {
            const { default: CulturalGallery } = await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../components/CulturalGallery")));
            // Render component in element
            element.innerHTML = '<div class="cultural-gallery-loaded">Gallery loaded</div>';
        } catch (error) {
            _logger.default.error("[Bundle Optimizer] Failed to load cultural gallery:", error);
        }
    }
    async loadCommunityFeed(element) {
        try {
            const { default: CommunityFeed } = await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../components/CommunityFeedSection")));
            element.innerHTML = '<div class="community-feed-loaded">Feed loaded</div>';
        } catch (error) {
            _logger.default.error("[Bundle Optimizer] Failed to load community feed:", error);
        }
    }
    async loadBusinessListings(element) {
        try {
            const { default: BusinessDirectory } = await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../components/BusinessDirectory")));
            element.innerHTML = '<div class="business-listings-loaded">Businesses loaded</div>';
        } catch (error) {
            _logger.default.error("[Bundle Optimizer] Failed to load business listings:", error);
        }
    }
    async loadEventDetails(element) {
        try {
            const eventId = element.dataset.eventId;
            if (eventId) {
                const response = await fetch(`/api/events/${eventId}`);
                const eventData = await response.json();
                element.innerHTML = `<div class="event-details-loaded">${eventData.title}</div>`;
            }
        } catch (error) {
            _logger.default.error("[Bundle Optimizer] Failed to load event details:", error);
        }
    }
    optimizePortugueseMobilePatterns() {
        // Optimize for Lusophone mobile usage patterns
        // 73% of Portuguese-speaking community uses mobile
        // Prioritize touch-friendly interactions
        this.optimizeTouchTargets();
        // Optimize for Lusophone text rendering
        this.optimizePortugueseTextRendering();
        // Implement Lusophone cultural color optimization
        this.optimizeCulturalTheming();
    }
    optimizeTouchTargets() {
        const touchTargets = document.querySelectorAll('button, a[role="button"], [onclick]');
        touchTargets.forEach((target)=>{
            const element = target;
            const rect = element.getBoundingClientRect();
            // Ensure minimum 44px touch targets
            if (rect.width < 44 || rect.height < 44) {
                element.style.minWidth = "44px";
                element.style.minHeight = "44px";
                element.style.padding = element.style.padding || "8px";
            }
        });
    }
    optimizePortugueseTextRendering() {
        // Optimize for Lusophone diacritics and special characters
        document.documentElement.style.textRendering = "optimizeLegibility";
        document.documentElement.style.fontFeatureSettings = '"liga" 1, "kern" 1';
        // Ensure proper Lusophone text wrapping
        const textElements = document.querySelectorAll("p, h1, h2, h3, h4, h5, h6, span");
        textElements.forEach((element)=>{
            const htmlElement = element;
            htmlElement.style.wordBreak = "break-word";
            htmlElement.style.hyphens = "auto";
            htmlElement.lang = htmlElement.lang || "pt-PT";
        });
    }
    optimizeCulturalTheming() {
        // Apply Lusophone cultural color optimizations
        const colorOptimizations = document.createElement("style");
        colorOptimizations.textContent = `
      .portuguese-optimized {
        --primary-cultural: #1e40af; /* Lusophone blue */
        --secondary-cultural: #059669; /* Lusophone green */
        --accent-cultural: #dc2626; /* Lusophone red */
        --gold-cultural: #f59e0b; /* Lusophone gold */
      }
      
      .mobile-portuguese-text {
        line-height: 1.6;
        letter-spacing: 0.025em;
      }
      
      .cultural-gradient {
        background: linear-gradient(135deg, 
          var(--primary-cultural), 
          var(--secondary-cultural), 
          var(--accent-cultural)
        );
      }
    `;
        document.head.appendChild(colorOptimizations);
        document.documentElement.classList.add("portuguese-optimized");
    }
    deferNonCriticalContent() {
        const nonCriticalSelectors = [
            ".cultural-video",
            ".large-gallery",
            ".testimonial-carousel",
            ".community-archive",
            ".admin-panel"
        ];
        nonCriticalSelectors.forEach((selector)=>{
            const elements = document.querySelectorAll(selector);
            elements.forEach((element)=>{
                const htmlElement = element;
                htmlElement.style.display = "none";
                htmlElement.dataset.deferred = "true";
            });
        });
    }
    // Public method to get optimization stats
    getOptimizationStats() {
        const optimizationsApplied = [];
        if (this.deviceContext?.isMobile) optimizationsApplied.push("mobile-optimized");
        if (this.deviceContext?.isDataSaverMode) optimizationsApplied.push("data-saver");
        if (this.deviceContext?.prefersReducedMotion) optimizationsApplied.push("reduced-motion");
        return {
            loadedBundles: Array.from(this.loadedBundles),
            preloadedResources: Array.from(this.preloadedResources),
            deviceContext: this.deviceContext,
            optimizationsApplied
        };
    }
    // Clean up resources
    cleanup() {
        this.loadedBundles.clear();
        this.preloadedResources.clear();
        this.deviceContext = null;
    }
}
const portugueseBundleOptimizer = new PortugueseBundleOptimizer();
function usePortugueseBundleOptimization() {
    const [stats, setStats] = _react.default.useState(portugueseBundleOptimizer.getOptimizationStats());
    _react.default.useEffect(()=>{
        // Initialize optimization
        portugueseBundleOptimizer.preloadCriticalResources();
        portugueseBundleOptimizer.optimizeForMobile();
        // Load critical Lusophone content
        portugueseBundleOptimizer.loadPortugueseContentBundle("critical");
        // Update stats
        const updateStats = ()=>setStats(portugueseBundleOptimizer.getOptimizationStats());
        const interval = setInterval(updateStats, 2000);
        return ()=>{
            clearInterval(interval);
            portugueseBundleOptimizer.cleanup();
        };
    }, []);
    return {
        stats,
        loadBundle: portugueseBundleOptimizer.loadPortugueseContentBundle.bind(portugueseBundleOptimizer),
        preloadResources: portugueseBundleOptimizer.preloadCriticalResources.bind(portugueseBundleOptimizer)
    };
}
function preloadPortugueseRoute(route) {
    if (typeof window !== "undefined" && "requestIdleCallback" in window) {
        requestIdleCallback(()=>{
            const link = document.createElement("link");
            link.rel = "prefetch";
            link.href = route;
            document.head.appendChild(link);
        });
    }
}
function optimizePortugueseImages() {
    const images = document.querySelectorAll('img[src*="portuguese"], img[alt*="portuguese" i]');
    images.forEach((img)=>{
        const imgElement = img;
        // Add lazy loading
        if (!imgElement.loading) {
            imgElement.loading = "lazy";
        }
        // Add proper sizes for Lusophone content
        if (!imgElement.sizes) {
            imgElement.sizes = "(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw";
        }
    });
}
function measurePortuguesePerformance() {
    return new Promise((resolve)=>{
        if (typeof window === "undefined") {
            resolve({
                culturalContentLoadTime: 0,
                portugueseTextRenderTime: 0,
                mobileOptimizationScore: 0
            });
            return;
        }
        const start = performance.now();
        requestAnimationFrame(()=>{
            const culturalElements = document.querySelectorAll("[data-portuguese-content]");
            const textElements = document.querySelectorAll("p, h1, h2, h3");
            const mobileElements = document.querySelectorAll('[class*="mobile"]');
            const culturalContentLoadTime = performance.now() - start;
            const portugueseTextRenderTime = culturalElements.length > 0 ? performance.now() - start : 0;
            const mobileOptimizationScore = Math.min(100, mobileElements.length / textElements.length * 100);
            resolve({
                culturalContentLoadTime,
                portugueseTextRenderTime,
                mobileOptimizationScore
            });
        });
    });
}
 // For the hook

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi93b3Jrc3BhY2VzL0x1c29Ub3duL3dlYi1hcHAvc3JjL3V0aWxzL3BvcnR1Z3Vlc2UtYnVuZGxlLW9wdGltaXplci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBQb3J0dWd1ZXNlLXNwZWFraW5nIGNvbW11bml0eSBidW5kbGUgb3B0aW1pemF0aW9uIHV0aWxpdGllc1xuaW1wb3J0IGxvZ2dlciBmcm9tIFwiQC91dGlscy9sb2dnZXJcIjtcblxuaW50ZXJmYWNlIEJ1bmRsZU9wdGltaXphdGlvbkNvbmZpZyB7XG4gIGVuYWJsZUNyaXRpY2FsUmVzb3VyY2VQcmVsb2FkOiBib29sZWFuO1xuICBlbmFibGVQb3J0dWd1ZXNlQ29udGVudEdyb3VwaW5nOiBib29sZWFuO1xuICBlbmFibGVNb2JpbGVQcmlvcml0aXphdGlvbjogYm9vbGVhbjtcbiAgZW5hYmxlQ3VsdHVyYWxDb250ZW50U3BsaXR0aW5nOiBib29sZWFuO1xuICBlbmFibGVMYXp5TG9hZGluZ1RocmVzaG9sZHM6IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBQb3J0dWd1ZXNlQ29udGVudFByaW9yaXR5IHtcbiAgY3JpdGljYWw6IHN0cmluZ1tdO1xuICBoaWdoOiBzdHJpbmdbXTtcbiAgbWVkaXVtOiBzdHJpbmdbXTtcbiAgbG93OiBzdHJpbmdbXTtcbiAgZGVmZXI6IHN0cmluZ1tdO1xufVxuXG5pbnRlcmZhY2UgRGV2aWNlT3B0aW1pemF0aW9uQ29udGV4dCB7XG4gIGlzTW9iaWxlOiBib29sZWFuO1xuICBjb25uZWN0aW9uVHlwZTogXCJzbG93LTJnXCIgfCBcIjJnXCIgfCBcIjNnXCIgfCBcIjRnXCIgfCBcIjVnXCIgfCBcInVua25vd25cIjtcbiAgZGV2aWNlTWVtb3J5OiBudW1iZXI7XG4gIGlzRGF0YVNhdmVyTW9kZTogYm9vbGVhbjtcbiAgdmlld3BvcnRXaWR0aDogbnVtYmVyO1xuICBwcmVmZXJzUmVkdWNlZE1vdGlvbjogYm9vbGVhbjtcbn1cblxuLy8gUG9ydHVndWVzZS1zcGVha2luZyBjb21tdW5pdHkgY29udGVudCBwcmlvcml0aXphdGlvblxuY29uc3QgUE9SVFVHVUVTRV9DT05URU5UX1BSSU9SSVRJRVM6IFBvcnR1Z3Vlc2VDb250ZW50UHJpb3JpdHkgPSB7XG4gIGNyaXRpY2FsOiBbXG4gICAgXCJwb3J0dWd1ZXNlLW5hdmlnYXRpb25cIixcbiAgICBcImNvbW11bml0eS1hdXRoZW50aWNhdGlvblwiLFxuICAgIFwibGFuZ3VhZ2Utc3dpdGNoZXJcIixcbiAgICBcImN1bHR1cmFsLWJyYW5kaW5nXCIsXG4gICAgXCJtb2JpbGUtaGVhZGVyXCIsXG4gIF0sXG4gIGhpZ2g6IFtcbiAgICBcImV2ZW50LWxpc3RpbmdzXCIsXG4gICAgXCJjb21tdW5pdHktbWF0Y2hlc1wiLFxuICAgIFwiYnVzaW5lc3MtZGlyZWN0b3J5XCIsXG4gICAgXCJjdWx0dXJhbC1jYWxlbmRhclwiLFxuICAgIFwicG9ydHVndWVzZS1mZWVkXCIsXG4gIF0sXG4gIG1lZGl1bTogW1xuICAgIFwiY29tbXVuaXR5LXN0b3JpZXNcIixcbiAgICBcImN1bHR1cmFsLWFydGljbGVzXCIsXG4gICAgXCJidXNpbmVzcy1wcm9maWxlc1wiLFxuICAgIFwiZXZlbnQtZGV0YWlsc1wiLFxuICAgIFwidXNlci1wcm9maWxlc1wiLFxuICBdLFxuICBsb3c6IFtcbiAgICBcImhpc3RvcmljYWwtY29udGVudFwiLFxuICAgIFwiY3VsdHVyYWwtZ2FsbGVyaWVzXCIsXG4gICAgXCJjb21tdW5pdHktcGhvdG9zXCIsXG4gICAgXCJ0ZXN0aW1vbmlhbHNcIixcbiAgICBcImFib3V0LXNlY3Rpb25zXCIsXG4gIF0sXG4gIGRlZmVyOiBbXG4gICAgXCJjdWx0dXJhbC12aWRlb3NcIixcbiAgICBcImxhcmdlLWdhbGxlcmllc1wiLFxuICAgIFwiY29tbXVuaXR5LWFyY2hpdmVzXCIsXG4gICAgXCJhZHZhbmNlZC1mZWF0dXJlc1wiLFxuICAgIFwiYWRtaW4tcGFuZWxzXCIsXG4gIF0sXG59O1xuXG4vLyBNb2JpbGUtZmlyc3Qgb3B0aW1pemF0aW9uIHRocmVzaG9sZHNcbmNvbnN0IE1PQklMRV9PUFRJTUlaQVRJT05fVEhSRVNIT0xEUyA9IHtcbiAgY3JpdGljYWxCdW5kbGVTaXplOiAxNzAgKiAxMDI0LCAvLyAxNzBLQiBmb3IgY3JpdGljYWwgcGF0aFxuICBoaWdoUHJpb3JpdHlCdW5kbGVTaXplOiAyNTAgKiAxMDI0LCAvLyAyNTBLQiBmb3IgaGlnaCBwcmlvcml0eVxuICBsYXp5TG9hZFRocmVzaG9sZDogNTAsIC8vIDUwcHggZnJvbSB2aWV3cG9ydFxuICBzbG93Q29ubmVjdGlvblRocmVzaG9sZDogXCIzZ1wiLFxuICBsb3dNZW1vcnlUaHJlc2hvbGQ6IDIsIC8vIEdCXG4gIGJhdHRlcnlMb3dUaHJlc2hvbGQ6IDAuMiwgLy8gMjAlXG59O1xuXG5leHBvcnQgY2xhc3MgUG9ydHVndWVzZUJ1bmRsZU9wdGltaXplciB7XG4gIHByaXZhdGUgY29uZmlnOiBCdW5kbGVPcHRpbWl6YXRpb25Db25maWc7XG4gIHByaXZhdGUgZGV2aWNlQ29udGV4dDogRGV2aWNlT3B0aW1pemF0aW9uQ29udGV4dCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGxvYWRlZEJ1bmRsZXM6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIHByZWxvYWRlZFJlc291cmNlczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBQYXJ0aWFsPEJ1bmRsZU9wdGltaXphdGlvbkNvbmZpZz4gPSB7fSkge1xuICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgZW5hYmxlQ3JpdGljYWxSZXNvdXJjZVByZWxvYWQ6IHRydWUsXG4gICAgICBlbmFibGVQb3J0dWd1ZXNlQ29udGVudEdyb3VwaW5nOiB0cnVlLFxuICAgICAgZW5hYmxlTW9iaWxlUHJpb3JpdGl6YXRpb246IHRydWUsXG4gICAgICBlbmFibGVDdWx0dXJhbENvbnRlbnRTcGxpdHRpbmc6IHRydWUsXG4gICAgICBlbmFibGVMYXp5TG9hZGluZ1RocmVzaG9sZHM6IHRydWUsXG4gICAgICAuLi5jb25maWcsXG4gICAgfTtcblxuICAgIHRoaXMuaW5pdGlhbGl6ZURldmljZUNvbnRleHQoKTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdGlhbGl6ZURldmljZUNvbnRleHQoKTogdm9pZCB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybjtcblxuICAgIGNvbnN0IGNvbm5lY3Rpb24gPSAobmF2aWdhdG9yIGFzIGFueSkuY29ubmVjdGlvbjtcblxuICAgIHRoaXMuZGV2aWNlQ29udGV4dCA9IHtcbiAgICAgIGlzTW9iaWxlOiB3aW5kb3cuaW5uZXJXaWR0aCA8PSA3NjgsXG4gICAgICBjb25uZWN0aW9uVHlwZTogY29ubmVjdGlvbj8uZWZmZWN0aXZlVHlwZSB8fCBcInVua25vd25cIixcbiAgICAgIGRldmljZU1lbW9yeTogKG5hdmlnYXRvciBhcyBhbnkpLmRldmljZU1lbW9yeSB8fCA0LFxuICAgICAgaXNEYXRhU2F2ZXJNb2RlOiBjb25uZWN0aW9uPy5zYXZlRGF0YSB8fCBmYWxzZSxcbiAgICAgIHZpZXdwb3J0V2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgcHJlZmVyc1JlZHVjZWRNb3Rpb246IHdpbmRvdy5tYXRjaE1lZGlhKFxuICAgICAgICBcIihwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpXCJcbiAgICAgICkubWF0Y2hlcyxcbiAgICB9O1xuICB9XG5cbiAgLy8gUHJlbG9hZCBjcml0aWNhbCBQb3J0dWd1ZXNlLXNwZWFraW5nIGNvbW11bml0eSByZXNvdXJjZXNcbiAgcHVibGljIGFzeW5jIHByZWxvYWRDcml0aWNhbFJlc291cmNlcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuY29uZmlnLmVuYWJsZUNyaXRpY2FsUmVzb3VyY2VQcmVsb2FkIHx8ICF0aGlzLmRldmljZUNvbnRleHQpXG4gICAgICByZXR1cm47XG5cbiAgICBjb25zdCBjcml0aWNhbFJlc291cmNlcyA9IFtcbiAgICAgIFwiL2FwaS9hdXRoL3Nlc3Npb25cIixcbiAgICAgIFwiL2FwaS91c2VyL3ByZWZlcmVuY2VzXCIsXG4gICAgICBcIi9hcGkvZXZlbnRzL2ZlYXR1cmVkP2xpbWl0PTVcIixcbiAgICAgIFwiL2FwaS9jb21tdW5pdHkvc3RhdHNcIixcbiAgICBdO1xuXG4gICAgLy8gQWRqdXN0IGZvciBkZXZpY2UgY2FwYWJpbGl0aWVzXG4gICAgaWYgKFxuICAgICAgdGhpcy5kZXZpY2VDb250ZXh0LmlzRGF0YVNhdmVyTW9kZSB8fFxuICAgICAgdGhpcy5kZXZpY2VDb250ZXh0LmNvbm5lY3Rpb25UeXBlID09PSBcInNsb3ctMmdcIlxuICAgICkge1xuICAgICAgLy8gU2tpcCBub24tZXNzZW50aWFsIHByZWxvYWRpbmcgb24gc2xvdyBjb25uZWN0aW9uc1xuICAgICAgY3JpdGljYWxSZXNvdXJjZXMuc3BsaWNlKDIpOyAvLyBLZWVwIG9ubHkgYXV0aCBhbmQgcHJlZmVyZW5jZXNcbiAgICB9XG5cbiAgICBjb25zdCBwcmVsb2FkUHJvbWlzZXMgPSBjcml0aWNhbFJlc291cmNlcy5tYXAoYXN5bmMgKHJlc291cmNlKSA9PiB7XG4gICAgICBpZiAodGhpcy5wcmVsb2FkZWRSZXNvdXJjZXMuaGFzKHJlc291cmNlKSkgcmV0dXJuO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHJlc291cmNlLCB7XG4gICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwiWC1QcmVsb2FkXCI6IFwidHJ1ZVwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRoaXMucHJlbG9hZGVkUmVzb3VyY2VzLmFkZChyZXNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGxvZ2dlci5pbmZvKGBbQnVuZGxlIE9wdGltaXplcl0gRmFpbGVkIHRvIHByZWxvYWQgJHtyZXNvdXJjZX06YCwgZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKHByZWxvYWRQcm9taXNlcyk7XG4gIH1cblxuICAvLyBMb2FkIEx1c29waG9uZSBjb250ZW50IGJ1bmRsZXMgYmFzZWQgb24gcHJpb3JpdHlcbiAgcHVibGljIGFzeW5jIGxvYWRQb3J0dWd1ZXNlQ29udGVudEJ1bmRsZShcbiAgICBwcmlvcml0eToga2V5b2YgUG9ydHVndWVzZUNvbnRlbnRQcmlvcml0eVxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuY29uZmlnLmVuYWJsZVBvcnR1Z3Vlc2VDb250ZW50R3JvdXBpbmcpIHJldHVybjtcblxuICAgIGNvbnN0IGJ1bmRsZUtleSA9IGBwb3J0dWd1ZXNlLSR7cHJpb3JpdHl9YDtcbiAgICBpZiAodGhpcy5sb2FkZWRCdW5kbGVzLmhhcyhidW5kbGVLZXkpKSByZXR1cm47XG5cbiAgICBjb25zdCBjb250ZW50VHlwZXMgPSBQT1JUVUdVRVNFX0NPTlRFTlRfUFJJT1JJVElFU1twcmlvcml0eV07XG5cbiAgICAvLyBTa2lwIG9yIGRlZmVyIGxvYWRpbmcgYmFzZWQgb24gZGV2aWNlIGNvbnN0cmFpbnRzXG4gICAgaWYgKHRoaXMuc2hvdWxkRGVmZXJMb2FkaW5nKHByaW9yaXR5KSkge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmxvYWRQb3J0dWd1ZXNlQ29udGVudEJ1bmRsZShwcmlvcml0eSksIDIwMDApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBsb2FkUHJvbWlzZXMgPSBjb250ZW50VHlwZXMubWFwKGFzeW5jIChjb250ZW50VHlwZSkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkQ29udGVudFR5cGVCdW5kbGUoY29udGVudFR5cGUpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChsb2FkUHJvbWlzZXMpO1xuICAgICAgdGhpcy5sb2FkZWRCdW5kbGVzLmFkZChidW5kbGVLZXkpO1xuICAgICAgbG9nZ2VyLmluZm8oXG4gICAgICAgIGBbQnVuZGxlIE9wdGltaXplcl0gTG9hZGVkICR7cHJpb3JpdHl9IHByaW9yaXR5IEx1c29waG9uZSBjb250ZW50YFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKFxuICAgICAgICBgW0J1bmRsZSBPcHRpbWl6ZXJdIEZhaWxlZCB0byBsb2FkICR7cHJpb3JpdHl9IGJ1bmRsZTpgLFxuICAgICAgICBlcnJvclxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxvYWRDb250ZW50VHlwZUJ1bmRsZShjb250ZW50VHlwZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgYnVuZGxlTWFwOiB7IFtrZXk6IHN0cmluZ106ICgpID0+IFByb21pc2U8YW55PiB9ID0ge1xuICAgICAgXCJwb3J0dWd1ZXNlLW5hdmlnYXRpb25cIjogKCkgPT5cbiAgICAgICAgaW1wb3J0KFwiQC9jb21wb25lbnRzL1BvcnR1Z3Vlc2VOYXZpZ2F0aW9uXCIpLFxuICAgICAgXCJjb21tdW5pdHktYXV0aGVudGljYXRpb25cIjogKCkgPT4gaW1wb3J0KFwiQC9jb21wb25lbnRzL0F1dGhTeXN0ZW1cIiksXG4gICAgICBcImV2ZW50LWxpc3RpbmdzXCI6ICgpID0+IGltcG9ydChcIkAvY29tcG9uZW50cy9FdmVudHNTaG93Y2FzZVwiKSxcbiAgICAgIFwiY29tbXVuaXR5LW1hdGNoZXNcIjogKCkgPT4gaW1wb3J0KFwiQC9jb21wb25lbnRzL01hdGNoZXNTeXN0ZW1cIiksXG4gICAgICBcImJ1c2luZXNzLWRpcmVjdG9yeVwiOiAoKSA9PiBpbXBvcnQoXCJAL2NvbXBvbmVudHMvQnVzaW5lc3NEaXJlY3RvcnlcIiksXG4gICAgICBcImN1bHR1cmFsLWNhbGVuZGFyXCI6ICgpID0+IGltcG9ydChcIkAvY29tcG9uZW50cy9DdWx0dXJhbENhbGVuZGFyXCIpLFxuICAgICAgXCJwb3J0dWd1ZXNlLWZlZWRcIjogKCkgPT4gaW1wb3J0KFwiQC9jb21wb25lbnRzL0NvbW11bml0eUZlZWRTZWN0aW9uXCIpLFxuICAgICAgXCJjb21tdW5pdHktc3Rvcmllc1wiOiAoKSA9PiBpbXBvcnQoXCJAL2NvbXBvbmVudHMvU3VjY2Vzc1N0b3JpZXNcIiksXG4gICAgICBcImN1bHR1cmFsLWFydGljbGVzXCI6ICgpID0+IGltcG9ydChcIkAvY29tcG9uZW50cy9DdWx0dXJhbEFydGljbGVzXCIpLFxuICAgICAgXCJidXNpbmVzcy1wcm9maWxlc1wiOiAoKSA9PiBpbXBvcnQoXCJAL2NvbXBvbmVudHMvQnVzaW5lc3NQcm9maWxlc1wiKSxcbiAgICAgIFwiY3VsdHVyYWwtZ2FsbGVyaWVzXCI6ICgpID0+IGltcG9ydChcIkAvY29tcG9uZW50cy9DdWx0dXJhbEdhbGxlcnlcIiksXG4gICAgICBcImNvbW11bml0eS1waG90b3NcIjogKCkgPT4gaW1wb3J0KFwiQC9jb21wb25lbnRzL0NvbW11bml0eVBob3Rvc1wiKSxcbiAgICAgIFwiY3VsdHVyYWwtdmlkZW9zXCI6ICgpID0+IGltcG9ydChcIkAvY29tcG9uZW50cy9DdWx0dXJhbFZpZGVvc1wiKSxcbiAgICB9O1xuXG4gICAgaWYgKGJ1bmRsZU1hcFtjb250ZW50VHlwZV0pIHtcbiAgICAgIGF3YWl0IGJ1bmRsZU1hcFtjb250ZW50VHlwZV0oKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNob3VsZERlZmVyTG9hZGluZyhcbiAgICBwcmlvcml0eToga2V5b2YgUG9ydHVndWVzZUNvbnRlbnRQcmlvcml0eVxuICApOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuZGV2aWNlQ29udGV4dCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgLy8gRGVmZXIgbG93IHByaW9yaXR5IGNvbnRlbnQgb24gY29uc3RyYWluZWQgZGV2aWNlc1xuICAgIGlmIChwcmlvcml0eSA9PT0gXCJsb3dcIiB8fCBwcmlvcml0eSA9PT0gXCJkZWZlclwiKSB7XG4gICAgICBpZiAodGhpcy5kZXZpY2VDb250ZXh0LmlzRGF0YVNhdmVyTW9kZSkgcmV0dXJuIHRydWU7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuZGV2aWNlQ29udGV4dC5jb25uZWN0aW9uVHlwZSA9PT0gXCJzbG93LTJnXCIgfHxcbiAgICAgICAgdGhpcy5kZXZpY2VDb250ZXh0LmNvbm5lY3Rpb25UeXBlID09PSBcIjJnXCJcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuZGV2aWNlQ29udGV4dC5kZXZpY2VNZW1vcnkgPD1cbiAgICAgICAgTU9CSUxFX09QVElNSVpBVElPTl9USFJFU0hPTERTLmxvd01lbW9yeVRocmVzaG9sZFxuICAgICAgKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBEZWZlciBtZWRpdW0gcHJpb3JpdHkgb24gdmVyeSBjb25zdHJhaW5lZCBkZXZpY2VzXG4gICAgaWYgKHByaW9yaXR5ID09PSBcIm1lZGl1bVwiKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuZGV2aWNlQ29udGV4dC5pc0RhdGFTYXZlck1vZGUgJiZcbiAgICAgICAgdGhpcy5kZXZpY2VDb250ZXh0LmNvbm5lY3Rpb25UeXBlID09PSBcInNsb3ctMmdcIlxuICAgICAgKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmICh0aGlzLmRldmljZUNvbnRleHQuZGV2aWNlTWVtb3J5IDw9IDEpIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIE9wdGltaXplIGJ1bmRsZSBsb2FkaW5nIGZvciBtb2JpbGUgTHVzb3Bob25lIHVzZXJzXG4gIHB1YmxpYyBvcHRpbWl6ZUZvck1vYmlsZSgpOiB2b2lkIHtcbiAgICBpZiAoXG4gICAgICAhdGhpcy5jb25maWcuZW5hYmxlTW9iaWxlUHJpb3JpdGl6YXRpb24gfHxcbiAgICAgICF0aGlzLmRldmljZUNvbnRleHQ/LmlzTW9iaWxlXG4gICAgKVxuICAgICAgcmV0dXJuO1xuXG4gICAgLy8gSW1wbGVtZW50IG1vYmlsZS1zcGVjaWZpYyBvcHRpbWl6YXRpb25zXG4gICAgdGhpcy5pbXBsZW1lbnRNb2JpbGVPcHRpbWl6YXRpb25zKCk7XG5cbiAgICAvLyBTZXQgdXAgaW50ZXJzZWN0aW9uIG9ic2VydmVyIGZvciBsYXp5IGxvYWRpbmdcbiAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlTGF6eUxvYWRpbmdUaHJlc2hvbGRzKSB7XG4gICAgICB0aGlzLnNldHVwSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKTtcbiAgICB9XG5cbiAgICAvLyBPcHRpbWl6ZSBmb3IgTHVzb3Bob25lIG1vYmlsZSB1c2FnZSBwYXR0ZXJuc1xuICAgIHRoaXMub3B0aW1pemVQb3J0dWd1ZXNlTW9iaWxlUGF0dGVybnMoKTtcbiAgfVxuXG4gIHByaXZhdGUgaW1wbGVtZW50TW9iaWxlT3B0aW1pemF0aW9ucygpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZGV2aWNlQ29udGV4dCkgcmV0dXJuO1xuXG4gICAgLy8gUmVkdWNlIGFuaW1hdGlvbiBjb21wbGV4aXR5IG9uIG1vYmlsZVxuICAgIGlmIChcbiAgICAgIHRoaXMuZGV2aWNlQ29udGV4dC5wcmVmZXJzUmVkdWNlZE1vdGlvbiB8fFxuICAgICAgdGhpcy5kZXZpY2VDb250ZXh0LmRldmljZU1lbW9yeSA8PSAyXG4gICAgKSB7XG4gICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInJlZHVjZWQtYW5pbWF0aW9uc1wiKTtcbiAgICB9XG5cbiAgICAvLyBBcHBseSBkYXRhIHNhdmVyIG9wdGltaXphdGlvbnNcbiAgICBpZiAodGhpcy5kZXZpY2VDb250ZXh0LmlzRGF0YVNhdmVyTW9kZSkge1xuICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJkYXRhLXNhdmVyLW1vZGVcIik7XG4gICAgICB0aGlzLmVuYWJsZURhdGFTYXZlck1vZGUoKTtcbiAgICB9XG5cbiAgICAvLyBPcHRpbWl6ZSBmb3Igc2xvdyBjb25uZWN0aW9uc1xuICAgIGlmIChbXCJzbG93LTJnXCIsIFwiMmdcIiwgXCIzZ1wiXS5pbmNsdWRlcyh0aGlzLmRldmljZUNvbnRleHQuY29ubmVjdGlvblR5cGUpKSB7XG4gICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInNsb3ctY29ubmVjdGlvblwiKTtcbiAgICAgIHRoaXMuZW5hYmxlU2xvd0Nvbm5lY3Rpb25PcHRpbWl6YXRpb25zKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBlbmFibGVEYXRhU2F2ZXJNb2RlKCk6IHZvaWQge1xuICAgIC8vIERpc2FibGUgYXV0b3BsYXkgdmlkZW9zXG4gICAgY29uc3QgdmlkZW9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInZpZGVvW2F1dG9wbGF5XVwiKTtcbiAgICB2aWRlb3MuZm9yRWFjaCgodmlkZW8pID0+IHZpZGVvLnJlbW92ZUF0dHJpYnV0ZShcImF1dG9wbGF5XCIpKTtcblxuICAgIC8vIFJlZHVjZSBpbWFnZSBxdWFsaXR5XG4gICAgY29uc3QgaW1hZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW1nW3NyYyo9XCJjbG91ZGluYXJ5XCJdJyk7XG4gICAgaW1hZ2VzLmZvckVhY2goKGltZykgPT4ge1xuICAgICAgY29uc3QgaW1nRWxlbWVudCA9IGltZyBhcyBIVE1MSW1hZ2VFbGVtZW50O1xuICAgICAgaW1nRWxlbWVudC5zcmMgPSBpbWdFbGVtZW50LnNyYy5yZXBsYWNlKC9xX1xcZCsvLCBcInFfMzBcIik7XG4gICAgfSk7XG5cbiAgICAvLyBEZWZlciBub24tY3JpdGljYWwgTHVzb3Bob25lIGN1bHR1cmFsIGNvbnRlbnRcbiAgICB0aGlzLmRlZmVyTm9uQ3JpdGljYWxDb250ZW50KCk7XG4gIH1cblxuICBwcml2YXRlIGVuYWJsZVNsb3dDb25uZWN0aW9uT3B0aW1pemF0aW9ucygpOiB2b2lkIHtcbiAgICAvLyBQcmVsb2FkIG9ubHkgY3JpdGljYWwgcmVzb3VyY2VzXG4gICAgY29uc3QgY3JpdGljYWxMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpbmtbcmVsPVwicHJlbG9hZFwiXScpO1xuICAgIGNyaXRpY2FsTGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuICAgICAgaWYgKCFsaW5rLmdldEF0dHJpYnV0ZShcImhyZWZcIik/LmluY2x1ZGVzKFwiY3JpdGljYWxcIikpIHtcbiAgICAgICAgbGluay5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEluY3JlYXNlIGludGVyc2VjdGlvbiBvYnNlcnZlciB0aHJlc2hvbGRzXG4gICAgdGhpcy5sYXp5TG9hZFRocmVzaG9sZCA9IDIwOyAvLyBDbG9zZXIgdG8gdmlld3BvcnRcbiAgfVxuXG4gIHByaXZhdGUgbGF6eUxvYWRUaHJlc2hvbGQgPSBNT0JJTEVfT1BUSU1JWkFUSU9OX1RIUkVTSE9MRFMubGF6eUxvYWRUaHJlc2hvbGQ7XG5cbiAgcHJpdmF0ZSBzZXR1cEludGVyc2VjdGlvbk9ic2VydmVyKCk6IHZvaWQge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiIHx8ICEoXCJJbnRlcnNlY3Rpb25PYnNlcnZlclwiIGluIHdpbmRvdykpXG4gICAgICByZXR1cm47XG5cbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgIChlbnRyaWVzKSA9PiB7XG4gICAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbnRyeS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLmxvYWRFbGVtZW50Q29udGVudChlbGVtZW50KTtcbiAgICAgICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShlbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcm9vdE1hcmdpbjogYCR7dGhpcy5sYXp5TG9hZFRocmVzaG9sZH1weCAwcHhgLFxuICAgICAgICB0aHJlc2hvbGQ6IDAuMSxcbiAgICAgIH1cbiAgICApO1xuXG4gICAgLy8gT2JzZXJ2ZSBsYXp5LWxvYWRhYmxlIEx1c29waG9uZSBjb250ZW50XG4gICAgY29uc3QgbGF6eUVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXBvcnR1Z3Vlc2UtbGF6eV1cIik7XG4gICAgbGF6eUVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IG9ic2VydmVyLm9ic2VydmUoZWxlbWVudCkpO1xuICB9XG5cbiAgcHJpdmF0ZSBsb2FkRWxlbWVudENvbnRlbnQoZWxlbWVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb25zdCBjb250ZW50VHlwZSA9IGVsZW1lbnQuZGF0YXNldC5wb3J0dWd1ZXNlTGF6eTtcbiAgICBpZiAoIWNvbnRlbnRUeXBlKSByZXR1cm47XG5cbiAgICAvLyBMb2FkIHNwZWNpZmljIEx1c29waG9uZSBjb250ZW50IGJhc2VkIG9uIHR5cGVcbiAgICBzd2l0Y2ggKGNvbnRlbnRUeXBlKSB7XG4gICAgICBjYXNlIFwiY3VsdHVyYWwtZ2FsbGVyeVwiOlxuICAgICAgICB0aGlzLmxvYWRDdWx0dXJhbEdhbGxlcnkoZWxlbWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImNvbW11bml0eS1mZWVkXCI6XG4gICAgICAgIHRoaXMubG9hZENvbW11bml0eUZlZWQoZWxlbWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImJ1c2luZXNzLWxpc3RpbmdzXCI6XG4gICAgICAgIHRoaXMubG9hZEJ1c2luZXNzTGlzdGluZ3MoZWxlbWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImV2ZW50LWRldGFpbHNcIjpcbiAgICAgICAgdGhpcy5sb2FkRXZlbnREZXRhaWxzKGVsZW1lbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxvZ2dlci53YXJuKFxuICAgICAgICAgIGBbQnVuZGxlIE9wdGltaXplcl0gVW5rbm93biBMdXNvcGhvbmUgY29udGVudCB0eXBlOiAke2NvbnRlbnRUeXBlfWBcbiAgICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxvYWRDdWx0dXJhbEdhbGxlcnkoZWxlbWVudDogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkZWZhdWx0OiBDdWx0dXJhbEdhbGxlcnkgfSA9IGF3YWl0IGltcG9ydChcbiAgICAgICAgXCJAL2NvbXBvbmVudHMvQ3VsdHVyYWxHYWxsZXJ5XCJcbiAgICAgICk7XG4gICAgICAvLyBSZW5kZXIgY29tcG9uZW50IGluIGVsZW1lbnRcbiAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID1cbiAgICAgICAgJzxkaXYgY2xhc3M9XCJjdWx0dXJhbC1nYWxsZXJ5LWxvYWRlZFwiPkdhbGxlcnkgbG9hZGVkPC9kaXY+JztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKFxuICAgICAgICBcIltCdW5kbGUgT3B0aW1pemVyXSBGYWlsZWQgdG8gbG9hZCBjdWx0dXJhbCBnYWxsZXJ5OlwiLFxuICAgICAgICBlcnJvclxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxvYWRDb21tdW5pdHlGZWVkKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGVmYXVsdDogQ29tbXVuaXR5RmVlZCB9ID0gYXdhaXQgaW1wb3J0KFxuICAgICAgICBcIkAvY29tcG9uZW50cy9Db21tdW5pdHlGZWVkU2VjdGlvblwiXG4gICAgICApO1xuICAgICAgZWxlbWVudC5pbm5lckhUTUwgPVxuICAgICAgICAnPGRpdiBjbGFzcz1cImNvbW11bml0eS1mZWVkLWxvYWRlZFwiPkZlZWQgbG9hZGVkPC9kaXY+JztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKFwiW0J1bmRsZSBPcHRpbWl6ZXJdIEZhaWxlZCB0byBsb2FkIGNvbW11bml0eSBmZWVkOlwiLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBsb2FkQnVzaW5lc3NMaXN0aW5ncyhlbGVtZW50OiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRlZmF1bHQ6IEJ1c2luZXNzRGlyZWN0b3J5IH0gPSBhd2FpdCBpbXBvcnQoXG4gICAgICAgIFwiQC9jb21wb25lbnRzL0J1c2luZXNzRGlyZWN0b3J5XCJcbiAgICAgICk7XG4gICAgICBlbGVtZW50LmlubmVySFRNTCA9XG4gICAgICAgICc8ZGl2IGNsYXNzPVwiYnVzaW5lc3MtbGlzdGluZ3MtbG9hZGVkXCI+QnVzaW5lc3NlcyBsb2FkZWQ8L2Rpdj4nO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoXG4gICAgICAgIFwiW0J1bmRsZSBPcHRpbWl6ZXJdIEZhaWxlZCB0byBsb2FkIGJ1c2luZXNzIGxpc3RpbmdzOlwiLFxuICAgICAgICBlcnJvclxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxvYWRFdmVudERldGFpbHMoZWxlbWVudDogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZXZlbnRJZCA9IGVsZW1lbnQuZGF0YXNldC5ldmVudElkO1xuICAgICAgaWYgKGV2ZW50SWQpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9ldmVudHMvJHtldmVudElkfWApO1xuICAgICAgICBjb25zdCBldmVudERhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJldmVudC1kZXRhaWxzLWxvYWRlZFwiPiR7ZXZlbnREYXRhLnRpdGxlfTwvZGl2PmA7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcihcIltCdW5kbGUgT3B0aW1pemVyXSBGYWlsZWQgdG8gbG9hZCBldmVudCBkZXRhaWxzOlwiLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBvcHRpbWl6ZVBvcnR1Z3Vlc2VNb2JpbGVQYXR0ZXJucygpOiB2b2lkIHtcbiAgICAvLyBPcHRpbWl6ZSBmb3IgTHVzb3Bob25lIG1vYmlsZSB1c2FnZSBwYXR0ZXJuc1xuICAgIC8vIDczJSBvZiBQb3J0dWd1ZXNlLXNwZWFraW5nIGNvbW11bml0eSB1c2VzIG1vYmlsZVxuXG4gICAgLy8gUHJpb3JpdGl6ZSB0b3VjaC1mcmllbmRseSBpbnRlcmFjdGlvbnNcbiAgICB0aGlzLm9wdGltaXplVG91Y2hUYXJnZXRzKCk7XG5cbiAgICAvLyBPcHRpbWl6ZSBmb3IgTHVzb3Bob25lIHRleHQgcmVuZGVyaW5nXG4gICAgdGhpcy5vcHRpbWl6ZVBvcnR1Z3Vlc2VUZXh0UmVuZGVyaW5nKCk7XG5cbiAgICAvLyBJbXBsZW1lbnQgTHVzb3Bob25lIGN1bHR1cmFsIGNvbG9yIG9wdGltaXphdGlvblxuICAgIHRoaXMub3B0aW1pemVDdWx0dXJhbFRoZW1pbmcoKTtcbiAgfVxuXG4gIHByaXZhdGUgb3B0aW1pemVUb3VjaFRhcmdldHMoKTogdm9pZCB7XG4gICAgY29uc3QgdG91Y2hUYXJnZXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICdidXR0b24sIGFbcm9sZT1cImJ1dHRvblwiXSwgW29uY2xpY2tdJ1xuICAgICk7XG4gICAgdG91Y2hUYXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudCA9IHRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAvLyBFbnN1cmUgbWluaW11bSA0NHB4IHRvdWNoIHRhcmdldHNcbiAgICAgIGlmIChyZWN0LndpZHRoIDwgNDQgfHwgcmVjdC5oZWlnaHQgPCA0NCkge1xuICAgICAgICBlbGVtZW50LnN0eWxlLm1pbldpZHRoID0gXCI0NHB4XCI7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUubWluSGVpZ2h0ID0gXCI0NHB4XCI7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUucGFkZGluZyA9IGVsZW1lbnQuc3R5bGUucGFkZGluZyB8fCBcIjhweFwiO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBvcHRpbWl6ZVBvcnR1Z3Vlc2VUZXh0UmVuZGVyaW5nKCk6IHZvaWQge1xuICAgIC8vIE9wdGltaXplIGZvciBMdXNvcGhvbmUgZGlhY3JpdGljcyBhbmQgc3BlY2lhbCBjaGFyYWN0ZXJzXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnRleHRSZW5kZXJpbmcgPSBcIm9wdGltaXplTGVnaWJpbGl0eVwiO1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5mb250RmVhdHVyZVNldHRpbmdzID0gJ1wibGlnYVwiIDEsIFwia2VyblwiIDEnO1xuXG4gICAgLy8gRW5zdXJlIHByb3BlciBMdXNvcGhvbmUgdGV4dCB3cmFwcGluZ1xuICAgIGNvbnN0IHRleHRFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICBcInAsIGgxLCBoMiwgaDMsIGg0LCBoNSwgaDYsIHNwYW5cIlxuICAgICk7XG4gICAgdGV4dEVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGNvbnN0IGh0bWxFbGVtZW50ID0gZWxlbWVudCBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGh0bWxFbGVtZW50LnN0eWxlLndvcmRCcmVhayA9IFwiYnJlYWstd29yZFwiO1xuICAgICAgaHRtbEVsZW1lbnQuc3R5bGUuaHlwaGVucyA9IFwiYXV0b1wiO1xuICAgICAgaHRtbEVsZW1lbnQubGFuZyA9IGh0bWxFbGVtZW50LmxhbmcgfHwgXCJwdC1QVFwiO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBvcHRpbWl6ZUN1bHR1cmFsVGhlbWluZygpOiB2b2lkIHtcbiAgICAvLyBBcHBseSBMdXNvcGhvbmUgY3VsdHVyYWwgY29sb3Igb3B0aW1pemF0aW9uc1xuICAgIGNvbnN0IGNvbG9yT3B0aW1pemF0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICBjb2xvck9wdGltaXphdGlvbnMudGV4dENvbnRlbnQgPSBgXG4gICAgICAucG9ydHVndWVzZS1vcHRpbWl6ZWQge1xuICAgICAgICAtLXByaW1hcnktY3VsdHVyYWw6ICMxZTQwYWY7IC8qIEx1c29waG9uZSBibHVlICovXG4gICAgICAgIC0tc2Vjb25kYXJ5LWN1bHR1cmFsOiAjMDU5NjY5OyAvKiBMdXNvcGhvbmUgZ3JlZW4gKi9cbiAgICAgICAgLS1hY2NlbnQtY3VsdHVyYWw6ICNkYzI2MjY7IC8qIEx1c29waG9uZSByZWQgKi9cbiAgICAgICAgLS1nb2xkLWN1bHR1cmFsOiAjZjU5ZTBiOyAvKiBMdXNvcGhvbmUgZ29sZCAqL1xuICAgICAgfVxuICAgICAgXG4gICAgICAubW9iaWxlLXBvcnR1Z3Vlc2UtdGV4dCB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxLjY7XG4gICAgICAgIGxldHRlci1zcGFjaW5nOiAwLjAyNWVtO1xuICAgICAgfVxuICAgICAgXG4gICAgICAuY3VsdHVyYWwtZ3JhZGllbnQge1xuICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCBcbiAgICAgICAgICB2YXIoLS1wcmltYXJ5LWN1bHR1cmFsKSwgXG4gICAgICAgICAgdmFyKC0tc2Vjb25kYXJ5LWN1bHR1cmFsKSwgXG4gICAgICAgICAgdmFyKC0tYWNjZW50LWN1bHR1cmFsKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIGA7XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChjb2xvck9wdGltaXphdGlvbnMpO1xuXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwb3J0dWd1ZXNlLW9wdGltaXplZFwiKTtcbiAgfVxuXG4gIHByaXZhdGUgZGVmZXJOb25Dcml0aWNhbENvbnRlbnQoKTogdm9pZCB7XG4gICAgY29uc3Qgbm9uQ3JpdGljYWxTZWxlY3RvcnMgPSBbXG4gICAgICBcIi5jdWx0dXJhbC12aWRlb1wiLFxuICAgICAgXCIubGFyZ2UtZ2FsbGVyeVwiLFxuICAgICAgXCIudGVzdGltb25pYWwtY2Fyb3VzZWxcIixcbiAgICAgIFwiLmNvbW11bml0eS1hcmNoaXZlXCIsXG4gICAgICBcIi5hZG1pbi1wYW5lbFwiLFxuICAgIF07XG5cbiAgICBub25Dcml0aWNhbFNlbGVjdG9ycy5mb3JFYWNoKChzZWxlY3RvcikgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgaHRtbEVsZW1lbnQgPSBlbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBodG1sRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIGh0bWxFbGVtZW50LmRhdGFzZXQuZGVmZXJyZWQgPSBcInRydWVcIjtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gUHVibGljIG1ldGhvZCB0byBnZXQgb3B0aW1pemF0aW9uIHN0YXRzXG4gIHB1YmxpYyBnZXRPcHRpbWl6YXRpb25TdGF0cygpOiB7XG4gICAgbG9hZGVkQnVuZGxlczogc3RyaW5nW107XG4gICAgcHJlbG9hZGVkUmVzb3VyY2VzOiBzdHJpbmdbXTtcbiAgICBkZXZpY2VDb250ZXh0OiBEZXZpY2VPcHRpbWl6YXRpb25Db250ZXh0IHwgbnVsbDtcbiAgICBvcHRpbWl6YXRpb25zQXBwbGllZDogc3RyaW5nW107XG4gIH0ge1xuICAgIGNvbnN0IG9wdGltaXphdGlvbnNBcHBsaWVkID0gW107XG5cbiAgICBpZiAodGhpcy5kZXZpY2VDb250ZXh0Py5pc01vYmlsZSlcbiAgICAgIG9wdGltaXphdGlvbnNBcHBsaWVkLnB1c2goXCJtb2JpbGUtb3B0aW1pemVkXCIpO1xuICAgIGlmICh0aGlzLmRldmljZUNvbnRleHQ/LmlzRGF0YVNhdmVyTW9kZSlcbiAgICAgIG9wdGltaXphdGlvbnNBcHBsaWVkLnB1c2goXCJkYXRhLXNhdmVyXCIpO1xuICAgIGlmICh0aGlzLmRldmljZUNvbnRleHQ/LnByZWZlcnNSZWR1Y2VkTW90aW9uKVxuICAgICAgb3B0aW1pemF0aW9uc0FwcGxpZWQucHVzaChcInJlZHVjZWQtbW90aW9uXCIpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGxvYWRlZEJ1bmRsZXM6IEFycmF5LmZyb20odGhpcy5sb2FkZWRCdW5kbGVzKSxcbiAgICAgIHByZWxvYWRlZFJlc291cmNlczogQXJyYXkuZnJvbSh0aGlzLnByZWxvYWRlZFJlc291cmNlcyksXG4gICAgICBkZXZpY2VDb250ZXh0OiB0aGlzLmRldmljZUNvbnRleHQsXG4gICAgICBvcHRpbWl6YXRpb25zQXBwbGllZCxcbiAgICB9O1xuICB9XG5cbiAgLy8gQ2xlYW4gdXAgcmVzb3VyY2VzXG4gIHB1YmxpYyBjbGVhbnVwKCk6IHZvaWQge1xuICAgIHRoaXMubG9hZGVkQnVuZGxlcy5jbGVhcigpO1xuICAgIHRoaXMucHJlbG9hZGVkUmVzb3VyY2VzLmNsZWFyKCk7XG4gICAgdGhpcy5kZXZpY2VDb250ZXh0ID0gbnVsbDtcbiAgfVxufVxuXG4vLyBDcmVhdGUgZ2xvYmFsIGluc3RhbmNlXG5leHBvcnQgY29uc3QgcG9ydHVndWVzZUJ1bmRsZU9wdGltaXplciA9IG5ldyBQb3J0dWd1ZXNlQnVuZGxlT3B0aW1pemVyKCk7XG5cbi8vIEhvb2sgZm9yIFJlYWN0IGNvbXBvbmVudHNcbmV4cG9ydCBmdW5jdGlvbiB1c2VQb3J0dWd1ZXNlQnVuZGxlT3B0aW1pemF0aW9uKCkge1xuICBjb25zdCBbc3RhdHMsIHNldFN0YXRzXSA9IFJlYWN0LnVzZVN0YXRlKFxuICAgIHBvcnR1Z3Vlc2VCdW5kbGVPcHRpbWl6ZXIuZ2V0T3B0aW1pemF0aW9uU3RhdHMoKVxuICApO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gSW5pdGlhbGl6ZSBvcHRpbWl6YXRpb25cbiAgICBwb3J0dWd1ZXNlQnVuZGxlT3B0aW1pemVyLnByZWxvYWRDcml0aWNhbFJlc291cmNlcygpO1xuICAgIHBvcnR1Z3Vlc2VCdW5kbGVPcHRpbWl6ZXIub3B0aW1pemVGb3JNb2JpbGUoKTtcblxuICAgIC8vIExvYWQgY3JpdGljYWwgTHVzb3Bob25lIGNvbnRlbnRcbiAgICBwb3J0dWd1ZXNlQnVuZGxlT3B0aW1pemVyLmxvYWRQb3J0dWd1ZXNlQ29udGVudEJ1bmRsZShcImNyaXRpY2FsXCIpO1xuXG4gICAgLy8gVXBkYXRlIHN0YXRzXG4gICAgY29uc3QgdXBkYXRlU3RhdHMgPSAoKSA9PlxuICAgICAgc2V0U3RhdHMocG9ydHVndWVzZUJ1bmRsZU9wdGltaXplci5nZXRPcHRpbWl6YXRpb25TdGF0cygpKTtcbiAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKHVwZGF0ZVN0YXRzLCAyMDAwKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgIHBvcnR1Z3Vlc2VCdW5kbGVPcHRpbWl6ZXIuY2xlYW51cCgpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICByZXR1cm4ge1xuICAgIHN0YXRzLFxuICAgIGxvYWRCdW5kbGU6IHBvcnR1Z3Vlc2VCdW5kbGVPcHRpbWl6ZXIubG9hZFBvcnR1Z3Vlc2VDb250ZW50QnVuZGxlLmJpbmQoXG4gICAgICBwb3J0dWd1ZXNlQnVuZGxlT3B0aW1pemVyXG4gICAgKSxcbiAgICBwcmVsb2FkUmVzb3VyY2VzOiBwb3J0dWd1ZXNlQnVuZGxlT3B0aW1pemVyLnByZWxvYWRDcml0aWNhbFJlc291cmNlcy5iaW5kKFxuICAgICAgcG9ydHVndWVzZUJ1bmRsZU9wdGltaXplclxuICAgICksXG4gIH07XG59XG5cbi8vIFV0aWxpdHkgZnVuY3Rpb25zXG5leHBvcnQgZnVuY3Rpb24gcHJlbG9hZFBvcnR1Z3Vlc2VSb3V0ZShyb3V0ZTogc3RyaW5nKTogdm9pZCB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIFwicmVxdWVzdElkbGVDYWxsYmFja1wiIGluIHdpbmRvdykge1xuICAgIHJlcXVlc3RJZGxlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICAgICAgbGluay5yZWwgPSBcInByZWZldGNoXCI7XG4gICAgICBsaW5rLmhyZWYgPSByb3V0ZTtcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9wdGltaXplUG9ydHVndWVzZUltYWdlcygpOiB2b2lkIHtcbiAgY29uc3QgaW1hZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAnaW1nW3NyYyo9XCJwb3J0dWd1ZXNlXCJdLCBpbWdbYWx0Kj1cInBvcnR1Z3Vlc2VcIiBpXSdcbiAgKTtcbiAgaW1hZ2VzLmZvckVhY2goKGltZykgPT4ge1xuICAgIGNvbnN0IGltZ0VsZW1lbnQgPSBpbWcgYXMgSFRNTEltYWdlRWxlbWVudDtcblxuICAgIC8vIEFkZCBsYXp5IGxvYWRpbmdcbiAgICBpZiAoIWltZ0VsZW1lbnQubG9hZGluZykge1xuICAgICAgaW1nRWxlbWVudC5sb2FkaW5nID0gXCJsYXp5XCI7XG4gICAgfVxuXG4gICAgLy8gQWRkIHByb3BlciBzaXplcyBmb3IgTHVzb3Bob25lIGNvbnRlbnRcbiAgICBpZiAoIWltZ0VsZW1lbnQuc2l6ZXMpIHtcbiAgICAgIGltZ0VsZW1lbnQuc2l6ZXMgPVxuICAgICAgICBcIihtYXgtd2lkdGg6IDc2OHB4KSAxMDB2dywgKG1heC13aWR0aDogMTIwMHB4KSA1MHZ3LCAzM3Z3XCI7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gTHVzb3Bob25lLXNwZWNpZmljIHBlcmZvcm1hbmNlIG1lYXN1cmVtZW50XG5leHBvcnQgZnVuY3Rpb24gbWVhc3VyZVBvcnR1Z3Vlc2VQZXJmb3JtYW5jZSgpOiBQcm9taXNlPHtcbiAgY3VsdHVyYWxDb250ZW50TG9hZFRpbWU6IG51bWJlcjtcbiAgcG9ydHVndWVzZVRleHRSZW5kZXJUaW1lOiBudW1iZXI7XG4gIG1vYmlsZU9wdGltaXphdGlvblNjb3JlOiBudW1iZXI7XG59PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXNvbHZlKHtcbiAgICAgICAgY3VsdHVyYWxDb250ZW50TG9hZFRpbWU6IDAsXG4gICAgICAgIHBvcnR1Z3Vlc2VUZXh0UmVuZGVyVGltZTogMCxcbiAgICAgICAgbW9iaWxlT3B0aW1pemF0aW9uU2NvcmU6IDAsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIGNvbnN0IGN1bHR1cmFsRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgICBcIltkYXRhLXBvcnR1Z3Vlc2UtY29udGVudF1cIlxuICAgICAgKTtcbiAgICAgIGNvbnN0IHRleHRFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJwLCBoMSwgaDIsIGgzXCIpO1xuICAgICAgY29uc3QgbW9iaWxlRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbY2xhc3MqPVwibW9iaWxlXCJdJyk7XG5cbiAgICAgIGNvbnN0IGN1bHR1cmFsQ29udGVudExvYWRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydDtcbiAgICAgIGNvbnN0IHBvcnR1Z3Vlc2VUZXh0UmVuZGVyVGltZSA9XG4gICAgICAgIGN1bHR1cmFsRWxlbWVudHMubGVuZ3RoID4gMCA/IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnQgOiAwO1xuICAgICAgY29uc3QgbW9iaWxlT3B0aW1pemF0aW9uU2NvcmUgPSBNYXRoLm1pbihcbiAgICAgICAgMTAwLFxuICAgICAgICAobW9iaWxlRWxlbWVudHMubGVuZ3RoIC8gdGV4dEVsZW1lbnRzLmxlbmd0aCkgKiAxMDBcbiAgICAgICk7XG5cbiAgICAgIHJlc29sdmUoe1xuICAgICAgICBjdWx0dXJhbENvbnRlbnRMb2FkVGltZSxcbiAgICAgICAgcG9ydHVndWVzZVRleHRSZW5kZXJUaW1lLFxuICAgICAgICBtb2JpbGVPcHRpbWl6YXRpb25TY29yZSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn1cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiOyAvLyBGb3IgdGhlIGhvb2tcbiJdLCJuYW1lcyI6WyJQb3J0dWd1ZXNlQnVuZGxlT3B0aW1pemVyIiwibWVhc3VyZVBvcnR1Z3Vlc2VQZXJmb3JtYW5jZSIsIm9wdGltaXplUG9ydHVndWVzZUltYWdlcyIsInBvcnR1Z3Vlc2VCdW5kbGVPcHRpbWl6ZXIiLCJwcmVsb2FkUG9ydHVndWVzZVJvdXRlIiwidXNlUG9ydHVndWVzZUJ1bmRsZU9wdGltaXphdGlvbiIsIlBPUlRVR1VFU0VfQ09OVEVOVF9QUklPUklUSUVTIiwiY3JpdGljYWwiLCJoaWdoIiwibWVkaXVtIiwibG93IiwiZGVmZXIiLCJNT0JJTEVfT1BUSU1JWkFUSU9OX1RIUkVTSE9MRFMiLCJjcml0aWNhbEJ1bmRsZVNpemUiLCJoaWdoUHJpb3JpdHlCdW5kbGVTaXplIiwibGF6eUxvYWRUaHJlc2hvbGQiLCJzbG93Q29ubmVjdGlvblRocmVzaG9sZCIsImxvd01lbW9yeVRocmVzaG9sZCIsImJhdHRlcnlMb3dUaHJlc2hvbGQiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImRldmljZUNvbnRleHQiLCJsb2FkZWRCdW5kbGVzIiwiU2V0IiwicHJlbG9hZGVkUmVzb3VyY2VzIiwiZW5hYmxlQ3JpdGljYWxSZXNvdXJjZVByZWxvYWQiLCJlbmFibGVQb3J0dWd1ZXNlQ29udGVudEdyb3VwaW5nIiwiZW5hYmxlTW9iaWxlUHJpb3JpdGl6YXRpb24iLCJlbmFibGVDdWx0dXJhbENvbnRlbnRTcGxpdHRpbmciLCJlbmFibGVMYXp5TG9hZGluZ1RocmVzaG9sZHMiLCJpbml0aWFsaXplRGV2aWNlQ29udGV4dCIsIndpbmRvdyIsImNvbm5lY3Rpb24iLCJuYXZpZ2F0b3IiLCJpc01vYmlsZSIsImlubmVyV2lkdGgiLCJjb25uZWN0aW9uVHlwZSIsImVmZmVjdGl2ZVR5cGUiLCJkZXZpY2VNZW1vcnkiLCJpc0RhdGFTYXZlck1vZGUiLCJzYXZlRGF0YSIsInZpZXdwb3J0V2lkdGgiLCJwcmVmZXJzUmVkdWNlZE1vdGlvbiIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwicHJlbG9hZENyaXRpY2FsUmVzb3VyY2VzIiwiY3JpdGljYWxSZXNvdXJjZXMiLCJzcGxpY2UiLCJwcmVsb2FkUHJvbWlzZXMiLCJtYXAiLCJyZXNvdXJjZSIsImhhcyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwib2siLCJhZGQiLCJlcnJvciIsImxvZ2dlciIsImluZm8iLCJQcm9taXNlIiwiYWxsU2V0dGxlZCIsImxvYWRQb3J0dWd1ZXNlQ29udGVudEJ1bmRsZSIsInByaW9yaXR5IiwiYnVuZGxlS2V5IiwiY29udGVudFR5cGVzIiwic2hvdWxkRGVmZXJMb2FkaW5nIiwic2V0VGltZW91dCIsImxvYWRQcm9taXNlcyIsImNvbnRlbnRUeXBlIiwibG9hZENvbnRlbnRUeXBlQnVuZGxlIiwiYnVuZGxlTWFwIiwib3B0aW1pemVGb3JNb2JpbGUiLCJpbXBsZW1lbnRNb2JpbGVPcHRpbWl6YXRpb25zIiwic2V0dXBJbnRlcnNlY3Rpb25PYnNlcnZlciIsIm9wdGltaXplUG9ydHVndWVzZU1vYmlsZVBhdHRlcm5zIiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGFzc0xpc3QiLCJlbmFibGVEYXRhU2F2ZXJNb2RlIiwiaW5jbHVkZXMiLCJlbmFibGVTbG93Q29ubmVjdGlvbk9wdGltaXphdGlvbnMiLCJ2aWRlb3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsInZpZGVvIiwicmVtb3ZlQXR0cmlidXRlIiwiaW1hZ2VzIiwiaW1nIiwiaW1nRWxlbWVudCIsInNyYyIsInJlcGxhY2UiLCJkZWZlck5vbkNyaXRpY2FsQ29udGVudCIsImNyaXRpY2FsTGlua3MiLCJsaW5rIiwiZ2V0QXR0cmlidXRlIiwicmVtb3ZlIiwib2JzZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJpZXMiLCJlbnRyeSIsImlzSW50ZXJzZWN0aW5nIiwiZWxlbWVudCIsInRhcmdldCIsImxvYWRFbGVtZW50Q29udGVudCIsInVub2JzZXJ2ZSIsInJvb3RNYXJnaW4iLCJ0aHJlc2hvbGQiLCJsYXp5RWxlbWVudHMiLCJvYnNlcnZlIiwiZGF0YXNldCIsInBvcnR1Z3Vlc2VMYXp5IiwibG9hZEN1bHR1cmFsR2FsbGVyeSIsImxvYWRDb21tdW5pdHlGZWVkIiwibG9hZEJ1c2luZXNzTGlzdGluZ3MiLCJsb2FkRXZlbnREZXRhaWxzIiwid2FybiIsImRlZmF1bHQiLCJDdWx0dXJhbEdhbGxlcnkiLCJpbm5lckhUTUwiLCJDb21tdW5pdHlGZWVkIiwiQnVzaW5lc3NEaXJlY3RvcnkiLCJldmVudElkIiwiZXZlbnREYXRhIiwianNvbiIsInRpdGxlIiwib3B0aW1pemVUb3VjaFRhcmdldHMiLCJvcHRpbWl6ZVBvcnR1Z3Vlc2VUZXh0UmVuZGVyaW5nIiwib3B0aW1pemVDdWx0dXJhbFRoZW1pbmciLCJ0b3VjaFRhcmdldHMiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwid2lkdGgiLCJoZWlnaHQiLCJzdHlsZSIsIm1pbldpZHRoIiwibWluSGVpZ2h0IiwicGFkZGluZyIsInRleHRSZW5kZXJpbmciLCJmb250RmVhdHVyZVNldHRpbmdzIiwidGV4dEVsZW1lbnRzIiwiaHRtbEVsZW1lbnQiLCJ3b3JkQnJlYWsiLCJoeXBoZW5zIiwibGFuZyIsImNvbG9yT3B0aW1pemF0aW9ucyIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsImhlYWQiLCJhcHBlbmRDaGlsZCIsIm5vbkNyaXRpY2FsU2VsZWN0b3JzIiwic2VsZWN0b3IiLCJlbGVtZW50cyIsImRpc3BsYXkiLCJkZWZlcnJlZCIsImdldE9wdGltaXphdGlvblN0YXRzIiwib3B0aW1pemF0aW9uc0FwcGxpZWQiLCJwdXNoIiwiQXJyYXkiLCJmcm9tIiwiY2xlYW51cCIsImNsZWFyIiwic3RhdHMiLCJzZXRTdGF0cyIsIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1cGRhdGVTdGF0cyIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwibG9hZEJ1bmRsZSIsImJpbmQiLCJwcmVsb2FkUmVzb3VyY2VzIiwicm91dGUiLCJyZXF1ZXN0SWRsZUNhbGxiYWNrIiwicmVsIiwiaHJlZiIsImxvYWRpbmciLCJzaXplcyIsInJlc29sdmUiLCJjdWx0dXJhbENvbnRlbnRMb2FkVGltZSIsInBvcnR1Z3Vlc2VUZXh0UmVuZGVyVGltZSIsIm1vYmlsZU9wdGltaXphdGlvblNjb3JlIiwic3RhcnQiLCJwZXJmb3JtYW5jZSIsIm5vdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImN1bHR1cmFsRWxlbWVudHMiLCJtb2JpbGVFbGVtZW50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