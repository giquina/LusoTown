{"version":3,"sources":["/workspaces/LusoTown/web-app/src/components/AppDownloadBar.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect, useRef } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { XMarkIcon, DevicePhoneMobileIcon, SparklesIcon } from '@heroicons/react/24/outline'\nimport { useLanguage } from '@/context/LanguageContext'\nimport { COMPONENT_Z_INDEX } from '@/config/z-index-layers'\nimport { useAriaAnnouncements, ARIA_MESSAGES } from '@/hooks/useAriaAnnouncements'\nimport { useFocusIndicator } from '@/hooks/useFocusManagement'\n\ninterface AppDownloadBarProps {\n  className?: string\n  autoShow?: boolean\n  showDelay?: number\n  position?: 'bottom' | 'top'\n}\n\n/**\n * Bottom App Download Bar - Dismissible promotion for mobile app\n * Features:\n * - Clear dismiss options (X button + \"Skip for now\" link)\n * - Dynamic z-index positioning\n * - State management with localStorage\n * - Smooth animations\n * - Adjusts other widget positions when visible\n */\nexport default function AppDownloadBar({\n  className = '',\n  autoShow = true,\n  showDelay = 5000, // 5 seconds delay\n  position = 'bottom'\n}: AppDownloadBarProps) {\n  const { language } = useLanguage()\n  const [isVisible, setIsVisible] = useState(false)\n  const [isAnimating, setIsAnimating] = useState(false)\n  const [isMobile, setIsMobile] = useState(false)\n  \n  // ARIA and Focus Management\n  const { announcePolite } = useAriaAnnouncements()\n  const { addFocusClasses } = useFocusIndicator()\n  const barRef = useRef<HTMLDivElement>(null)\n  const downloadButtonRef = useRef<HTMLAnchorElement>(null)\n  const skipButtonRef = useRef<HTMLButtonElement>(null)\n  const closeButtonRef = useRef<HTMLButtonElement>(null)\n\n  const STORAGE_KEY = 'lusotown_app_download_bar_dismissed'\n  const SESSION_KEY = 'lusotown_app_download_shown'\n\n  // Check if user is on mobile device\n  useEffect(() => {\n    const checkMobile = () => {\n      const userAgent = navigator.userAgent.toLowerCase()\n      const isMobileDevice = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(userAgent)\n      const isSmallScreen = window.innerWidth < 768\n      setIsMobile(isMobileDevice || isSmallScreen)\n    }\n\n    checkMobile()\n    window.addEventListener('resize', checkMobile)\n    return () => window.removeEventListener('resize', checkMobile)\n  }, [])\n\n  // Auto-show logic\n  useEffect(() => {\n    if (!autoShow || !isMobile) return\n\n    const isDismissed = localStorage.getItem(STORAGE_KEY)\n    const hasShownInSession = sessionStorage.getItem(SESSION_KEY)\n\n    if (isDismissed || hasShownInSession) return\n\n    const timer = setTimeout(() => {\n      setIsVisible(true)\n      sessionStorage.setItem(SESSION_KEY, 'true')\n      // Announce to screen readers\n      announcePolite(ARIA_MESSAGES.appDownloadBar.shown, true)\n      // Emit event for widget manager\n      window.dispatchEvent(new CustomEvent('appDownloadBarShown'))\n    }, showDelay)\n\n    return () => clearTimeout(timer)\n  }, [autoShow, showDelay, isMobile])\n\n  // Dismiss handlers\n  const handleDismiss = (permanent: boolean = false) => {\n    setIsAnimating(true)\n    \n    // Announce dismissal\n    announcePolite(ARIA_MESSAGES.appDownloadBar.dismissed)\n    \n    setTimeout(() => {\n      setIsVisible(false)\n      setIsAnimating(false)\n      \n      if (permanent) {\n        localStorage.setItem(STORAGE_KEY, 'true')\n      }\n      \n      // Emit custom event for other widgets to reposition\n      window.dispatchEvent(new CustomEvent('appDownloadBarDismissed'))\n    }, 150)\n  }\n\n  const handleSkip = () => {\n    handleDismiss(false) // Temporary dismiss for session only\n  }\n\n  const handleClose = () => {\n    handleDismiss(true) // Permanent dismiss\n  }\n\n  const handleDownloadClick = () => {\n    // Announce download started\n    announcePolite(ARIA_MESSAGES.appDownloadBar.downloadStarted)\n    \n    // Track download attempt\n    if (typeof gtag !== 'undefined') {\n      gtag('event', 'app_download_click', {\n        source: 'bottom_bar',\n        platform: navigator.userAgent.includes('iPhone') ? 'ios' : 'android'\n      })\n    }\n  }\n\n  if (!isVisible || !isMobile) return null\n\n  const isPortuguese = language === 'pt'\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        ref={barRef}\n        initial={{ y: position === 'bottom' ? 100 : -100, opacity: 0 }}\n        animate={{ y: 0, opacity: 1 }}\n        exit={{ y: position === 'bottom' ? 100 : -100, opacity: 0 }}\n        transition={{ \n          type: \"spring\", \n          stiffness: 300, \n          damping: 30,\n          duration: 0.4\n        }}\n        className={`fixed ${position === 'bottom' ? 'bottom-0' : 'top-0'} left-2 right-2 sm:left-4 sm:right-4 max-w-sm sm:max-w-md mx-auto\n          bg-gradient-to-r from-primary-500 to-secondary-500 text-white shadow-2xl rounded-t-2xl \n          ${position === 'bottom' ? 'border-t border-primary-400' : 'border-b border-primary-400 rounded-b-2xl rounded-t-none'}\n          ${className}`}\n        style={{ zIndex: COMPONENT_Z_INDEX.appDownloadBar }}\n        role=\"banner\"\n        aria-labelledby=\"app-download-title\"\n        aria-describedby=\"app-download-description\"\n      >\n        {/* Background Pattern */}\n        <div className=\"absolute inset-0 opacity-10\">\n          <div className=\"absolute top-2 left-4 w-2 h-2 bg-white rounded-full animate-pulse\"></div>\n          <div className=\"absolute bottom-2 right-8 w-1 h-1 bg-white/60 rounded-full animate-pulse\" style={{ animationDelay: '1s' }}></div>\n          <div className=\"absolute top-1/2 left-1/3 w-1 h-1 bg-white/40 rounded-full animate-pulse\" style={{ animationDelay: '2s' }}></div>\n        </div>\n\n        <div className=\"relative z-10 py-3 px-4\">\n          <div className=\"flex items-center justify-between gap-4\">\n            \n            {/* Content Section */}\n            <div className=\"flex items-center gap-3 flex-1 min-w-0\">\n              \n              {/* App Icon */}\n              <div className=\"flex-shrink-0\">\n                <div className=\"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center\">\n                  <DevicePhoneMobileIcon className=\"w-5 h-5 text-white\" />\n                </div>\n              </div>\n\n              {/* Text Content */}\n              <div className=\"flex-1 min-w-0\">\n                <div className=\"flex items-center gap-2 mb-1\">\n                  <SparklesIcon className=\"w-4 h-4 text-white\" aria-hidden=\"true\" />\n                  <span id=\"app-download-title\" className=\"font-bold text-sm\">\n                    {isPortuguese \n                      ? 'App LusoTown Disponível!' \n                      : 'LusoTown App Available!'}\n                  </span>\n                </div>\n                <p id=\"app-download-description\" className=\"text-xs text-white/90 leading-tight\">\n                  {isPortuguese\n                    ? 'Conecte-se com a comunidade lusófona no Reino Unido, descubra eventos culturais e encontre a sua rede. Descarregue agora.'\n                    : 'Connect with the Portuguese-speaking community across the UK, discover cultural events, and build your network. Download now.'}\n                </p>\n              </div>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex items-center gap-2 flex-shrink-0\">\n              \n              {/* Primary Download Button */}\n              <a\n                ref={downloadButtonRef}\n                href={navigator.userAgent.includes('iPhone') || navigator.userAgent.includes('iPad')\n                  ? 'https://apps.apple.com/app/lusotown-london'\n                  : 'https://play.google.com/store/apps/details?id=com.lusotown.london'\n                }\n                className=\"bg-white text-primary-600 px-3 py-2 rounded-lg font-semibold text-xs\n                  hover:bg-white/95 transition-colors shadow-sm flex-shrink-0 min-h-[44px] min-w-[60px] flex items-center justify-center whitespace-nowrap\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                onClick={handleDownloadClick}\n                onFocus={() => {\n                  if (downloadButtonRef.current) {\n                    addFocusClasses(downloadButtonRef.current as HTMLElement, 'button');\n                  }\n                }}\n                onBlur={() => {\n                  if (downloadButtonRef.current) {\n                    (downloadButtonRef.current as HTMLElement).classList.remove('lusotown-button-focus', 'lusotown-focus-smooth');\n                  }\n                }}\n                aria-label={\n                  isPortuguese \n                    ? `Descarregar app LusoTown para ${navigator.userAgent.includes('iPhone') ? 'iOS' : 'Android'}. Abre numa nova janela.`\n                    : `Download LusoTown app for ${navigator.userAgent.includes('iPhone') ? 'iOS' : 'Android'}. Opens in a new window.`\n                }\n              >\n                {isPortuguese ? 'App' : 'Get'}\n              </a>\n\n              {/* Skip Button */}\n              <button\n                ref={skipButtonRef}\n                onClick={handleSkip}\n                className=\"text-white/80 hover:text-white transition-colors px-2 py-1 text-xs\n                  underline underline-offset-2 flex-shrink-0 min-h-[44px] min-w-[44px] flex items-center justify-center whitespace-nowrap\"\n                onFocus={() => {\n                  if (skipButtonRef.current) {\n                    addFocusClasses(skipButtonRef.current, 'button');\n                  }\n                }}\n                onBlur={() => {\n                  if (skipButtonRef.current) {\n                    skipButtonRef.current.classList.remove('lusotown-button-focus', 'lusotown-focus-smooth');\n                  }\n                }}\n                aria-label={\n                  isPortuguese \n                    ? 'Saltar por agora. Banner será mostrado novamente noutra sessão.'\n                    : 'Skip for now. Banner will be shown again in another session.'\n                }\n              >\n                {isPortuguese ? 'Agora não' : 'Later'}\n              </button>\n\n              {/* Close Button */}\n              <button\n                ref={closeButtonRef}\n                onClick={handleClose}\n                className=\"w-8 h-8 bg-white/20 hover:bg-white/30 rounded-lg flex items-center \n                  justify-center transition-colors flex-shrink-0 ml-1 min-h-[44px] min-w-[44px]\"\n                onFocus={() => {\n                  if (closeButtonRef.current) {\n                    addFocusClasses(closeButtonRef.current, 'button');\n                  }\n                }}\n                onBlur={() => {\n                  if (closeButtonRef.current) {\n                    closeButtonRef.current.classList.remove('lusotown-button-focus', 'lusotown-focus-smooth');\n                  }\n                }}\n                aria-label={\n                  isPortuguese \n                    ? 'Fechar permanentemente. Banner não será mostrado novamente.' \n                    : 'Close permanently. Banner will not be shown again.'\n                }\n              >\n                <XMarkIcon className=\"w-4 h-4 text-white\" aria-hidden=\"true\" />\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Portuguese Heritage Accent */}\n        <div className=\"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-green-400 via-yellow-300 to-red-400\"></div>\n      </motion.div>\n    </AnimatePresence>\n  )\n}\n\n/**\n * Hook to check if App Download Bar is currently visible\n * Other components can use this to adjust their positioning\n */\nexport function useAppDownloadBarVisible(): boolean {\n  const [isVisible, setIsVisible] = useState(false)\n\n  useEffect(() => {\n    const handleDismiss = () => setIsVisible(false)\n    const handleShow = () => setIsVisible(true)\n\n    // Listen for visibility changes\n    window.addEventListener('appDownloadBarDismissed', handleDismiss)\n    window.addEventListener('appDownloadBarShown', handleShow)\n\n    // Check initial state\n    const isDismissed = localStorage.getItem('lusotown_app_download_bar_dismissed')\n    const hasShownInSession = sessionStorage.getItem('lusotown_app_download_shown')\n    setIsVisible(!isDismissed && hasShownInSession === 'true')\n\n    return () => {\n      window.removeEventListener('appDownloadBarDismissed', handleDismiss)\n      window.removeEventListener('appDownloadBarShown', handleShow)\n    }\n  }, [])\n\n  return isVisible\n}"],"names":["AppDownloadBar","useAppDownloadBarVisible","className","autoShow","showDelay","position","language","useLanguage","isVisible","setIsVisible","useState","isAnimating","setIsAnimating","isMobile","setIsMobile","announcePolite","useAriaAnnouncements","addFocusClasses","useFocusIndicator","barRef","useRef","downloadButtonRef","skipButtonRef","closeButtonRef","STORAGE_KEY","SESSION_KEY","useEffect","checkMobile","userAgent","navigator","toLowerCase","isMobileDevice","test","isSmallScreen","window","innerWidth","addEventListener","removeEventListener","isDismissed","localStorage","getItem","hasShownInSession","sessionStorage","timer","setTimeout","setItem","ARIA_MESSAGES","appDownloadBar","shown","dispatchEvent","CustomEvent","clearTimeout","handleDismiss","permanent","dismissed","handleSkip","handleClose","handleDownloadClick","downloadStarted","gtag","source","platform","includes","isPortuguese","AnimatePresence","motion","div","ref","initial","y","opacity","animate","exit","transition","type","stiffness","damping","duration","style","zIndex","COMPONENT_Z_INDEX","role","aria-labelledby","aria-describedby","animationDelay","DevicePhoneMobileIcon","SparklesIcon","aria-hidden","span","id","p","a","href","target","rel","onClick","onFocus","current","onBlur","classList","remove","aria-label","button","XMarkIcon","handleShow"],"mappings":"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"}