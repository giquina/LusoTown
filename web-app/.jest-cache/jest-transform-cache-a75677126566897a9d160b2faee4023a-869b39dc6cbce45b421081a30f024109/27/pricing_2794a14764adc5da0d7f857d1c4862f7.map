{"version":3,"sources":["/workspaces/LusoTown/web-app/src/config/pricing.ts"],"sourcesContent":["/**\n * Centralized Pricing Configuration and Helpers\n * \n * All pricing, currency, and payment-related constants and utilities\n * to eliminate hardcoded price strings throughout the application.\n * \n * Environment variables support for dynamic pricing:\n * - NEXT_PUBLIC_COMMUNITY_PRICE_MONTHLY\n * - NEXT_PUBLIC_AMBASSADOR_PRICE_MONTHLY\n * - NEXT_PUBLIC_STUDENT_DISCOUNT_RATE\n * - NEXT_PUBLIC_ANNUAL_DISCOUNT_RATE\n */\n\nexport type Currency = \"GBP\" | \"EUR\" | \"USD\" | \"BRL\";\n\nexport const CURRENCIES = {\n  GBP: { symbol: \"£\", code: \"GBP\", name: \"British Pound\", locale: \"en-GB\" },\n  EUR: { symbol: \"€\", code: \"EUR\", name: \"Euro\", locale: \"de-DE\" },\n  USD: { symbol: \"$\", code: \"USD\", name: \"US Dollar\", locale: \"en-US\" },\n  BRL: { symbol: \"R$\", code: \"BRL\", name: \"Brazilian Real\", locale: \"pt-BR\" }\n} as const;\n\nexport const currency: Currency = \"GBP\";\nexport const currencySymbol = \"£\";\n\n// Environment variable overrides for dynamic pricing\nconst getEnvPrice = (key: string, defaultValue: number): number => {\n  if (typeof window !== 'undefined') {\n    const envValue = process.env[`NEXT_PUBLIC_${key}`];\n    return envValue ? parseFloat(envValue) : defaultValue;\n  }\n  return defaultValue;\n};\n\n// Portuguese-speaking community Optimized Subscription Plans\nexport const SUBSCRIPTION_PLANS = {\n  free: {\n    id: 'free',\n    monthly: 0,\n    annual: 0,\n    monthlyStripe: 0, // in pence for Stripe\n    annualStripe: 0, // in pence for Stripe\n    labelEn: \"Free\",\n    labelPt: \"Grátis\",\n    culturalValueEn: \"Explore Community\",\n    culturalValuePt: \"Explorar Comunidade\",\n    features: {\n      matches: 2, // Optimized for conversion - limited but useful\n      messages: 3, // Strategic limitation encouraging upgrade\n      events: true,\n      basicSupport: true,\n      culturalEvents: 2, // Monthly cultural events\n      businessDirectory: false\n    },\n    limitations: {\n      noPortugueseBusinessDiscount: true,\n      noPremiumCulturalEvents: true,\n      noFamilyPlans: true,\n      noPersonalConcierge: true\n    }\n  },\n  community: {\n    id: 'community',\n    monthly: getEnvPrice('COMMUNITY_PRICE_MONTHLY', 15.99), // Optimized for Portuguese-speaking community affordability\n    annual: getEnvPrice('COMMUNITY_PRICE_ANNUAL', 159.99), // ~17% discount\n    monthlyStripe: 1599, // in pence for Stripe\n    annualStripe: 15999, // in pence for Stripe\n    labelEn: \"Community Member\",\n    labelPt: \"Membro da Comunidade\",\n    culturalValueEn: \"Full Cultural Access\",\n    culturalValuePt: \"Acesso Cultural Completo\",\n    features: {\n      matches: -1, // unlimited\n      messages: -1, // unlimited\n      events: true,\n      prioritySupport: true,\n      networking: true,\n      culturalEvents: -1, // Unlimited community cultural events\n      businessDirectory: true,\n      portugueseBusinessDiscount: 10, // 10% at Portuguese businesses\n      monthlyNewsletter: true,\n      familySupport: 4, // Up to 4 family members\n      culturalResources: true // Lusophone learning resources\n    },\n    portugalSpecific: {\n      fadoNightsPriority: true,\n      portugueseRestaurantNetwork: true,\n      culturalFestivalAccess: true,\n      languageLearningResources: true\n    }\n  },\n  ambassador: {\n    id: 'ambassador',\n    monthly: getEnvPrice('AMBASSADOR_PRICE_MONTHLY', 29.99), // Premium but accessible for community leaders\n    annual: getEnvPrice('AMBASSADOR_PRICE_ANNUAL', 299.99), // ~17% discount\n    monthlyStripe: 2999, // in pence for Stripe\n    annualStripe: 29999, // in pence for Stripe\n    labelEn: \"Cultural Ambassador\",\n    labelPt: \"Embaixador Cultural\",\n    culturalValueEn: \"Community Leadership\",\n    culturalValuePt: \"Liderança Comunitária\",\n    features: {\n      matches: -1, // unlimited\n      messages: -1, // unlimited\n      events: true,\n      prioritySupport: true,\n      networking: true,\n      premiumEvents: true,\n      eventHosting: true,\n      businessDirectory: true,\n      culturalEvents: -1, // Unlimited including premium events\n      portugueseBusinessDiscount: 20, // 20% at Portuguese businesses\n      monthlyNewsletter: true,\n      familySupport: 4,\n      culturalResources: true,\n      personalConcierge: true, // Personal cultural concierge\n      monthlyPortugueseCulturalBox: true, // Wine/specialty products\n      vipNetworkingEvents: true,\n      culturalAmbassadorBadge: true\n    },\n    portugalSpecific: {\n      fadoNightsPriority: true,\n      portugueseRestaurantNetwork: true,\n      culturalFestivalAccess: true,\n      languageLearningResources: true,\n      exclusivePortugueseBusinessEvents: true,\n      culturalPreservationProjects: true,\n      communityLeadershipOpportunities: true,\n      monthlyPortugueseWineDelivery: true\n    }\n  },\n  familia: {\n    id: 'familia',\n    monthly: getEnvPrice('FAMILIA_PRICE_MONTHLY', 39.99), // Family-focused pricing\n    annual: getEnvPrice('FAMILIA_PRICE_ANNUAL', 399.99), // ~17% discount\n    monthlyStripe: 3999, // in pence for Stripe\n    annualStripe: 39999, // in pence for Stripe\n    labelEn: \"Família (Family)\",\n    labelPt: \"Família\",\n    culturalValueEn: \"Multi-Generational Connection\",\n    culturalValuePt: \"Ligação Multi-Geracional\",\n    features: {\n      matches: -1, // unlimited for all family members\n      messages: -1, // unlimited for all family members\n      events: true,\n      prioritySupport: true,\n      networking: true,\n      premiumEvents: true,\n      eventHosting: true,\n      businessDirectory: true,\n      culturalEvents: -1,\n      portugueseBusinessDiscount: 15, // 15% family discount\n      monthlyNewsletter: true,\n      familySupport: 8, // Up to 8 family members\n      culturalResources: true,\n      familyEventPriority: true,\n      childrenPortugueseClasses: true, // Children's Lusophone classes\n      familyNetworking: true // Family playdate coordination\n    },\n    portugalSpecific: {\n      fadoNightsPriority: true,\n      portugueseRestaurantNetwork: true,\n      culturalFestivalAccess: true,\n      languageLearningResources: true,\n      familyPortugueseEducation: true,\n      culturalHeritagePreservation: true,\n      grandparentInclusionPrograms: true,\n      familyTraditionalCelebrations: true\n    }\n  }\n} as const;\n\n// Lusophone Community Premium Benefits\nexport const PORTUGUESE_PREMIUM_BENEFITS = {\n  cultural: {\n    fadoNightsAccess: {\n      name: \"Fado Nights Access\",\n      namePt: \"Acesso a Noites de Fado\",\n      description: \"Priority booking for authentic Fado performances\",\n      descriptionPt: \"Reserva prioritária para espetáculos de Fado autênticos\",\n      tier: 'community'\n    },\n    portugueseRestaurantNetwork: {\n      name: \"Lusophone Restaurant Network\",\n      namePt: \"Rede de Restaurantes Portugueses\",\n      description: \"Exclusive discounts at Portuguese restaurants across the United Kingdom\",\n      descriptionPt: \"Descontos exclusivos em restaurantes portugueses por todo o Reino Unido\",\n      tier: 'community'\n    },\n    culturalFestivalPriority: {\n      name: \"Cultural Festival Priority\",\n      namePt: \"Prioridade em Festivais Culturais\",\n      description: \"VIP access to Santos Populares, Portugal Day celebrations\",\n      descriptionPt: \"Acesso VIP aos Santos Populares, celebrações do Dia de Portugal\",\n      tier: 'ambassador'\n    },\n    monthlyPortugueseWineBox: {\n      name: \"Monthly Lusophone Wine Delivery\",\n      namePt: \"Entrega Mensal de Vinhos Portugueses\",\n      description: \"Curated Portuguese wines and specialty products delivered monthly\",\n      descriptionPt: \"Vinhos portugueses selecionados e produtos especiais entregues mensalmente\",\n      tier: 'ambassador'\n    }\n  },\n  family: {\n    childrenPortugueseClasses: {\n      name: \"Children's Lusophone Classes\",\n      namePt: \"Aulas de Português para Crianças\",\n      description: \"Weekly Portuguese language and culture classes for children\",\n      descriptionPt: \"Aulas semanais de língua e cultura portuguesa para crianças\",\n      tier: 'familia'\n    },\n    familyPlaydateNetwork: {\n      name: \"Family Playdate Network\",\n      namePt: \"Rede de Encontros Familiares\",\n      description: \"Connect families for Lusophone cultural playdates\",\n      descriptionPt: \"Conectar famílias para encontros culturais portugueses\",\n      tier: 'familia'\n    },\n    grandparentInclusion: {\n      name: \"Grandparent Inclusion Programs\",\n      namePt: \"Programas de Inclusão de Avós\",\n      description: \"Senior-friendly Lusophone cultural activities and support\",\n      descriptionPt: \"Atividades culturais portuguesas e apoio adaptado para seniores\",\n      tier: 'familia'\n    }\n  },\n  business: {\n    portugueseNetworking: {\n      name: \"Lusophone Business Networking\",\n      namePt: \"Networking de Negócios Portugueses\",\n      description: \"Exclusive networking events for Lusophone entrepreneurs\",\n      descriptionPt: \"Eventos exclusivos de networking para empreendedores portugueses\",\n      tier: 'ambassador'\n    },\n    businessDiscountNetwork: {\n      name: \"Business Discount Network\",\n      namePt: \"Rede de Descontos Empresariais\",\n      description: \"Discounts at Lusophone-owned businesses nationwide\",\n      descriptionPt: \"Descontos em empresas de proprietários portugueses em todo o país\",\n      tier: 'community'\n    }\n  }\n} as const;\n\n// Revenue Optimization Strategies\nexport const REVENUE_OPTIMIZATION = {\n  conversionTactics: {\n    trialPeriods: {\n      community: 14, // 14-day free trial for Community\n      ambassador: 7, // 7-day trial for Ambassador\n      familia: 21 // 21-day trial for Family plans\n    },\n    urgencyTriggers: {\n      limitedTimeOffers: true,\n      eventBasedUpgrades: true, // Upgrade prompts during popular events\n      culturalMomentMarketing: true // Santos Populares, Portugal Day offers\n    },\n    psychologicalPricing: {\n      anchoring: true, // Show higher tier first\n      bundlePerception: true, // Family value perception\n      socialProof: true // \"Join Portuguese speakers\"\n    }\n  },\n  retentionStrategies: {\n    culturalMilestones: {\n      onboardingCultural: 3, // 3 cultural events in first month\n      communityIntegration: 30, // 30 days to first meaningful connection\n      valueRealization: 60 // 60 days to experience key benefits\n    },\n    engagementHooks: {\n      monthlyNewsletterValue: true,\n      exclusiveEventInvitations: true,\n      culturalCalendarHighlights: true,\n      memberSpotlights: true\n    },\n    winBackCampaigns: {\n      pauseOptions: true, // Temporary pause vs cancellation\n      culturalEventReminders: true,\n      communityMissedYouMessages: true,\n      discountedReactivation: 0.5 // 50% off first month back\n    }\n  },\n  pricingOptimization: {\n    annualDiscountIncentive: 0.20, // 20% annual discount (roughly 2 months free)\n    familyPlanEfficiency: 0.60, // Family plans cost 60% of individual rates per person\n    studentDiscountRate: 0.50, // 50% discount for verified students\n    seniorDiscountRate: 0.30, // 30% discount for 65+ community members\n    culturalEventBundling: true // Event tickets bundled with membership upgrades\n  }\n} as const;\n\n// Lusophone Community Payment Preferences\nexport const PAYMENT_PREFERENCES = {\n  preferredMethods: {\n    bankTransfer: 0.45, // 45% prefer bank transfer (traditional Lusophone banking)\n    creditCard: 0.35, // 35% credit/debit cards\n    paypal: 0.15, // 15% PayPal\n    other: 0.05 // 5% other methods\n  },\n  billingCycles: {\n    monthly: {\n      preference: 0.60, // 60% prefer monthly for cash flow management\n      culturalReason: \"Lusophone families manage budgets monthly\"\n    },\n    quarterly: {\n      preference: 0.25, // 25% quarterly with discount\n      incentive: 0.10 // 10% discount for quarterly\n    },\n    annual: {\n      preference: 0.15, // 15% annual with significant savings\n      incentive: 0.20 // 20% discount for annual (Lusophone savings culture)\n    }\n  },\n  familyBilling: {\n    householdDecisionMaking: true, // Family decisions involve multiple generations\n    childrenConsideration: true, // Children's activities influence decision\n    groupDiscountExpectation: true // Expect discount for multiple family members\n  }\n} as const;\n\n// Cultural Value Propositions\nexport const CULTURAL_VALUE_PROPOSITIONS = {\n  emotional: {\n    saudadeConnection: {\n      headline: \"Understanding Saudade\",\n      headlinePt: \"Compreender a Saudade\",\n      description: \"Connect with others who understand this uniquely Lusophone emotion\",\n      descriptionPt: \"Conecte-se com outros que compreendem esta emoção unicamente portuguesa\"\n    },\n    culturalPreservation: {\n      headline: \"Preserving Lusophone Heritage\",\n      headlinePt: \"Preservar o Património Português\",\n      description: \"Keep Portuguese traditions alive for future generations in the United Kingdom\",\n      descriptionPt: \"Manter as tradições portuguesas vivas para futuras gerações no Reino Unido\"\n    },\n    homeAwayFromHome: {\n      headline: \"Home Away From Home\",\n      headlinePt: \"Casa Longe de Casa\",\n      description: \"Find your Lusophone family in the United Kingdom\",\n      descriptionPt: \"Encontre a sua família portuguesa no Reino Unido\"\n    }\n  },\n  practical: {\n    businessOpportunities: {\n      headline: \"Lusophone Business Network\",\n      headlinePt: \"Rede de Negócios Portuguesa\",\n      value: \"Access to 200+ Portuguese business owners across the United Kingdom\"\n    },\n    culturalEducation: {\n      headline: \"Authentic Cultural Learning\",\n      headlinePt: \"Aprendizagem Cultural Autêntica\",\n      value: \"Portuguese language classes, cultural workshops, traditional celebrations\"\n    },\n    communitySupport: {\n      headline: \"Newcomer Integration Support\",\n      headlinePt: \"Apoio à Integração de Recém-chegados\",\n      value: \"Mentorship, practical advice, cultural bridge-building\"\n    }\n  }\n} as const;\n\n// Legacy plans for backward compatibility\nexport const plans = {\n  community: SUBSCRIPTION_PLANS.community,\n  ambassador: SUBSCRIPTION_PLANS.ambassador,\n  familia: SUBSCRIPTION_PLANS.familia,\n} as const;\n\n\n// Creator/Events pricing\nexport const creator = {\n  proMonthly: 24.99, // Creator Pro monthly\n  ticketFeePercent: 8, // % per ticket\n  ticketFeeFlat: 0.4, // £ per ticket\n} as const;\n\n// Legacy formatter (deprecated - use enhanced formatPrice below)\nexport const legacyFormatPrice = (amount: number) =>\n  new Intl.NumberFormat(\"en-GB\", { style: \"currency\", currency: \"GBP\" }).format(\n    amount\n  );\n\nexport const planPriceLabel = (\n  plan: keyof typeof plans,\n  locale: \"en\" | \"pt\" = \"en\"\n) => {\n  const p = plans[plan];\n  const label = locale === \"pt\" ? p.labelPt : p.labelEn;\n  return `${label} ${legacyFormatPrice(p.monthly)}/month`;\n};\n\nexport const monthlyPrice = (plan: keyof typeof plans) => plans[plan].monthly;\n\n// New subscription helper functions\nexport const getCommunityMembershipPrice = () => plans.community.monthly;\nexport const getCulturalAmbassadorPrice = () => plans.ambassador.monthly;\n\n// Transport Services Pricing\nexport const TRANSPORT_PRICING = {\n  luxury: {\n    baseRate: 45, // per hour\n    minimumBooking: 2, // hours\n    extraPassenger: 5, // per passenger after 4\n    waitTime: 25, // per hour\n    airportSurcharge: 15\n  },\n  group: {\n    baseRate: 35, // per hour\n    minimumBooking: 3, // hours\n    maxPassengers: 8,\n    extraHour: 30\n  },\n  student: {\n    baseRate: 25, // per hour\n    discount: 0.5, // 50% off regular pricing\n    verificationRequired: true\n  },\n  // Security services\n  security: {\n    basicProtection: 400, // per day\n    enhancedProtection: 800, // per day\n    closeProtection: 65 // per hour\n  },\n  // Premium transport packages\n  packages: {\n    premium4Hours: 320,\n    premium6Hours: 380,\n    premium6HoursPlus: 450,\n    premium8Hours: 520,\n    group4Hours: 280,\n    group8Hours: 580,\n    VIPWeekend: 1480,\n    specialEvent5Hours: 420,\n    airportPickup2Hours: 145,\n    airportTransfer4Hours: 320,\n    eventTransport3Hours: 380\n  }\n} as const;\n\n// Event and Creator Pricing\nexport const EVENT_PRICING = {\n  ticketFeePercent: 8, // % per ticket\n  ticketFeeFlat: 0.4, // £ per ticket\n  minimumTicketFee: 0.5,\n  maximumTicketFee: 25,\n  creatorRevenueSplit: 0.85, // 85% to creator, 15% to platform\n  premiumEventFee: 15 // flat fee for premium event features\n} as const;\n\n// Business Directory Pricing\nexport const BUSINESS_PRICING = {\n  basicListing: 0, // free\n  premiumListing: 29.99, // per month\n  featuredListing: 49.99, // per month\n  verificationFee: 15, // one-time\n  additionalPhotos: 5, // per photo beyond free limit\n  socialMediaBoost: 19.99 // per month\n} as const;\n\n// Streaming Platform Pricing\nexport const STREAMING_PRICING = {\n  creatorMonthly: 24.99,\n  donationFee: 0.03, // 3% platform fee\n  subscriptionFee: 0.05, // 5% platform fee\n  minimumDonation: 1,\n  maximumDonation: 500,\n  creatorRevenueSplit: 0.85 // 85% to creator\n} as const;\n\n// Payment Processing Fees\nexport const PAYMENT_FEES = {\n  stripe: {\n    cardRate: 0.014, // 1.4%\n    cardFee: 0.2, // 20p\n    europeanCardRate: 0.025, // 2.5%\n    paymentIntentFee: 0.2\n  },\n  paypal: {\n    domesticRate: 0.034, // 3.4%\n    internationalRate: 0.044, // 4.4%\n    fixedFee: 0.2\n  }\n} as const;\n\n// Discount and Promotion Constants\nexport const DISCOUNTS = {\n  student: getEnvPrice('STUDENT_DISCOUNT_RATE', 0.5), // 50% off\n  annual: getEnvPrice('ANNUAL_DISCOUNT_RATE', 0.17), // 17% off (2 months free)\n  earlyBird: 0.2, // 20% off for early adopters\n  referral: 0.1, // 10% off for successful referrals\n  groupBooking: 0.15, // 15% off for group bookings (5+ people)\n  portuguese: 0.05 // 5% off for Lusophone cultural events\n} as const;\n\n// Student Pricing (calculated with discount)\n// Student Pricing (calculated with discount - simplified for build stability)\nexport const STUDENT_PRICING = {\n  community: {\n    monthly: 9.99,\n    annual: 99.99,\n    monthlyStripe: 999,\n    annualStripe: 9999\n  },\n  ambassador: {\n    monthly: 19.99,\n    annual: 199.99,\n    monthlyStripe: 1999,\n    annualStripe: 19999\n  }\n} as const;\n\n// Transport Legacy Pricing (for backward compatibility)\nexport const LEGACY_TRANSPORT_PRICING = {\n  annual: getEnvPrice('TRANSPORT_ANNUAL_PRICE', 25), // £25/year\n  studentAnnual: getEnvPrice('TRANSPORT_STUDENT_ANNUAL_PRICE', 12.5), // £12.50/year student rate\n  groupAnnual: 20 // Legacy group pricing\n\n} as const;\n\n// Legacy pricing (deprecated - use LEGACY_TRANSPORT_PRICING)\nexport const membership = {\n  annual: LEGACY_TRANSPORT_PRICING.annual,\n  studentAnnual: LEGACY_TRANSPORT_PRICING.studentAnnual,\n  groupAnnual: LEGACY_TRANSPORT_PRICING.groupAnnual,\n} as const;\n\n\n// Price Display Constants\nexport const PRICE_DISPLAY = {\n  fromLabel: \"From\",\n  fromLabelPt: \"A partir de\",\n  perMonthLabel: \"/month\",\n  perMonthLabelPt: \"/mês\",\n  perYearLabel: \"/year\",\n  perYearLabelPt: \"/ano\",\n  perHourLabel: \"/hour\",\n  perHourLabelPt: \"/hora\",\n  freeLabel: \"Free\",\n  freeLabelPt: \"Grátis\",\n  popularLabel: \"Most Popular\",\n  popularLabelPt: \"Mais Popular\",\n  saveLabel: \"Save\",\n  saveLabelPt: \"Economize\"\n} as const;\n\n// Enhanced formatter with multi-currency support\nexport const formatPrice = (\n  amount: number, \n  currencyCode: Currency = \"GBP\",\n  locale?: string\n) => {\n  const defaultLocale = locale || CURRENCIES[currencyCode].locale;\n  return new Intl.NumberFormat(defaultLocale, { \n    style: \"currency\", \n    currency: currencyCode \n  }).format(amount);\n};\n\nexport const formatPriceRange = (\n  minAmount: number, \n  maxAmount: number, \n  currencyCode: Currency = \"GBP\"\n) => {\n  const min = formatPrice(minAmount, currencyCode);\n  const max = formatPrice(maxAmount, currencyCode);\n  return `${min} - ${max}`;\n};\n\nexport const calculateDiscount = (\n  originalPrice: number, \n  discountType: keyof typeof DISCOUNTS\n): number => {\n  const discountRate = DISCOUNTS[discountType];\n  return originalPrice * (1 - discountRate);\n};\n\nexport const calculateSubscriptionSavings = (monthlyPrice: number): number => {\n  const annualPrice = monthlyPrice * 12;\n  const discountedAnnual = calculateDiscount(annualPrice, 'annual');\n  return annualPrice - discountedAnnual;\n};\n\nexport const getPlanPrice = (\n  planId: keyof typeof SUBSCRIPTION_PLANS, \n  billing: 'monthly' | 'annual' = 'monthly'\n): number => {\n  return SUBSCRIPTION_PLANS[planId][billing];\n};\n\nexport const getPlanLabel = (\n  planId: keyof typeof SUBSCRIPTION_PLANS, \n  locale: 'en' | 'pt' = 'en'\n): string => {\n  const plan = SUBSCRIPTION_PLANS[planId];\n  return locale === 'pt' ? plan.labelPt : plan.labelEn;\n};\n\nexport const getFormattedPlanPrice = (\n  planId: keyof typeof SUBSCRIPTION_PLANS,\n  billing: 'monthly' | 'annual' = 'monthly',\n  locale: 'en' | 'pt' = 'en'\n): string => {\n  const price = getPlanPrice(planId, billing);\n  const formattedPrice = formatPrice(price);\n  \n  if (price === 0) {\n    return locale === 'pt' ? PRICE_DISPLAY.freeLabelPt : PRICE_DISPLAY.freeLabel;\n  }\n  \n  const periodLabel = billing === 'annual' \n    ? (locale === 'pt' ? PRICE_DISPLAY.perYearLabelPt : PRICE_DISPLAY.perYearLabel)\n    : (locale === 'pt' ? PRICE_DISPLAY.perMonthLabelPt : PRICE_DISPLAY.perMonthLabel);\n  \n  return `${formattedPrice}${periodLabel}`;\n};\n\nexport const getTransportQuote = (\n  serviceType: keyof typeof TRANSPORT_PRICING,\n  hours: number,\n  passengers: number = 1\n): number => {\n  const service = TRANSPORT_PRICING[serviceType];\n  const baseRate = service.baseRate;\n  \n  // Handle different service types\n  let minimumHours = 1;\n  if ('minimumBooking' in service) {\n    minimumHours = service.minimumBooking;\n  }\n  \n  const billingHours = Math.max(hours, minimumHours);\n  let totalPrice = baseRate * billingHours;\n  \n  // Add extra passenger fee if applicable\n  if ('extraPassenger' in service && passengers > 4) {\n    totalPrice += (passengers - 4) * service.extraPassenger;\n  }\n  \n  return totalPrice;\n};\n\n// Legacy helpers (deprecated but maintained for compatibility)\nexport const annualMembershipPrice = () => membership.annual;\nexport const studentAnnualPrice = () => membership.studentAnnual;\nexport const groupAnnualPrice = () => membership.groupAnnual;\n\n// Comprehensive Pricing Helpers\nexport const getStudentPrice = (\n  planId: keyof typeof SUBSCRIPTION_PLANS,\n  billing: 'monthly' | 'annual' = 'monthly'\n): number => {\n  return STUDENT_PRICING[planId as keyof typeof STUDENT_PRICING][billing];\n};\n\nexport const getFormattedStudentPrice = (\n  planId: keyof typeof SUBSCRIPTION_PLANS,\n  billing: 'monthly' | 'annual' = 'monthly',\n  locale: 'en' | 'pt' = 'en'\n): string => {\n  const price = getStudentPrice(planId, billing);\n  const formattedPrice = formatPrice(price);\n  \n  if (price === 0) {\n    return locale === 'pt' ? PRICE_DISPLAY.freeLabelPt : PRICE_DISPLAY.freeLabel;\n  }\n  \n  const periodLabel = billing === 'annual' \n    ? (locale === 'pt' ? PRICE_DISPLAY.perYearLabelPt : PRICE_DISPLAY.perYearLabel)\n    : (locale === 'pt' ? PRICE_DISPLAY.perMonthLabelPt : PRICE_DISPLAY.perMonthLabel);\n  \n  return `${formattedPrice}${periodLabel}`;\n};\n\nexport const getPriceForStripe = (\n  planId: keyof typeof SUBSCRIPTION_PLANS,\n  billing: 'monthly' | 'annual' = 'monthly',\n  isStudent: boolean = false\n): number => {\n  if (isStudent) {\n    return STUDENT_PRICING[planId as keyof typeof STUDENT_PRICING][`${billing}Stripe` as const];\n  }\n  return SUBSCRIPTION_PLANS[planId][`${billing}Stripe` as const];\n};\n\nexport const getSavingsAmount = (planId: keyof typeof SUBSCRIPTION_PLANS): number => {\n  const monthly = SUBSCRIPTION_PLANS[planId].monthly * 12;\n  const annual = SUBSCRIPTION_PLANS[planId].annual;\n  return monthly - annual;\n};\n\nexport const getSavingsPercentage = (planId: keyof typeof SUBSCRIPTION_PLANS): number => {\n  const monthly = SUBSCRIPTION_PLANS[planId].monthly * 12;\n  const annual = SUBSCRIPTION_PLANS[planId].annual;\n  return Math.round(((monthly - annual) / monthly) * 100);\n};\n\nexport const getFormattedSavings = (\n  planId: keyof typeof SUBSCRIPTION_PLANS,\n  locale: 'en' | 'pt' = 'en'\n): string => {\n  const percentage = getSavingsPercentage(planId);\n  const saveLabel = locale === 'pt' ? PRICE_DISPLAY.saveLabelPt : PRICE_DISPLAY.saveLabel;\n  return `${saveLabel} ${percentage}%`;\n};\n\n// Price comparison helpers\nexport const comparePrices = (\n  price1: number,\n  price2: number,\n  currencyCode: Currency = \"GBP\"\n): {\n  difference: number;\n  percentageDifference: number;\n  formattedDifference: string;\n  cheaperOption: 'first' | 'second' | 'equal';\n} => {\n  const difference = Math.abs(price1 - price2);\n  const percentageDifference = price1 !== 0 ? Math.round((difference / price1) * 100) : 0;\n  const formattedDifference = formatPrice(difference, currencyCode);\n  \n  let cheaperOption: 'first' | 'second' | 'equal';\n  if (price1 < price2) cheaperOption = 'first';\n  else if (price2 < price1) cheaperOption = 'second';\n  else cheaperOption = 'equal';\n  \n  return {\n    difference,\n    percentageDifference,\n    formattedDifference,\n    cheaperOption\n  };\n};\n\n// Multi-currency conversion helpers (requires exchange rate API)\nexport const convertPrice = (\n  amount: number,\n  fromCurrency: Currency,\n  toCurrency: Currency,\n  exchangeRate?: number\n): number => {\n  if (fromCurrency === toCurrency) return amount;\n  \n  // Placeholder for exchange rate logic\n  // In production, this would use real-time exchange rates\n  const defaultRates: Record<string, number> = {\n    'GBP-EUR': 1.17,\n    'GBP-USD': 1.27,\n    'GBP-BRL': 6.54,\n    'EUR-GBP': 0.85,\n    'USD-GBP': 0.79,\n    'BRL-GBP': 0.15\n  };\n  \n  const rateKey = `${fromCurrency}-${toCurrency}`;\n  const rate = exchangeRate || defaultRates[rateKey] || 1;\n  \n  return amount * rate;\n};\n\n// Validation helpers\nexport const isPriceValid = (price: number): boolean => {\n  return typeof price === 'number' && price >= 0 && Number.isFinite(price);\n};\n\nexport const validateSubscriptionTier = (tier: string): tier is keyof typeof SUBSCRIPTION_PLANS => {\n  return tier in SUBSCRIPTION_PLANS;\n};\n\nexport const validateCurrency = (currency: string): currency is Currency => {\n  return currency in CURRENCIES;\n};\n\n// Tours and Events Pricing\nexport const TOURS_PRICING = {\n  // Women-focused events\n  womenNetworking: {\n    wine30Plus: 85,\n    professional40Plus: 165\n  },\n  \n  // Professional development\n  professional: {\n    websiteCreation: 125,\n    businessNetworking: 165\n  },\n  \n  // Cultural experiences\n  cultural: {\n    languageExchange: 75,\n    fadoNight: 95,\n    cookingWorkshop: 95\n  },\n  \n  // Tours and experiences  \n  tours: {\n    canterburyHeritage: 145,\n    walkingTour: 35\n  },\n  \n  // Social activities\n  social: {\n    fridayNight: 25,\n    bookClub: 20\n  }\n} as const;\n\n// Extended Events Pricing (from events.ts)\nexport const EVENTS_PRICING = {\n  // Cultural events\n  cultural: {\n    fadoEvening: 45,\n    portugalFestival: 55,\n    traditionalDinner: 35,\n    capeVerdeanNight: 30\n  },\n  \n  // Sports and entertainment  \n  sports: {\n    footballViewing: 15,\n    quadradoShow: 25\n  },\n  \n  // Professional and networking\n  professional: {\n    businessNetworking: 25,\n    businessBreakfast: 45,\n    womenNetworking: 38,\n    aiCodingWorkshop: 85\n  },\n  \n  // Premium experiences\n  premium: {\n    royalCulturalTour: 58,\n    luxuryNightOut: 65,\n    photographyExperience: 45,\n    culinaryTour: 52\n  },\n  \n  // Community events\n  community: {\n    languageCafe: 8,\n    carnivalCelebration: 20,\n    freeEvents: 0 // Free events\n  }\n} as const;\n\n// Legacy tours pricing structure for compatibility\nexport const toursPricing = {\n  walkingTours: {\n    standard: TOURS_PRICING.tours.walkingTour,\n    heritage: TOURS_PRICING.tours.canterburyHeritage\n  },\n  womenEvents: {\n    wine30Plus: TOURS_PRICING.womenNetworking.wine30Plus,\n    professional40Plus: TOURS_PRICING.womenNetworking.professional40Plus\n  },\n  professionalEvents: {\n    websiteWorkshop: TOURS_PRICING.professional.websiteCreation,\n    networking: TOURS_PRICING.professional.businessNetworking\n  },\n  culturalEvents: {\n    languageExchange: TOURS_PRICING.cultural.languageExchange,\n    fadoNight: TOURS_PRICING.cultural.fadoNight,\n    cooking: TOURS_PRICING.cultural.cookingWorkshop\n  },\n  socialEvents: {\n    fridayNight: TOURS_PRICING.social.fridayNight,\n    bookClub: TOURS_PRICING.social.bookClub\n  }\n} as const;\n\n// Type definitions\nexport type SubscriptionPlan = keyof typeof SUBSCRIPTION_PLANS;\nexport type TransportService = keyof typeof TRANSPORT_PRICING;\nexport type DiscountType = keyof typeof DISCOUNTS;\nexport type BusinessListingType = keyof typeof BUSINESS_PRICING;\nexport type ToursPricingType = keyof typeof TOURS_PRICING;\n\n// Development helpers and validation\nif (typeof window === 'undefined') {\n  // Server-side validation during build\n  console.log('[Pricing Config] Centralized pricing system loaded successfully');\n  \n  // Validate pricing consistency\n  const communityMonthly = SUBSCRIPTION_PLANS.community.monthly;\n  const ambassadorMonthly = SUBSCRIPTION_PLANS.ambassador.monthly;\n  \n  if (communityMonthly <= 0 || ambassadorMonthly <= communityMonthly) {\n    console.warn('[Pricing Config] Warning: Price hierarchy may be incorrect');\n  }\n  \n  // Validate student pricing\n  const studentCommunity = STUDENT_PRICING.community.monthly;\n  if (studentCommunity >= communityMonthly) {\n    console.warn('[Pricing Config] Warning: Student pricing should be lower than regular pricing');\n  }\n}\n"],"names":["BUSINESS_PRICING","CULTURAL_VALUE_PROPOSITIONS","CURRENCIES","DISCOUNTS","EVENTS_PRICING","EVENT_PRICING","LEGACY_TRANSPORT_PRICING","PAYMENT_FEES","PAYMENT_PREFERENCES","PORTUGUESE_PREMIUM_BENEFITS","PRICE_DISPLAY","REVENUE_OPTIMIZATION","STREAMING_PRICING","STUDENT_PRICING","SUBSCRIPTION_PLANS","TOURS_PRICING","TRANSPORT_PRICING","annualMembershipPrice","calculateDiscount","calculateSubscriptionSavings","comparePrices","convertPrice","creator","currency","currencySymbol","formatPrice","formatPriceRange","getCommunityMembershipPrice","getCulturalAmbassadorPrice","getFormattedPlanPrice","getFormattedSavings","getFormattedStudentPrice","getPlanLabel","getPlanPrice","getPriceForStripe","getSavingsAmount","getSavingsPercentage","getStudentPrice","getTransportQuote","groupAnnualPrice","isPriceValid","legacyFormatPrice","membership","monthlyPrice","planPriceLabel","plans","studentAnnualPrice","toursPricing","validateCurrency","validateSubscriptionTier","GBP","symbol","code","name","locale","EUR","USD","BRL","getEnvPrice","key","defaultValue","window","envValue","process","env","parseFloat","free","id","monthly","annual","monthlyStripe","annualStripe","labelEn","labelPt","culturalValueEn","culturalValuePt","features","matches","messages","events","basicSupport","culturalEvents","businessDirectory","limitations","noPortugueseBusinessDiscount","noPremiumCulturalEvents","noFamilyPlans","noPersonalConcierge","community","prioritySupport","networking","portugueseBusinessDiscount","monthlyNewsletter","familySupport","culturalResources","portugalSpecific","fadoNightsPriority","portugueseRestaurantNetwork","culturalFestivalAccess","languageLearningResources","ambassador","premiumEvents","eventHosting","personalConcierge","monthlyPortugueseCulturalBox","vipNetworkingEvents","culturalAmbassadorBadge","exclusivePortugueseBusinessEvents","culturalPreservationProjects","communityLeadershipOpportunities","monthlyPortugueseWineDelivery","familia","familyEventPriority","childrenPortugueseClasses","familyNetworking","familyPortugueseEducation","culturalHeritagePreservation","grandparentInclusionPrograms","familyTraditionalCelebrations","cultural","fadoNightsAccess","namePt","description","descriptionPt","tier","culturalFestivalPriority","monthlyPortugueseWineBox","family","familyPlaydateNetwork","grandparentInclusion","business","portugueseNetworking","businessDiscountNetwork","conversionTactics","trialPeriods","urgencyTriggers","limitedTimeOffers","eventBasedUpgrades","culturalMomentMarketing","psychologicalPricing","anchoring","bundlePerception","socialProof","retentionStrategies","culturalMilestones","onboardingCultural","communityIntegration","valueRealization","engagementHooks","monthlyNewsletterValue","exclusiveEventInvitations","culturalCalendarHighlights","memberSpotlights","winBackCampaigns","pauseOptions","culturalEventReminders","communityMissedYouMessages","discountedReactivation","pricingOptimization","annualDiscountIncentive","familyPlanEfficiency","studentDiscountRate","seniorDiscountRate","culturalEventBundling","preferredMethods","bankTransfer","creditCard","paypal","other","billingCycles","preference","culturalReason","quarterly","incentive","familyBilling","householdDecisionMaking","childrenConsideration","groupDiscountExpectation","emotional","saudadeConnection","headline","headlinePt","culturalPreservation","homeAwayFromHome","practical","businessOpportunities","value","culturalEducation","communitySupport","proMonthly","ticketFeePercent","ticketFeeFlat","amount","Intl","NumberFormat","style","format","plan","p","label","luxury","baseRate","minimumBooking","extraPassenger","waitTime","airportSurcharge","group","maxPassengers","extraHour","student","discount","verificationRequired","security","basicProtection","enhancedProtection","closeProtection","packages","premium4Hours","premium6Hours","premium6HoursPlus","premium8Hours","group4Hours","group8Hours","VIPWeekend","specialEvent5Hours","airportPickup2Hours","airportTransfer4Hours","eventTransport3Hours","minimumTicketFee","maximumTicketFee","creatorRevenueSplit","premiumEventFee","basicListing","premiumListing","featuredListing","verificationFee","additionalPhotos","socialMediaBoost","creatorMonthly","donationFee","subscriptionFee","minimumDonation","maximumDonation","stripe","cardRate","cardFee","europeanCardRate","paymentIntentFee","domesticRate","internationalRate","fixedFee","earlyBird","referral","groupBooking","portuguese","studentAnnual","groupAnnual","fromLabel","fromLabelPt","perMonthLabel","perMonthLabelPt","perYearLabel","perYearLabelPt","perHourLabel","perHourLabelPt","freeLabel","freeLabelPt","popularLabel","popularLabelPt","saveLabel","saveLabelPt","currencyCode","defaultLocale","minAmount","maxAmount","min","max","originalPrice","discountType","discountRate","annualPrice","discountedAnnual","planId","billing","price","formattedPrice","periodLabel","serviceType","hours","passengers","service","minimumHours","billingHours","Math","totalPrice","isStudent","round","percentage","price1","price2","difference","abs","percentageDifference","formattedDifference","cheaperOption","fromCurrency","toCurrency","exchangeRate","defaultRates","rateKey","rate","Number","isFinite","womenNetworking","wine30Plus","professional40Plus","professional","websiteCreation","businessNetworking","languageExchange","fadoNight","cookingWorkshop","tours","canterburyHeritage","walkingTour","social","fridayNight","bookClub","fadoEvening","portugalFestival","traditionalDinner","capeVerdeanNight","sports","footballViewing","quadradoShow","businessBreakfast","aiCodingWorkshop","premium","royalCulturalTour","luxuryNightOut","photographyExperience","culinaryTour","languageCafe","carnivalCelebration","freeEvents","walkingTours","standard","heritage","womenEvents","professionalEvents","websiteWorkshop","cooking","socialEvents","console","log","communityMonthly","ambassadorMonthly","warn","studentCommunity"],"mappings":"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"}