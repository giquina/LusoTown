36e7c8bf8b73a0f06bf7858e0b6897d6
/**
 * Error Tracking System Tests
 * Tests Portuguese community-specific error tracking functionality
 */ "use strict";
// Mock Sentry
jest.mock("@sentry/nextjs", ()=>({
        withScope: (callback)=>{
            const mockScope = {
                setTag: jest.fn(),
                setContext: jest.fn(),
                setUser: jest.fn(),
                addBreadcrumb: jest.fn(),
                setLevel: jest.fn()
            };
            callback(mockScope);
        },
        captureException: jest.fn(),
        captureMessage: jest.fn(),
        addBreadcrumb: jest.fn(),
        setUser: jest.fn(),
        setContext: jest.fn(),
        setTags: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _errortracker = require("../../src/lib/monitoring/error-tracker");
const _portugueseerrormessages = require("../../src/lib/monitoring/portuguese-error-messages");
const _errormonitoring = require("../../src/config/error-monitoring");
const _errorHandling = require("../../src/lib/errorHandling");
describe("Portuguese Community Error Tracking", ()=>{
    let tracker;
    beforeEach(()=>{
        // Create a fresh tracker instance for each test
        tracker = new _errortracker.ErrorTracker();
        // Mock console methods to avoid test noise
        jest.spyOn(console, "error").mockImplementation(()=>{});
        jest.spyOn(console, "log").mockImplementation(()=>{});
        jest.spyOn(console, "group").mockImplementation(()=>{});
        jest.spyOn(console, "groupEnd").mockImplementation(()=>{});
    });
    afterEach(()=>{
        jest.restoreAllMocks();
    });
    describe("Error Tracker Core Functionality", ()=>{
        it("should track basic errors with Portuguese context", ()=>{
            const testError = {
                message: "Test Portuguese community error",
                type: _errorHandling.ErrorType.CLIENT_ERROR,
                severity: _errormonitoring.ERROR_SEVERITY.HIGH,
                context: "test-context",
                portugueseContext: {
                    language: "pt",
                    culturalFeature: "CULTURAL_CONTENT",
                    mobileDevice: true
                }
            };
            tracker.trackError(testError);
            const summary = tracker.getErrorSummary();
            expect(summary.totalErrors).toBe(1);
            expect(summary.portugueseRelatedErrors).toBe(1);
            expect(summary.errorsByContext["test-context-HIGH"]).toBe(1);
        });
        it("should track Portuguese feature errors correctly", ()=>{
            const businessDirectoryError = new Error("Business directory PostGIS query failed");
            tracker.trackPortugueseFeatureError("BUSINESS_DIRECTORY", businessDirectoryError, {
                searchQuery: "past\xe9is de nata London",
                location: "SW1A",
                userLanguage: "pt"
            });
            const summary = tracker.getErrorSummary();
            expect(summary.totalErrors).toBe(1);
            expect(summary.portugueseRelatedErrors).toBe(1);
        });
        it("should handle performance metrics correctly", ()=>{
            const performanceData = {
                name: "Portuguese Content Load Time",
                value: 2500,
                context: "portuguese-content-loading",
                threshold: 2000 // 2 second threshold
            };
            tracker.trackPerformanceMetric(performanceData);
            // Should trigger error for exceeding threshold
            const summary = tracker.getErrorSummary();
            expect(summary.totalErrors).toBe(1) // Performance issue tracked as error
            ;
        });
        it("should generate unique error IDs", ()=>{
            tracker.trackError({
                message: "Error 1",
                type: _errorHandling.ErrorType.CLIENT_ERROR,
                severity: _errormonitoring.ERROR_SEVERITY.MEDIUM,
                context: "test"
            });
            tracker.trackError({
                message: "Error 2",
                type: _errorHandling.ErrorType.CLIENT_ERROR,
                severity: _errormonitoring.ERROR_SEVERITY.MEDIUM,
                context: "test"
            });
            const summary = tracker.getErrorSummary();
            expect(summary.totalErrors).toBe(2);
        });
    });
    describe("Portuguese Error Messages", ()=>{
        it("should return Portuguese error messages correctly", ()=>{
            const message = (0, _portugueseerrormessages.getErrorMessage)(_errorHandling.ErrorType.AUTHENTICATION, "pt", "userFriendly");
            expect(message).toBe("Sess\xe3o expirada. Por favor, fa\xe7a login novamente.");
        });
        it("should return English error messages correctly", ()=>{
            const message = (0, _portugueseerrormessages.getErrorMessage)(_errorHandling.ErrorType.AUTHENTICATION, "en", "userFriendly");
            expect(message).toBe("Session expired. Please log in again.");
        });
        it("should handle Portuguese feature-specific errors", ()=>{
            const message = (0, _portugueseerrormessages.getErrorMessage)(_errormonitoring.PORTUGUESE_ERROR_CONTEXTS.BUSINESS_DIRECTORY, "pt", "userFriendly");
            expect(message).toBe("O diret\xf3rio de empresas portuguesas est\xe1 temporariamente indispon\xedvel.");
        });
        it("should provide contextual error messages", ()=>{
            const error = new Error("Business directory failed");
            const contextualMessage = (0, _portugueseerrormessages.getContextualErrorMessage)(error, {
                isPortugueseFeature: true,
                language: "pt",
                userAction: _errormonitoring.PORTUGUESE_ERROR_CONTEXTS.BUSINESS_DIRECTORY
            });
            expect(contextualMessage.pt).toBe("O diret\xf3rio de empresas portuguesas est\xe1 temporariamente indispon\xedvel.");
            expect(contextualMessage.en).toBe("Portuguese business directory is temporarily unavailable.");
        });
        it("should handle mobile-specific error messages", ()=>{
            const mobileError = (0, _portugueseerrormessages.getErrorMessage)("OFFLINE", "pt", "userFriendly");
            expect(mobileError).toBe("Est\xe1 atualmente offline. Algumas funcionalidades podem n\xe3o estar dispon\xedveis.");
        });
        it("should fallback to default messages for unknown errors", ()=>{
            const message = (0, _portugueseerrormessages.getErrorMessage)("UNKNOWN_ERROR_TYPE", "pt", "userFriendly");
            expect(message).toBe("Ocorreu um erro inesperado. Tente novamente.");
        });
    });
    describe("Portuguese Cultural Context", ()=>{
        it("should handle cultural content errors", ()=>{
            tracker.trackPortugueseFeatureError("CULTURAL_CONTENT", "Failed to load Portuguese cultural events", {
                eventType: "santos_populares",
                region: "lisboa",
                userPreferences: [
                    "fado",
                    "cuisine"
                ]
            });
            const summary = tracker.getErrorSummary();
            expect(summary.portugueseRelatedErrors).toBe(1);
        });
        it("should handle language switching errors", ()=>{
            tracker.trackPortugueseFeatureError("LANGUAGE_SWITCHING", "Bilingual context failed to update", {
                fromLanguage: "en",
                toLanguage: "pt",
                switchDuration: 1200 // Slow switch
            });
            const summary = tracker.getErrorSummary();
            expect(summary.portugueseRelatedErrors).toBe(1);
        });
        it("should handle character encoding issues", ()=>{
            tracker.trackPortugueseFeatureError("CHARACTER_ENCODING", "Portuguese diacritics not displaying correctly", {
                affectedCharacters: [
                    "\xe7",
                    "\xe3",
                    "\xf5"
                ],
                browserInfo: "Chrome/120.0",
                userAgent: "Mobile Safari"
            });
            const summary = tracker.getErrorSummary();
            expect(summary.portugueseRelatedErrors).toBe(1);
        });
        it("should handle cultural matching errors", ()=>{
            tracker.trackPortugueseFeatureError("CULTURAL_MATCHING", "AI cultural compatibility algorithm timeout", {
                userProfile: "portugal_heritage",
                matchingCriteria: [
                    "saudade_intensity",
                    "cultural_celebrations"
                ],
                timeoutDuration: 6000
            });
            const summary = tracker.getErrorSummary();
            expect(summary.criticalErrors).toBe(1) // Cultural matching is critical
            ;
        });
    });
    describe("Error Severity and Alerting", ()=>{
        it("should classify critical errors correctly", ()=>{
            tracker.trackError({
                message: "Database connection lost",
                type: _errorHandling.ErrorType.SERVER_ERROR,
                severity: _errormonitoring.ERROR_SEVERITY.CRITICAL,
                context: "database-error"
            });
            const summary = tracker.getErrorSummary();
            expect(summary.criticalErrors).toBe(1);
        });
        it("should handle error count thresholds", ()=>{
            // Simulate multiple errors in same context
            for(let i = 0; i < 5; i++){
                tracker.trackError({
                    message: `Portuguese business error ${i}`,
                    type: _errorHandling.ErrorType.CLIENT_ERROR,
                    severity: _errormonitoring.ERROR_SEVERITY.HIGH,
                    context: _errormonitoring.PORTUGUESE_ERROR_CONTEXTS.BUSINESS_DIRECTORY
                });
            }
            const summary = tracker.getErrorSummary();
            expect(summary.portugueseRelatedErrors).toBe(5);
            const contextKey = `${_errormonitoring.PORTUGUESE_ERROR_CONTEXTS.BUSINESS_DIRECTORY}-${_errormonitoring.ERROR_SEVERITY.HIGH}`;
            expect(summary.errorsByContext[contextKey]).toBe(5);
        });
        it("should track mobile user errors separately", ()=>{
            tracker.trackError({
                message: "Touch target too small",
                type: _errorHandling.ErrorType.CLIENT_ERROR,
                severity: _errormonitoring.ERROR_SEVERITY.MEDIUM,
                context: "mobile-ux",
                portugueseContext: {
                    language: "pt",
                    mobileDevice: true,
                    culturalFeature: "BUSINESS_DIRECTORY"
                }
            });
            const summary = tracker.getErrorSummary();
            expect(summary.portugueseRelatedErrors).toBe(1);
        });
    });
    describe("Performance Monitoring", ()=>{
        it("should track Portuguese content loading performance", ()=>{
            const performanceMetric = {
                name: "Cultural Events Load Time",
                value: 1800,
                context: "cultural-content",
                threshold: 2000
            };
            tracker.trackPerformanceMetric(performanceMetric);
            // Should not trigger error for good performance
            const summary = tracker.getErrorSummary();
            expect(summary.totalErrors).toBe(0);
        });
        it("should detect slow language switching", ()=>{
            const slowSwitchMetric = {
                name: "Language Switch Duration",
                value: 800,
                context: "language-switching",
                threshold: 500
            };
            tracker.trackPerformanceMetric(slowSwitchMetric);
            // Should trigger error for slow performance
            const summary = tracker.getErrorSummary();
            expect(summary.totalErrors).toBe(1);
        });
        it("should track business directory response times", ()=>{
            const businessQueryMetric = {
                name: "Business Directory PostGIS Query",
                value: 3200,
                context: "business-directory",
                threshold: 2000
            };
            tracker.trackPerformanceMetric(businessQueryMetric);
            const summary = tracker.getErrorSummary();
            expect(summary.totalErrors).toBe(1) // Performance issue
            ;
        });
    });
    describe("Error Recovery and Retry Logic", ()=>{
        it("should handle retry scenarios", ()=>{
            const originalError = {
                message: "Portuguese event booking failed",
                type: _errorHandling.ErrorType.CLIENT_ERROR,
                severity: _errormonitoring.ERROR_SEVERITY.HIGH,
                context: _errormonitoring.PORTUGUESE_ERROR_CONTEXTS.EVENT_BOOKING
            };
            tracker.trackError(originalError);
            // Simulate retry
            tracker.trackError({
                message: "User retry attempt 1",
                type: _errorHandling.ErrorType.CLIENT_ERROR,
                severity: _errormonitoring.ERROR_SEVERITY.MEDIUM,
                context: "error-recovery",
                metadata: {
                    originalError: originalError.message,
                    retryCount: 1
                }
            });
            const summary = tracker.getErrorSummary();
            expect(summary.totalErrors).toBe(2);
        });
    });
    describe("Integration with Global Error Tracker", ()=>{
        it("should work with global error tracker instance", ()=>{
            // Test the global instance
            _errortracker.errorTracker.trackPortugueseFeatureError("CULTURAL_CONTENT", "Global tracker test", {
                testData: "integration"
            });
            const summary = _errortracker.errorTracker.getErrorSummary();
            expect(summary.totalErrors).toBeGreaterThan(0);
            expect(summary.portugueseRelatedErrors).toBeGreaterThan(0);
        });
    });
});
describe("Error Monitoring Configuration", ()=>{
    it("should have all Portuguese error contexts defined", ()=>{
        const requiredContexts = [
            "CULTURAL_CONTENT",
            "BUSINESS_DIRECTORY",
            "LANGUAGE_SWITCHING",
            "CHARACTER_ENCODING",
            "CULTURAL_MATCHING",
            "EVENT_BOOKING",
            "UNIVERSITY_PARTNERSHIPS"
        ];
        requiredContexts.forEach((context)=>{
            expect(_errormonitoring.PORTUGUESE_ERROR_CONTEXTS[context]).toBeDefined();
        });
    });
    it("should have proper error severity levels", ()=>{
        const severityLevels = [
            "LOW",
            "MEDIUM",
            "HIGH",
            "CRITICAL"
        ];
        severityLevels.forEach((level)=>{
            expect(_errormonitoring.ERROR_SEVERITY[level]).toBeDefined();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi93b3Jrc3BhY2VzL0x1c29Ub3duL3dlYi1hcHAvX190ZXN0c19fL21vbml0b3JpbmcvZXJyb3ItdHJhY2tpbmcudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEVycm9yIFRyYWNraW5nIFN5c3RlbSBUZXN0c1xuICogVGVzdHMgUG9ydHVndWVzZSBjb21tdW5pdHktc3BlY2lmaWMgZXJyb3IgdHJhY2tpbmcgZnVuY3Rpb25hbGl0eVxuICovXG5cbmltcG9ydCB7IGVycm9yVHJhY2tlciwgRXJyb3JUcmFja2VyIH0gZnJvbSAnQC9saWIvbW9uaXRvcmluZy9lcnJvci10cmFja2VyJ1xuaW1wb3J0IHsgZ2V0RXJyb3JNZXNzYWdlLCBnZXRDb250ZXh0dWFsRXJyb3JNZXNzYWdlIH0gZnJvbSAnQC9saWIvbW9uaXRvcmluZy9wb3J0dWd1ZXNlLWVycm9yLW1lc3NhZ2VzJ1xuaW1wb3J0IHsgRVJST1JfU0VWRVJJVFksIFBPUlRVR1VFU0VfRVJST1JfQ09OVEVYVFMgfSBmcm9tICdAL2NvbmZpZy9lcnJvci1tb25pdG9yaW5nJ1xuaW1wb3J0IHsgRXJyb3JUeXBlIH0gZnJvbSAnQC9saWIvZXJyb3JIYW5kbGluZydcblxuLy8gTW9jayBTZW50cnlcbmplc3QubW9jaygnQHNlbnRyeS9uZXh0anMnLCAoKSA9PiAoe1xuICB3aXRoU2NvcGU6IChjYWxsYmFjazogRnVuY3Rpb24pID0+IHtcbiAgICBjb25zdCBtb2NrU2NvcGUgPSB7XG4gICAgICBzZXRUYWc6IGplc3QuZm4oKSxcbiAgICAgIHNldENvbnRleHQ6IGplc3QuZm4oKSxcbiAgICAgIHNldFVzZXI6IGplc3QuZm4oKSxcbiAgICAgIGFkZEJyZWFkY3J1bWI6IGplc3QuZm4oKSxcbiAgICAgIHNldExldmVsOiBqZXN0LmZuKClcbiAgICB9XG4gICAgY2FsbGJhY2sobW9ja1Njb3BlKVxuICB9LFxuICBjYXB0dXJlRXhjZXB0aW9uOiBqZXN0LmZuKCksXG4gIGNhcHR1cmVNZXNzYWdlOiBqZXN0LmZuKCksXG4gIGFkZEJyZWFkY3J1bWI6IGplc3QuZm4oKSxcbiAgc2V0VXNlcjogamVzdC5mbigpLFxuICBzZXRDb250ZXh0OiBqZXN0LmZuKCksXG4gIHNldFRhZ3M6IGplc3QuZm4oKVxufSkpXG5cbmRlc2NyaWJlKCdQb3J0dWd1ZXNlIENvbW11bml0eSBFcnJvciBUcmFja2luZycsICgpID0+IHtcbiAgbGV0IHRyYWNrZXI6IEVycm9yVHJhY2tlclxuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIC8vIENyZWF0ZSBhIGZyZXNoIHRyYWNrZXIgaW5zdGFuY2UgZm9yIGVhY2ggdGVzdFxuICAgIHRyYWNrZXIgPSBuZXcgRXJyb3JUcmFja2VyKClcbiAgICBcbiAgICAvLyBNb2NrIGNvbnNvbGUgbWV0aG9kcyB0byBhdm9pZCB0ZXN0IG5vaXNlXG4gICAgamVzdC5zcHlPbihjb25zb2xlLCAnZXJyb3InKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge30pXG4gICAgamVzdC5zcHlPbihjb25zb2xlLCAnbG9nJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHt9KVxuICAgIGplc3Quc3B5T24oY29uc29sZSwgJ2dyb3VwJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHt9KVxuICAgIGplc3Quc3B5T24oY29uc29sZSwgJ2dyb3VwRW5kJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHt9KVxuICB9KVxuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgamVzdC5yZXN0b3JlQWxsTW9ja3MoKVxuICB9KVxuXG4gIGRlc2NyaWJlKCdFcnJvciBUcmFja2VyIENvcmUgRnVuY3Rpb25hbGl0eScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHRyYWNrIGJhc2ljIGVycm9ycyB3aXRoIFBvcnR1Z3Vlc2UgY29udGV4dCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3RFcnJvciA9IHtcbiAgICAgICAgbWVzc2FnZTogJ1Rlc3QgUG9ydHVndWVzZSBjb21tdW5pdHkgZXJyb3InLFxuICAgICAgICB0eXBlOiBFcnJvclR5cGUuQ0xJRU5UX0VSUk9SLFxuICAgICAgICBzZXZlcml0eTogRVJST1JfU0VWRVJJVFkuSElHSCxcbiAgICAgICAgY29udGV4dDogJ3Rlc3QtY29udGV4dCcsXG4gICAgICAgIHBvcnR1Z3Vlc2VDb250ZXh0OiB7XG4gICAgICAgICAgbGFuZ3VhZ2U6ICdwdCcgYXMgY29uc3QsXG4gICAgICAgICAgY3VsdHVyYWxGZWF0dXJlOiAnQ1VMVFVSQUxfQ09OVEVOVCcgYXMgY29uc3QsXG4gICAgICAgICAgbW9iaWxlRGV2aWNlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdHJhY2tlci50cmFja0Vycm9yKHRlc3RFcnJvcilcbiAgICAgIGNvbnN0IHN1bW1hcnkgPSB0cmFja2VyLmdldEVycm9yU3VtbWFyeSgpXG5cbiAgICAgIGV4cGVjdChzdW1tYXJ5LnRvdGFsRXJyb3JzKS50b0JlKDEpXG4gICAgICBleHBlY3Qoc3VtbWFyeS5wb3J0dWd1ZXNlUmVsYXRlZEVycm9ycykudG9CZSgxKVxuICAgICAgZXhwZWN0KHN1bW1hcnkuZXJyb3JzQnlDb250ZXh0Wyd0ZXN0LWNvbnRleHQtSElHSCddKS50b0JlKDEpXG4gICAgfSlcblxuICAgIGl0KCdzaG91bGQgdHJhY2sgUG9ydHVndWVzZSBmZWF0dXJlIGVycm9ycyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBidXNpbmVzc0RpcmVjdG9yeUVycm9yID0gbmV3IEVycm9yKCdCdXNpbmVzcyBkaXJlY3RvcnkgUG9zdEdJUyBxdWVyeSBmYWlsZWQnKVxuICAgICAgXG4gICAgICB0cmFja2VyLnRyYWNrUG9ydHVndWVzZUZlYXR1cmVFcnJvcihcbiAgICAgICAgJ0JVU0lORVNTX0RJUkVDVE9SWScsXG4gICAgICAgIGJ1c2luZXNzRGlyZWN0b3J5RXJyb3IsXG4gICAgICAgIHtcbiAgICAgICAgICBzZWFyY2hRdWVyeTogJ3Bhc3TDqWlzIGRlIG5hdGEgTG9uZG9uJyxcbiAgICAgICAgICBsb2NhdGlvbjogJ1NXMUEnLFxuICAgICAgICAgIHVzZXJMYW5ndWFnZTogJ3B0J1xuICAgICAgICB9XG4gICAgICApXG5cbiAgICAgIGNvbnN0IHN1bW1hcnkgPSB0cmFja2VyLmdldEVycm9yU3VtbWFyeSgpXG4gICAgICBleHBlY3Qoc3VtbWFyeS50b3RhbEVycm9ycykudG9CZSgxKVxuICAgICAgZXhwZWN0KHN1bW1hcnkucG9ydHVndWVzZVJlbGF0ZWRFcnJvcnMpLnRvQmUoMSlcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcGVyZm9ybWFuY2UgbWV0cmljcyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBwZXJmb3JtYW5jZURhdGEgPSB7XG4gICAgICAgIG5hbWU6ICdQb3J0dWd1ZXNlIENvbnRlbnQgTG9hZCBUaW1lJyxcbiAgICAgICAgdmFsdWU6IDI1MDAsIC8vIDIuNSBzZWNvbmRzXG4gICAgICAgIGNvbnRleHQ6ICdwb3J0dWd1ZXNlLWNvbnRlbnQtbG9hZGluZycsXG4gICAgICAgIHRocmVzaG9sZDogMjAwMCAvLyAyIHNlY29uZCB0aHJlc2hvbGRcbiAgICAgIH1cblxuICAgICAgdHJhY2tlci50cmFja1BlcmZvcm1hbmNlTWV0cmljKHBlcmZvcm1hbmNlRGF0YSlcblxuICAgICAgLy8gU2hvdWxkIHRyaWdnZXIgZXJyb3IgZm9yIGV4Y2VlZGluZyB0aHJlc2hvbGRcbiAgICAgIGNvbnN0IHN1bW1hcnkgPSB0cmFja2VyLmdldEVycm9yU3VtbWFyeSgpXG4gICAgICBleHBlY3Qoc3VtbWFyeS50b3RhbEVycm9ycykudG9CZSgxKSAvLyBQZXJmb3JtYW5jZSBpc3N1ZSB0cmFja2VkIGFzIGVycm9yXG4gICAgfSlcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgdW5pcXVlIGVycm9yIElEcycsICgpID0+IHtcbiAgICAgIHRyYWNrZXIudHJhY2tFcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6ICdFcnJvciAxJyxcbiAgICAgICAgdHlwZTogRXJyb3JUeXBlLkNMSUVOVF9FUlJPUixcbiAgICAgICAgc2V2ZXJpdHk6IEVSUk9SX1NFVkVSSVRZLk1FRElVTSxcbiAgICAgICAgY29udGV4dDogJ3Rlc3QnXG4gICAgICB9KVxuXG4gICAgICB0cmFja2VyLnRyYWNrRXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiAnRXJyb3IgMicsIFxuICAgICAgICB0eXBlOiBFcnJvclR5cGUuQ0xJRU5UX0VSUk9SLFxuICAgICAgICBzZXZlcml0eTogRVJST1JfU0VWRVJJVFkuTUVESVVNLFxuICAgICAgICBjb250ZXh0OiAndGVzdCdcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IHN1bW1hcnkgPSB0cmFja2VyLmdldEVycm9yU3VtbWFyeSgpXG4gICAgICBleHBlY3Qoc3VtbWFyeS50b3RhbEVycm9ycykudG9CZSgyKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ1BvcnR1Z3Vlc2UgRXJyb3IgTWVzc2FnZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gUG9ydHVndWVzZSBlcnJvciBtZXNzYWdlcyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gZ2V0RXJyb3JNZXNzYWdlKFxuICAgICAgICBFcnJvclR5cGUuQVVUSEVOVElDQVRJT04sXG4gICAgICAgICdwdCcsXG4gICAgICAgICd1c2VyRnJpZW5kbHknXG4gICAgICApXG5cbiAgICAgIGV4cGVjdChtZXNzYWdlKS50b0JlKCdTZXNzw6NvIGV4cGlyYWRhLiBQb3IgZmF2b3IsIGZhw6dhIGxvZ2luIG5vdmFtZW50ZS4nKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBFbmdsaXNoIGVycm9yIG1lc3NhZ2VzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBnZXRFcnJvck1lc3NhZ2UoXG4gICAgICAgIEVycm9yVHlwZS5BVVRIRU5USUNBVElPTixcbiAgICAgICAgJ2VuJyxcbiAgICAgICAgJ3VzZXJGcmllbmRseSdcbiAgICAgIClcblxuICAgICAgZXhwZWN0KG1lc3NhZ2UpLnRvQmUoJ1Nlc3Npb24gZXhwaXJlZC4gUGxlYXNlIGxvZyBpbiBhZ2Fpbi4nKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBQb3J0dWd1ZXNlIGZlYXR1cmUtc3BlY2lmaWMgZXJyb3JzJywgKCkgPT4ge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGdldEVycm9yTWVzc2FnZShcbiAgICAgICAgUE9SVFVHVUVTRV9FUlJPUl9DT05URVhUUy5CVVNJTkVTU19ESVJFQ1RPUlksXG4gICAgICAgICdwdCcsXG4gICAgICAgICd1c2VyRnJpZW5kbHknXG4gICAgICApXG5cbiAgICAgIGV4cGVjdChtZXNzYWdlKS50b0JlKCdPIGRpcmV0w7NyaW8gZGUgZW1wcmVzYXMgcG9ydHVndWVzYXMgZXN0w6EgdGVtcG9yYXJpYW1lbnRlIGluZGlzcG9uw612ZWwuJylcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBwcm92aWRlIGNvbnRleHR1YWwgZXJyb3IgbWVzc2FnZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcignQnVzaW5lc3MgZGlyZWN0b3J5IGZhaWxlZCcpXG4gICAgICBjb25zdCBjb250ZXh0dWFsTWVzc2FnZSA9IGdldENvbnRleHR1YWxFcnJvck1lc3NhZ2UoXG4gICAgICAgIGVycm9yLFxuICAgICAgICB7XG4gICAgICAgICAgaXNQb3J0dWd1ZXNlRmVhdHVyZTogdHJ1ZSxcbiAgICAgICAgICBsYW5ndWFnZTogJ3B0JyxcbiAgICAgICAgICB1c2VyQWN0aW9uOiBQT1JUVUdVRVNFX0VSUk9SX0NPTlRFWFRTLkJVU0lORVNTX0RJUkVDVE9SWVxuICAgICAgICB9XG4gICAgICApXG5cbiAgICAgIGV4cGVjdChjb250ZXh0dWFsTWVzc2FnZS5wdCkudG9CZSgnTyBkaXJldMOzcmlvIGRlIGVtcHJlc2FzIHBvcnR1Z3Vlc2FzIGVzdMOhIHRlbXBvcmFyaWFtZW50ZSBpbmRpc3BvbsOtdmVsLicpXG4gICAgICBleHBlY3QoY29udGV4dHVhbE1lc3NhZ2UuZW4pLnRvQmUoJ1BvcnR1Z3Vlc2UgYnVzaW5lc3MgZGlyZWN0b3J5IGlzIHRlbXBvcmFyaWx5IHVuYXZhaWxhYmxlLicpXG4gICAgfSlcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG1vYmlsZS1zcGVjaWZpYyBlcnJvciBtZXNzYWdlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vYmlsZUVycm9yID0gZ2V0RXJyb3JNZXNzYWdlKCdPRkZMSU5FJywgJ3B0JywgJ3VzZXJGcmllbmRseScpXG4gICAgICBleHBlY3QobW9iaWxlRXJyb3IpLnRvQmUoJ0VzdMOhIGF0dWFsbWVudGUgb2ZmbGluZS4gQWxndW1hcyBmdW5jaW9uYWxpZGFkZXMgcG9kZW0gbsOjbyBlc3RhciBkaXNwb27DrXZlaXMuJylcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBmYWxsYmFjayB0byBkZWZhdWx0IG1lc3NhZ2VzIGZvciB1bmtub3duIGVycm9ycycsICgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBnZXRFcnJvck1lc3NhZ2UoXG4gICAgICAgICdVTktOT1dOX0VSUk9SX1RZUEUnIGFzIGFueSxcbiAgICAgICAgJ3B0JyxcbiAgICAgICAgJ3VzZXJGcmllbmRseSdcbiAgICAgIClcblxuICAgICAgZXhwZWN0KG1lc3NhZ2UpLnRvQmUoJ09jb3JyZXUgdW0gZXJybyBpbmVzcGVyYWRvLiBUZW50ZSBub3ZhbWVudGUuJylcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdQb3J0dWd1ZXNlIEN1bHR1cmFsIENvbnRleHQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY3VsdHVyYWwgY29udGVudCBlcnJvcnMnLCAoKSA9PiB7XG4gICAgICB0cmFja2VyLnRyYWNrUG9ydHVndWVzZUZlYXR1cmVFcnJvcihcbiAgICAgICAgJ0NVTFRVUkFMX0NPTlRFTlQnLFxuICAgICAgICAnRmFpbGVkIHRvIGxvYWQgUG9ydHVndWVzZSBjdWx0dXJhbCBldmVudHMnLFxuICAgICAgICB7XG4gICAgICAgICAgZXZlbnRUeXBlOiAnc2FudG9zX3BvcHVsYXJlcycsXG4gICAgICAgICAgcmVnaW9uOiAnbGlzYm9hJyxcbiAgICAgICAgICB1c2VyUHJlZmVyZW5jZXM6IFsnZmFkbycsICdjdWlzaW5lJ11cbiAgICAgICAgfVxuICAgICAgKVxuXG4gICAgICBjb25zdCBzdW1tYXJ5ID0gdHJhY2tlci5nZXRFcnJvclN1bW1hcnkoKVxuICAgICAgZXhwZWN0KHN1bW1hcnkucG9ydHVndWVzZVJlbGF0ZWRFcnJvcnMpLnRvQmUoMSlcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbGFuZ3VhZ2Ugc3dpdGNoaW5nIGVycm9ycycsICgpID0+IHtcbiAgICAgIHRyYWNrZXIudHJhY2tQb3J0dWd1ZXNlRmVhdHVyZUVycm9yKFxuICAgICAgICAnTEFOR1VBR0VfU1dJVENISU5HJyxcbiAgICAgICAgJ0JpbGluZ3VhbCBjb250ZXh0IGZhaWxlZCB0byB1cGRhdGUnLFxuICAgICAgICB7XG4gICAgICAgICAgZnJvbUxhbmd1YWdlOiAnZW4nLFxuICAgICAgICAgIHRvTGFuZ3VhZ2U6ICdwdCcsXG4gICAgICAgICAgc3dpdGNoRHVyYXRpb246IDEyMDAgLy8gU2xvdyBzd2l0Y2hcbiAgICAgICAgfVxuICAgICAgKVxuXG4gICAgICBjb25zdCBzdW1tYXJ5ID0gdHJhY2tlci5nZXRFcnJvclN1bW1hcnkoKVxuICAgICAgZXhwZWN0KHN1bW1hcnkucG9ydHVndWVzZVJlbGF0ZWRFcnJvcnMpLnRvQmUoMSlcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY2hhcmFjdGVyIGVuY29kaW5nIGlzc3VlcycsICgpID0+IHtcbiAgICAgIHRyYWNrZXIudHJhY2tQb3J0dWd1ZXNlRmVhdHVyZUVycm9yKFxuICAgICAgICAnQ0hBUkFDVEVSX0VOQ09ESU5HJyxcbiAgICAgICAgJ1BvcnR1Z3Vlc2UgZGlhY3JpdGljcyBub3QgZGlzcGxheWluZyBjb3JyZWN0bHknLFxuICAgICAgICB7XG4gICAgICAgICAgYWZmZWN0ZWRDaGFyYWN0ZXJzOiBbJ8OnJywgJ8OjJywgJ8O1J10sXG4gICAgICAgICAgYnJvd3NlckluZm86ICdDaHJvbWUvMTIwLjAnLFxuICAgICAgICAgIHVzZXJBZ2VudDogJ01vYmlsZSBTYWZhcmknXG4gICAgICAgIH1cbiAgICAgIClcblxuICAgICAgY29uc3Qgc3VtbWFyeSA9IHRyYWNrZXIuZ2V0RXJyb3JTdW1tYXJ5KClcbiAgICAgIGV4cGVjdChzdW1tYXJ5LnBvcnR1Z3Vlc2VSZWxhdGVkRXJyb3JzKS50b0JlKDEpXG4gICAgfSlcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGN1bHR1cmFsIG1hdGNoaW5nIGVycm9ycycsICgpID0+IHtcbiAgICAgIHRyYWNrZXIudHJhY2tQb3J0dWd1ZXNlRmVhdHVyZUVycm9yKFxuICAgICAgICAnQ1VMVFVSQUxfTUFUQ0hJTkcnLFxuICAgICAgICAnQUkgY3VsdHVyYWwgY29tcGF0aWJpbGl0eSBhbGdvcml0aG0gdGltZW91dCcsXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VyUHJvZmlsZTogJ3BvcnR1Z2FsX2hlcml0YWdlJyxcbiAgICAgICAgICBtYXRjaGluZ0NyaXRlcmlhOiBbJ3NhdWRhZGVfaW50ZW5zaXR5JywgJ2N1bHR1cmFsX2NlbGVicmF0aW9ucyddLFxuICAgICAgICAgIHRpbWVvdXREdXJhdGlvbjogNjAwMFxuICAgICAgICB9XG4gICAgICApXG5cbiAgICAgIGNvbnN0IHN1bW1hcnkgPSB0cmFja2VyLmdldEVycm9yU3VtbWFyeSgpXG4gICAgICBleHBlY3Qoc3VtbWFyeS5jcml0aWNhbEVycm9ycykudG9CZSgxKSAvLyBDdWx0dXJhbCBtYXRjaGluZyBpcyBjcml0aWNhbFxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ0Vycm9yIFNldmVyaXR5IGFuZCBBbGVydGluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNsYXNzaWZ5IGNyaXRpY2FsIGVycm9ycyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICB0cmFja2VyLnRyYWNrRXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiAnRGF0YWJhc2UgY29ubmVjdGlvbiBsb3N0JyxcbiAgICAgICAgdHlwZTogRXJyb3JUeXBlLlNFUlZFUl9FUlJPUixcbiAgICAgICAgc2V2ZXJpdHk6IEVSUk9SX1NFVkVSSVRZLkNSSVRJQ0FMLFxuICAgICAgICBjb250ZXh0OiAnZGF0YWJhc2UtZXJyb3InXG4gICAgICB9KVxuXG4gICAgICBjb25zdCBzdW1tYXJ5ID0gdHJhY2tlci5nZXRFcnJvclN1bW1hcnkoKVxuICAgICAgZXhwZWN0KHN1bW1hcnkuY3JpdGljYWxFcnJvcnMpLnRvQmUoMSlcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZXJyb3IgY291bnQgdGhyZXNob2xkcycsICgpID0+IHtcbiAgICAgIC8vIFNpbXVsYXRlIG11bHRpcGxlIGVycm9ycyBpbiBzYW1lIGNvbnRleHRcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgIHRyYWNrZXIudHJhY2tFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogYFBvcnR1Z3Vlc2UgYnVzaW5lc3MgZXJyb3IgJHtpfWAsXG4gICAgICAgICAgdHlwZTogRXJyb3JUeXBlLkNMSUVOVF9FUlJPUixcbiAgICAgICAgICBzZXZlcml0eTogRVJST1JfU0VWRVJJVFkuSElHSCxcbiAgICAgICAgICBjb250ZXh0OiBQT1JUVUdVRVNFX0VSUk9SX0NPTlRFWFRTLkJVU0lORVNTX0RJUkVDVE9SWVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICBjb25zdCBzdW1tYXJ5ID0gdHJhY2tlci5nZXRFcnJvclN1bW1hcnkoKVxuICAgICAgZXhwZWN0KHN1bW1hcnkucG9ydHVndWVzZVJlbGF0ZWRFcnJvcnMpLnRvQmUoNSlcbiAgICAgIFxuICAgICAgY29uc3QgY29udGV4dEtleSA9IGAke1BPUlRVR1VFU0VfRVJST1JfQ09OVEVYVFMuQlVTSU5FU1NfRElSRUNUT1JZfS0ke0VSUk9SX1NFVkVSSVRZLkhJR0h9YFxuICAgICAgZXhwZWN0KHN1bW1hcnkuZXJyb3JzQnlDb250ZXh0W2NvbnRleHRLZXldKS50b0JlKDUpXG4gICAgfSlcblxuICAgIGl0KCdzaG91bGQgdHJhY2sgbW9iaWxlIHVzZXIgZXJyb3JzIHNlcGFyYXRlbHknLCAoKSA9PiB7XG4gICAgICB0cmFja2VyLnRyYWNrRXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiAnVG91Y2ggdGFyZ2V0IHRvbyBzbWFsbCcsXG4gICAgICAgIHR5cGU6IEVycm9yVHlwZS5DTElFTlRfRVJST1IsXG4gICAgICAgIHNldmVyaXR5OiBFUlJPUl9TRVZFUklUWS5NRURJVU0sXG4gICAgICAgIGNvbnRleHQ6ICdtb2JpbGUtdXgnLFxuICAgICAgICBwb3J0dWd1ZXNlQ29udGV4dDoge1xuICAgICAgICAgIGxhbmd1YWdlOiAncHQnLFxuICAgICAgICAgIG1vYmlsZURldmljZTogdHJ1ZSxcbiAgICAgICAgICBjdWx0dXJhbEZlYXR1cmU6ICdCVVNJTkVTU19ESVJFQ1RPUlknXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IHN1bW1hcnkgPSB0cmFja2VyLmdldEVycm9yU3VtbWFyeSgpXG4gICAgICBleHBlY3Qoc3VtbWFyeS5wb3J0dWd1ZXNlUmVsYXRlZEVycm9ycykudG9CZSgxKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ1BlcmZvcm1hbmNlIE1vbml0b3JpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB0cmFjayBQb3J0dWd1ZXNlIGNvbnRlbnQgbG9hZGluZyBwZXJmb3JtYW5jZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHBlcmZvcm1hbmNlTWV0cmljID0ge1xuICAgICAgICBuYW1lOiAnQ3VsdHVyYWwgRXZlbnRzIExvYWQgVGltZScsXG4gICAgICAgIHZhbHVlOiAxODAwLCAvLyBVbmRlciB0aHJlc2hvbGRcbiAgICAgICAgY29udGV4dDogJ2N1bHR1cmFsLWNvbnRlbnQnLFxuICAgICAgICB0aHJlc2hvbGQ6IDIwMDBcbiAgICAgIH1cblxuICAgICAgdHJhY2tlci50cmFja1BlcmZvcm1hbmNlTWV0cmljKHBlcmZvcm1hbmNlTWV0cmljKVxuICAgICAgXG4gICAgICAvLyBTaG91bGQgbm90IHRyaWdnZXIgZXJyb3IgZm9yIGdvb2QgcGVyZm9ybWFuY2VcbiAgICAgIGNvbnN0IHN1bW1hcnkgPSB0cmFja2VyLmdldEVycm9yU3VtbWFyeSgpXG4gICAgICBleHBlY3Qoc3VtbWFyeS50b3RhbEVycm9ycykudG9CZSgwKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIGRldGVjdCBzbG93IGxhbmd1YWdlIHN3aXRjaGluZycsICgpID0+IHtcbiAgICAgIGNvbnN0IHNsb3dTd2l0Y2hNZXRyaWMgPSB7XG4gICAgICAgIG5hbWU6ICdMYW5ndWFnZSBTd2l0Y2ggRHVyYXRpb24nLFxuICAgICAgICB2YWx1ZTogODAwLCAvLyBBYm92ZSA1MDBtcyB0aHJlc2hvbGRcbiAgICAgICAgY29udGV4dDogJ2xhbmd1YWdlLXN3aXRjaGluZycsXG4gICAgICAgIHRocmVzaG9sZDogNTAwXG4gICAgICB9XG5cbiAgICAgIHRyYWNrZXIudHJhY2tQZXJmb3JtYW5jZU1ldHJpYyhzbG93U3dpdGNoTWV0cmljKVxuICAgICAgXG4gICAgICAvLyBTaG91bGQgdHJpZ2dlciBlcnJvciBmb3Igc2xvdyBwZXJmb3JtYW5jZVxuICAgICAgY29uc3Qgc3VtbWFyeSA9IHRyYWNrZXIuZ2V0RXJyb3JTdW1tYXJ5KClcbiAgICAgIGV4cGVjdChzdW1tYXJ5LnRvdGFsRXJyb3JzKS50b0JlKDEpXG4gICAgfSlcblxuICAgIGl0KCdzaG91bGQgdHJhY2sgYnVzaW5lc3MgZGlyZWN0b3J5IHJlc3BvbnNlIHRpbWVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgYnVzaW5lc3NRdWVyeU1ldHJpYyA9IHtcbiAgICAgICAgbmFtZTogJ0J1c2luZXNzIERpcmVjdG9yeSBQb3N0R0lTIFF1ZXJ5JyxcbiAgICAgICAgdmFsdWU6IDMyMDAsIC8vIFNsb3cgcXVlcnlcbiAgICAgICAgY29udGV4dDogJ2J1c2luZXNzLWRpcmVjdG9yeScsXG4gICAgICAgIHRocmVzaG9sZDogMjAwMFxuICAgICAgfVxuXG4gICAgICB0cmFja2VyLnRyYWNrUGVyZm9ybWFuY2VNZXRyaWMoYnVzaW5lc3NRdWVyeU1ldHJpYylcbiAgICAgIFxuICAgICAgY29uc3Qgc3VtbWFyeSA9IHRyYWNrZXIuZ2V0RXJyb3JTdW1tYXJ5KClcbiAgICAgIGV4cGVjdChzdW1tYXJ5LnRvdGFsRXJyb3JzKS50b0JlKDEpIC8vIFBlcmZvcm1hbmNlIGlzc3VlXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnRXJyb3IgUmVjb3ZlcnkgYW5kIFJldHJ5IExvZ2ljJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIHJldHJ5IHNjZW5hcmlvcycsICgpID0+IHtcbiAgICAgIGNvbnN0IG9yaWdpbmFsRXJyb3IgPSB7XG4gICAgICAgIG1lc3NhZ2U6ICdQb3J0dWd1ZXNlIGV2ZW50IGJvb2tpbmcgZmFpbGVkJyxcbiAgICAgICAgdHlwZTogRXJyb3JUeXBlLkNMSUVOVF9FUlJPUixcbiAgICAgICAgc2V2ZXJpdHk6IEVSUk9SX1NFVkVSSVRZLkhJR0gsXG4gICAgICAgIGNvbnRleHQ6IFBPUlRVR1VFU0VfRVJST1JfQ09OVEVYVFMuRVZFTlRfQk9PS0lOR1xuICAgICAgfVxuXG4gICAgICB0cmFja2VyLnRyYWNrRXJyb3Iob3JpZ2luYWxFcnJvcilcblxuICAgICAgLy8gU2ltdWxhdGUgcmV0cnlcbiAgICAgIHRyYWNrZXIudHJhY2tFcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6ICdVc2VyIHJldHJ5IGF0dGVtcHQgMScsXG4gICAgICAgIHR5cGU6IEVycm9yVHlwZS5DTElFTlRfRVJST1IsXG4gICAgICAgIHNldmVyaXR5OiBFUlJPUl9TRVZFUklUWS5NRURJVU0sXG4gICAgICAgIGNvbnRleHQ6ICdlcnJvci1yZWNvdmVyeScsXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgb3JpZ2luYWxFcnJvcjogb3JpZ2luYWxFcnJvci5tZXNzYWdlLFxuICAgICAgICAgIHJldHJ5Q291bnQ6IDFcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgY29uc3Qgc3VtbWFyeSA9IHRyYWNrZXIuZ2V0RXJyb3JTdW1tYXJ5KClcbiAgICAgIGV4cGVjdChzdW1tYXJ5LnRvdGFsRXJyb3JzKS50b0JlKDIpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnSW50ZWdyYXRpb24gd2l0aCBHbG9iYWwgRXJyb3IgVHJhY2tlcicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHdvcmsgd2l0aCBnbG9iYWwgZXJyb3IgdHJhY2tlciBpbnN0YW5jZScsICgpID0+IHtcbiAgICAgIC8vIFRlc3QgdGhlIGdsb2JhbCBpbnN0YW5jZVxuICAgICAgZXJyb3JUcmFja2VyLnRyYWNrUG9ydHVndWVzZUZlYXR1cmVFcnJvcihcbiAgICAgICAgJ0NVTFRVUkFMX0NPTlRFTlQnLFxuICAgICAgICAnR2xvYmFsIHRyYWNrZXIgdGVzdCcsXG4gICAgICAgIHsgdGVzdERhdGE6ICdpbnRlZ3JhdGlvbicgfVxuICAgICAgKVxuXG4gICAgICBjb25zdCBzdW1tYXJ5ID0gZXJyb3JUcmFja2VyLmdldEVycm9yU3VtbWFyeSgpXG4gICAgICBleHBlY3Qoc3VtbWFyeS50b3RhbEVycm9ycykudG9CZUdyZWF0ZXJUaGFuKDApXG4gICAgICBleHBlY3Qoc3VtbWFyeS5wb3J0dWd1ZXNlUmVsYXRlZEVycm9ycykudG9CZUdyZWF0ZXJUaGFuKDApXG4gICAgfSlcbiAgfSlcbn0pXG5cbmRlc2NyaWJlKCdFcnJvciBNb25pdG9yaW5nIENvbmZpZ3VyYXRpb24nLCAoKSA9PiB7XG4gIGl0KCdzaG91bGQgaGF2ZSBhbGwgUG9ydHVndWVzZSBlcnJvciBjb250ZXh0cyBkZWZpbmVkJywgKCkgPT4ge1xuICAgIGNvbnN0IHJlcXVpcmVkQ29udGV4dHMgPSBbXG4gICAgICAnQ1VMVFVSQUxfQ09OVEVOVCcsXG4gICAgICAnQlVTSU5FU1NfRElSRUNUT1JZJywgXG4gICAgICAnTEFOR1VBR0VfU1dJVENISU5HJyxcbiAgICAgICdDSEFSQUNURVJfRU5DT0RJTkcnLFxuICAgICAgJ0NVTFRVUkFMX01BVENISU5HJyxcbiAgICAgICdFVkVOVF9CT09LSU5HJyxcbiAgICAgICdVTklWRVJTSVRZX1BBUlRORVJTSElQUydcbiAgICBdXG5cbiAgICByZXF1aXJlZENvbnRleHRzLmZvckVhY2goY29udGV4dCA9PiB7XG4gICAgICBleHBlY3QoUE9SVFVHVUVTRV9FUlJPUl9DT05URVhUU1tjb250ZXh0IGFzIGtleW9mIHR5cGVvZiBQT1JUVUdVRVNFX0VSUk9SX0NPTlRFWFRTXSkudG9CZURlZmluZWQoKVxuICAgIH0pXG4gIH0pXG5cbiAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciBlcnJvciBzZXZlcml0eSBsZXZlbHMnLCAoKSA9PiB7XG4gICAgY29uc3Qgc2V2ZXJpdHlMZXZlbHMgPSBbJ0xPVycsICdNRURJVU0nLCAnSElHSCcsICdDUklUSUNBTCddXG4gICAgXG4gICAgc2V2ZXJpdHlMZXZlbHMuZm9yRWFjaChsZXZlbCA9PiB7XG4gICAgICBleHBlY3QoRVJST1JfU0VWRVJJVFlbbGV2ZWwgYXMga2V5b2YgdHlwZW9mIEVSUk9SX1NFVkVSSVRZXSkudG9CZURlZmluZWQoKVxuICAgIH0pXG4gIH0pXG59KSJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsIndpdGhTY29wZSIsImNhbGxiYWNrIiwibW9ja1Njb3BlIiwic2V0VGFnIiwiZm4iLCJzZXRDb250ZXh0Iiwic2V0VXNlciIsImFkZEJyZWFkY3J1bWIiLCJzZXRMZXZlbCIsImNhcHR1cmVFeGNlcHRpb24iLCJjYXB0dXJlTWVzc2FnZSIsInNldFRhZ3MiLCJkZXNjcmliZSIsInRyYWNrZXIiLCJiZWZvcmVFYWNoIiwiRXJyb3JUcmFja2VyIiwic3B5T24iLCJjb25zb2xlIiwibW9ja0ltcGxlbWVudGF0aW9uIiwiYWZ0ZXJFYWNoIiwicmVzdG9yZUFsbE1vY2tzIiwiaXQiLCJ0ZXN0RXJyb3IiLCJtZXNzYWdlIiwidHlwZSIsIkVycm9yVHlwZSIsIkNMSUVOVF9FUlJPUiIsInNldmVyaXR5IiwiRVJST1JfU0VWRVJJVFkiLCJISUdIIiwiY29udGV4dCIsInBvcnR1Z3Vlc2VDb250ZXh0IiwibGFuZ3VhZ2UiLCJjdWx0dXJhbEZlYXR1cmUiLCJtb2JpbGVEZXZpY2UiLCJ0cmFja0Vycm9yIiwic3VtbWFyeSIsImdldEVycm9yU3VtbWFyeSIsImV4cGVjdCIsInRvdGFsRXJyb3JzIiwidG9CZSIsInBvcnR1Z3Vlc2VSZWxhdGVkRXJyb3JzIiwiZXJyb3JzQnlDb250ZXh0IiwiYnVzaW5lc3NEaXJlY3RvcnlFcnJvciIsIkVycm9yIiwidHJhY2tQb3J0dWd1ZXNlRmVhdHVyZUVycm9yIiwic2VhcmNoUXVlcnkiLCJsb2NhdGlvbiIsInVzZXJMYW5ndWFnZSIsInBlcmZvcm1hbmNlRGF0YSIsIm5hbWUiLCJ2YWx1ZSIsInRocmVzaG9sZCIsInRyYWNrUGVyZm9ybWFuY2VNZXRyaWMiLCJNRURJVU0iLCJnZXRFcnJvck1lc3NhZ2UiLCJBVVRIRU5USUNBVElPTiIsIlBPUlRVR1VFU0VfRVJST1JfQ09OVEVYVFMiLCJCVVNJTkVTU19ESVJFQ1RPUlkiLCJlcnJvciIsImNvbnRleHR1YWxNZXNzYWdlIiwiZ2V0Q29udGV4dHVhbEVycm9yTWVzc2FnZSIsImlzUG9ydHVndWVzZUZlYXR1cmUiLCJ1c2VyQWN0aW9uIiwicHQiLCJlbiIsIm1vYmlsZUVycm9yIiwiZXZlbnRUeXBlIiwicmVnaW9uIiwidXNlclByZWZlcmVuY2VzIiwiZnJvbUxhbmd1YWdlIiwidG9MYW5ndWFnZSIsInN3aXRjaER1cmF0aW9uIiwiYWZmZWN0ZWRDaGFyYWN0ZXJzIiwiYnJvd3NlckluZm8iLCJ1c2VyQWdlbnQiLCJ1c2VyUHJvZmlsZSIsIm1hdGNoaW5nQ3JpdGVyaWEiLCJ0aW1lb3V0RHVyYXRpb24iLCJjcml0aWNhbEVycm9ycyIsIlNFUlZFUl9FUlJPUiIsIkNSSVRJQ0FMIiwiaSIsImNvbnRleHRLZXkiLCJwZXJmb3JtYW5jZU1ldHJpYyIsInNsb3dTd2l0Y2hNZXRyaWMiLCJidXNpbmVzc1F1ZXJ5TWV0cmljIiwib3JpZ2luYWxFcnJvciIsIkVWRU5UX0JPT0tJTkciLCJtZXRhZGF0YSIsInJldHJ5Q291bnQiLCJlcnJvclRyYWNrZXIiLCJ0ZXN0RGF0YSIsInRvQmVHcmVhdGVyVGhhbiIsInJlcXVpcmVkQ29udGV4dHMiLCJmb3JFYWNoIiwidG9CZURlZmluZWQiLCJzZXZlcml0eUxldmVscyIsImxldmVsIl0sIm1hcHBpbmdzIjoiQUFBQTs7O0NBR0M7QUFPRCxjQUFjO0FBQ2RBLEtBQUtDLElBQUksQ0FBQyxrQkFBa0IsSUFBTyxDQUFBO1FBQ2pDQyxXQUFXLENBQUNDO1lBQ1YsTUFBTUMsWUFBWTtnQkFDaEJDLFFBQVFMLEtBQUtNLEVBQUU7Z0JBQ2ZDLFlBQVlQLEtBQUtNLEVBQUU7Z0JBQ25CRSxTQUFTUixLQUFLTSxFQUFFO2dCQUNoQkcsZUFBZVQsS0FBS00sRUFBRTtnQkFDdEJJLFVBQVVWLEtBQUtNLEVBQUU7WUFDbkI7WUFDQUgsU0FBU0M7UUFDWDtRQUNBTyxrQkFBa0JYLEtBQUtNLEVBQUU7UUFDekJNLGdCQUFnQlosS0FBS00sRUFBRTtRQUN2QkcsZUFBZVQsS0FBS00sRUFBRTtRQUN0QkUsU0FBU1IsS0FBS00sRUFBRTtRQUNoQkMsWUFBWVAsS0FBS00sRUFBRTtRQUNuQk8sU0FBU2IsS0FBS00sRUFBRTtJQUNsQixDQUFBOzs7OzhCQXZCMkM7eUNBQ2dCO2lDQUNEOytCQUNoQztBQXNCMUJRLFNBQVMsdUNBQXVDO0lBQzlDLElBQUlDO0lBRUpDLFdBQVc7UUFDVCxnREFBZ0Q7UUFDaERELFVBQVUsSUFBSUUsMEJBQVk7UUFFMUIsMkNBQTJDO1FBQzNDakIsS0FBS2tCLEtBQUssQ0FBQ0MsU0FBUyxTQUFTQyxrQkFBa0IsQ0FBQyxLQUFPO1FBQ3ZEcEIsS0FBS2tCLEtBQUssQ0FBQ0MsU0FBUyxPQUFPQyxrQkFBa0IsQ0FBQyxLQUFPO1FBQ3JEcEIsS0FBS2tCLEtBQUssQ0FBQ0MsU0FB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