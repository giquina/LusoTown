4009afc6aa6f5f5f0ca02d8bc5fad0d1
/**
 * Comprehensive error handling utilities for LusoTown platform
 * Provides secure error handling, logging, and user-friendly error messages
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    ErrorType: function() {
        return ErrorType;
    },
    LusoTownError: function() {
        return LusoTownError;
    },
    default: function() {
        return _default;
    },
    inputValidation: function() {
        return inputValidation;
    },
    safeAsync: function() {
        return safeAsync;
    },
    safeDOMOperations: function() {
        return safeDOMOperations;
    },
    safeFetch: function() {
        return safeFetch;
    },
    safeLocalStorage: function() {
        return safeLocalStorage;
    },
    withErrorHandling: function() {
        return withErrorHandling;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _reacthottoast = require("react-hot-toast");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
var ErrorType;
(function(ErrorType) {
    ErrorType["AUTHENTICATION"] = "authentication";
    ErrorType["AUTHORIZATION"] = "authorization";
    ErrorType["NETWORK"] = "network";
    ErrorType["VALIDATION"] = "validation";
    ErrorType["NOT_FOUND"] = "not_found";
    ErrorType["SERVER_ERROR"] = "server_error";
    ErrorType["CLIENT_ERROR"] = "client_error";
    ErrorType["UNKNOWN"] = "unknown";
})(ErrorType || (ErrorType = {}));
class LusoTownError extends Error {
    constructor(message, type = "unknown", code, context, userMessage){
        super(message);
        this.name = "LusoTownError";
        this.type = type;
        this.code = code;
        this.context = context;
        this.userMessage = userMessage;
        this.timestamp = new Date();
    }
}
async function safeAsync(operation, errorContext) {
    try {
        const data = await operation();
        return {
            data,
            success: true
        };
    } catch (error) {
        console.error(`Error in ${errorContext?.operationName || "async operation"}:`, error);
        const lusoError = error instanceof LusoTownError ? error : new LusoTownError(error instanceof Error ? error.message : "Unknown error occurred", categorizeError(error), undefined, {
            originalError: error,
            operation: errorContext?.operationName
        });
        // Show user-friendly toast if requested
        if (errorContext?.showToast) {
            const userMessage = lusoError.userMessage || getErrorMessage(lusoError.type);
            _reacthottoast.toast.error(userMessage);
        }
        // Call custom error handler if provided
        if (errorContext?.onError) {
            errorContext.onError(lusoError);
        }
        // Log to error tracking service in production
        if (process.env.NODE_ENV === "production") {
            logError(lusoError, errorContext);
        }
        return {
            error: lusoError,
            success: false,
            data: errorContext?.fallbackValue
        };
    }
}
// Categorize errors based on type and message
function categorizeError(error) {
    if (!error) return "unknown";
    const message = error.message?.toLowerCase() || "";
    const status = error.status || error.statusCode;
    // HTTP status codes
    if (status === 401) return "authentication";
    if (status === 403) return "authorization";
    if (status === 404) return "not_found";
    if (status >= 400 && status < 500) return "client_error";
    if (status >= 500) return "server_error";
    // Network errors
    if (message.includes("network") || message.includes("fetch") || message.includes("connection")) {
        return "network";
    }
    // Authentication errors
    if (message.includes("unauthorized") || message.includes("login") || message.includes("token")) {
        return "authentication";
    }
    // Validation errors
    if (message.includes("validation") || message.includes("invalid") || message.includes("required")) {
        return "validation";
    }
    return "unknown";
}
// Get user-friendly error messages
function getErrorMessage(type) {
    const messages = {
        ["authentication"]: "Sess\xe3o expirada. Por favor, fa\xe7a login novamente.",
        ["authorization"]: "N\xe3o tem permiss\xe3o para realizar esta a\xe7\xe3o.",
        ["network"]: "Problema de conex\xe3o. Verifique sua internet e tente novamente.",
        ["validation"]: "Dados inv\xe1lidos. Verifique as informa\xe7\xf5es e tente novamente.",
        ["not_found"]: "Recurso n\xe3o encontrado.",
        ["server_error"]: "Erro do servidor. Tente novamente em alguns minutos.",
        ["client_error"]: "Erro na solicita\xe7\xe3o. Verifique os dados e tente novamente.",
        ["unknown"]: "Ocorreu um erro inesperado. Tente novamente."
    };
    return messages[type] || messages["unknown"];
}
// Log error to external service in production
function logError(error, context) {
    // In production, this would send to your error tracking service
    // For now, we'll just structure the error for logging
    const errorReport = {
        message: error.message,
        type: error.type,
        code: error.code,
        stack: error.stack,
        timestamp: error.timestamp,
        context: error.context,
        operationContext: context,
        userAgent: typeof window !== "undefined" ? window.navigator.userAgent : undefined,
        url: typeof window !== "undefined" ? window.location.href : undefined
    };
    console.error("Production Error Report:", errorReport);
}
const safeLocalStorage = {
    getItem: (key)=>{
        try {
            return localStorage.getItem(key);
        } catch (error) {
            console.error("Error reading from localStorage:", error);
            return null;
        }
    },
    setItem: (key, value)=>{
        try {
            localStorage.setItem(key, value);
            return true;
        } catch (error) {
            console.error("Error writing to localStorage:", error);
            return false;
        }
    },
    removeItem: (key)=>{
        try {
            localStorage.removeItem(key);
            return true;
        } catch (error) {
            console.error("Error removing from localStorage:", error);
            return false;
        }
    },
    getJSON: (key)=>{
        try {
            const item = localStorage.getItem(key);
            return item ? JSON.parse(item) : null;
        } catch (error) {
            console.error("Error parsing JSON from localStorage:", error);
            return null;
        }
    },
    setJSON: (key, value)=>{
        try {
            localStorage.setItem(key, JSON.stringify(value));
            return true;
        } catch (error) {
            console.error("Error storing JSON to localStorage:", error);
            return false;
        }
    }
};
const safeDOMOperations = {
    querySelector: (selector)=>{
        try {
            return document.querySelector(selector);
        } catch (error) {
            console.error("Error with querySelector:", error);
            return null;
        }
    },
    getElementById: (id)=>{
        try {
            return document.getElementById(id);
        } catch (error) {
            console.error("Error with getElementById:", error);
            return null;
        }
    },
    addEventListener: (element, event, handler, options)=>{
        try {
            element.addEventListener(event, handler, options);
            return true;
        } catch (error) {
            console.error("Error adding event listener:", error);
            return false;
        }
    },
    removeEventListener: (element, event, handler, options)=>{
        try {
            element.removeEventListener(event, handler, options);
            return true;
        } catch (error) {
            console.error("Error removing event listener:", error);
            return false;
        }
    }
};
const inputValidation = {
    email: (email)=>{
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email);
    },
    sanitizeString: (input)=>{
        // Basic XSS prevention - remove potentially dangerous characters
        return input.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, "").replace(/<iframe\b[^<]*(?:(?!<\/iframe>)<[^<]*)*<\/iframe>/gi, "").replace(/javascript:/gi, "").replace(/on\w+\s*=\s*"[^"]*"/gi, "").replace(/on\w+\s*=\s*'[^']*'/gi, "");
    },
    isValidLength: (input, min = 0, max = Infinity)=>{
        return input.length >= min && input.length <= max;
    },
    containsOnlyAllowedChars: (input, allowedChars)=>{
        return allowedChars.test(input);
    }
};
async function safeFetch(url, options, errorContext) {
    const maxRetries = errorContext?.retries ?? 0;
    let attempt = 0;
    while(attempt <= maxRetries){
        const result = await safeAsync(()=>fetch(url, options), {
            operationName: errorContext?.operationName || `fetch ${url}`,
            showToast: errorContext?.showToast && attempt === maxRetries // Only show toast on last attempt
        });
        if (result.success) {
            return result;
        }
        attempt++;
        if (attempt <= maxRetries) {
            // Wait before retrying (exponential backoff)
            await new Promise((resolve)=>setTimeout(resolve, Math.pow(2, attempt) * 1000));
        }
    }
    return {
        error: new LusoTownError("Network request failed after retries", "network"),
        success: false
    };
}
function withErrorHandling(Component, errorContext) {
    return function WrappedComponent(props) {
        try {
            return /*#__PURE__*/ (0, _jsxruntime.jsx)(Component, {
                ...props
            });
        } catch (error) {
            console.error(`Error in component ${errorContext?.componentName || "Unknown"}:`, error);
            if (errorContext?.fallbackRender) {
                return errorContext.fallbackRender(error);
            }
            return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "p-4 bg-red-50 border border-red-200 rounded-lg",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                    className: "text-red-800 text-sm",
                    children: [
                        "Erro ao carregar componente",
                        errorContext?.componentName ? ` ${errorContext.componentName}` : "",
                        ".",
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: ()=>window.location.reload(),
                            className: "ml-2 text-red-600 hover:text-red-700 underline",
                            children: "Recarregar p\xe1gina"
                        })
                    ]
                })
            });
        }
    };
}
const _default = {
    safeAsync,
    safeLocalStorage,
    safeDOMOperations,
    inputValidation,
    safeFetch,
    withErrorHandling,
    LusoTownError,
    ErrorType
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi93b3Jrc3BhY2VzL0x1c29Ub3duL3dlYi1hcHAvc3JjL2xpYi9lcnJvckhhbmRsaW5nLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvbXByZWhlbnNpdmUgZXJyb3IgaGFuZGxpbmcgdXRpbGl0aWVzIGZvciBMdXNvVG93biBwbGF0Zm9ybVxuICogUHJvdmlkZXMgc2VjdXJlIGVycm9yIGhhbmRsaW5nLCBsb2dnaW5nLCBhbmQgdXNlci1mcmllbmRseSBlcnJvciBtZXNzYWdlc1xuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHRvYXN0IH0gZnJvbSAncmVhY3QtaG90LXRvYXN0J1xuXG4vLyBFcnJvciB0eXBlcyBmb3IgY2F0ZWdvcml6YXRpb25cbmV4cG9ydCBlbnVtIEVycm9yVHlwZSB7XG4gIEFVVEhFTlRJQ0FUSU9OID0gJ2F1dGhlbnRpY2F0aW9uJyxcbiAgQVVUSE9SSVpBVElPTiA9ICdhdXRob3JpemF0aW9uJyxcbiAgTkVUV09SSyA9ICduZXR3b3JrJyxcbiAgVkFMSURBVElPTiA9ICd2YWxpZGF0aW9uJyxcbiAgTk9UX0ZPVU5EID0gJ25vdF9mb3VuZCcsXG4gIFNFUlZFUl9FUlJPUiA9ICdzZXJ2ZXJfZXJyb3InLFxuICBDTElFTlRfRVJST1IgPSAnY2xpZW50X2Vycm9yJyxcbiAgVU5LTk9XTiA9ICd1bmtub3duJ1xufVxuXG4vLyBDdXN0b20gZXJyb3IgY2xhc3Mgd2l0aCBhZGRpdGlvbmFsIGNvbnRleHRcbmV4cG9ydCBjbGFzcyBMdXNvVG93bkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogRXJyb3JUeXBlXG4gIHB1YmxpYyByZWFkb25seSBjb2RlPzogc3RyaW5nXG4gIHB1YmxpYyByZWFkb25seSBjb250ZXh0PzogUmVjb3JkPHN0cmluZywgYW55PlxuICBwdWJsaWMgcmVhZG9ubHkgdXNlck1lc3NhZ2U/OiBzdHJpbmdcbiAgcHVibGljIHJlYWRvbmx5IHRpbWVzdGFtcDogRGF0ZVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgICB0eXBlOiBFcnJvclR5cGUgPSBFcnJvclR5cGUuVU5LTk9XTixcbiAgICBjb2RlPzogc3RyaW5nLFxuICAgIGNvbnRleHQ/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICAgIHVzZXJNZXNzYWdlPzogc3RyaW5nXG4gICkge1xuICAgIHN1cGVyKG1lc3NhZ2UpXG4gICAgdGhpcy5uYW1lID0gJ0x1c29Ub3duRXJyb3InXG4gICAgdGhpcy50eXBlID0gdHlwZVxuICAgIHRoaXMuY29kZSA9IGNvZGVcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0XG4gICAgdGhpcy51c2VyTWVzc2FnZSA9IHVzZXJNZXNzYWdlXG4gICAgdGhpcy50aW1lc3RhbXAgPSBuZXcgRGF0ZSgpXG4gIH1cbn1cblxuLy8gU2FmZSBhc3luYyBvcGVyYXRpb24gd3JhcHBlclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhZmVBc3luYzxUPihcbiAgb3BlcmF0aW9uOiAoKSA9PiBQcm9taXNlPFQ+LFxuICBlcnJvckNvbnRleHQ/OiB7XG4gICAgb3BlcmF0aW9uTmFtZT86IHN0cmluZ1xuICAgIHNob3dUb2FzdD86IGJvb2xlYW5cbiAgICBmYWxsYmFja1ZhbHVlPzogVFxuICAgIG9uRXJyb3I/OiAoZXJyb3I6IEVycm9yKSA9PiB2b2lkXG4gIH1cbik6IFByb21pc2U8eyBkYXRhPzogVDsgZXJyb3I/OiBMdXNvVG93bkVycm9yOyBzdWNjZXNzOiBib29sZWFuIH0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgb3BlcmF0aW9uKClcbiAgICByZXR1cm4geyBkYXRhLCBzdWNjZXNzOiB0cnVlIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiAke2Vycm9yQ29udGV4dD8ub3BlcmF0aW9uTmFtZSB8fCAnYXN5bmMgb3BlcmF0aW9uJ306YCwgZXJyb3IpXG4gICAgXG4gICAgY29uc3QgbHVzb0Vycm9yID0gZXJyb3IgaW5zdGFuY2VvZiBMdXNvVG93bkVycm9yIFxuICAgICAgPyBlcnJvciBcbiAgICAgIDogbmV3IEx1c29Ub3duRXJyb3IoXG4gICAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvciBvY2N1cnJlZCcsXG4gICAgICAgICAgY2F0ZWdvcml6ZUVycm9yKGVycm9yKSxcbiAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgeyBvcmlnaW5hbEVycm9yOiBlcnJvciwgb3BlcmF0aW9uOiBlcnJvckNvbnRleHQ/Lm9wZXJhdGlvbk5hbWUgfVxuICAgICAgICApXG5cbiAgICAvLyBTaG93IHVzZXItZnJpZW5kbHkgdG9hc3QgaWYgcmVxdWVzdGVkXG4gICAgaWYgKGVycm9yQ29udGV4dD8uc2hvd1RvYXN0KSB7XG4gICAgICBjb25zdCB1c2VyTWVzc2FnZSA9IGx1c29FcnJvci51c2VyTWVzc2FnZSB8fCBnZXRFcnJvck1lc3NhZ2UobHVzb0Vycm9yLnR5cGUpXG4gICAgICB0b2FzdC5lcnJvcih1c2VyTWVzc2FnZSlcbiAgICB9XG5cbiAgICAvLyBDYWxsIGN1c3RvbSBlcnJvciBoYW5kbGVyIGlmIHByb3ZpZGVkXG4gICAgaWYgKGVycm9yQ29udGV4dD8ub25FcnJvcikge1xuICAgICAgZXJyb3JDb250ZXh0Lm9uRXJyb3IobHVzb0Vycm9yKVxuICAgIH1cblxuICAgIC8vIExvZyB0byBlcnJvciB0cmFja2luZyBzZXJ2aWNlIGluIHByb2R1Y3Rpb25cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgbG9nRXJyb3IobHVzb0Vycm9yLCBlcnJvckNvbnRleHQpXG4gICAgfVxuXG4gICAgcmV0dXJuIHsgXG4gICAgICBlcnJvcjogbHVzb0Vycm9yLCBcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZGF0YTogZXJyb3JDb250ZXh0Py5mYWxsYmFja1ZhbHVlXG4gICAgfVxuICB9XG59XG5cbi8vIENhdGVnb3JpemUgZXJyb3JzIGJhc2VkIG9uIHR5cGUgYW5kIG1lc3NhZ2VcbmZ1bmN0aW9uIGNhdGVnb3JpemVFcnJvcihlcnJvcjogYW55KTogRXJyb3JUeXBlIHtcbiAgaWYgKCFlcnJvcikgcmV0dXJuIEVycm9yVHlwZS5VTktOT1dOXG5cbiAgY29uc3QgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U/LnRvTG93ZXJDYXNlKCkgfHwgJydcbiAgY29uc3Qgc3RhdHVzID0gZXJyb3Iuc3RhdHVzIHx8IGVycm9yLnN0YXR1c0NvZGVcblxuICAvLyBIVFRQIHN0YXR1cyBjb2Rlc1xuICBpZiAoc3RhdHVzID09PSA0MDEpIHJldHVybiBFcnJvclR5cGUuQVVUSEVOVElDQVRJT05cbiAgaWYgKHN0YXR1cyA9PT0gNDAzKSByZXR1cm4gRXJyb3JUeXBlLkFVVEhPUklaQVRJT05cbiAgaWYgKHN0YXR1cyA9PT0gNDA0KSByZXR1cm4gRXJyb3JUeXBlLk5PVF9GT1VORFxuICBpZiAoc3RhdHVzID49IDQwMCAmJiBzdGF0dXMgPCA1MDApIHJldHVybiBFcnJvclR5cGUuQ0xJRU5UX0VSUk9SXG4gIGlmIChzdGF0dXMgPj0gNTAwKSByZXR1cm4gRXJyb3JUeXBlLlNFUlZFUl9FUlJPUlxuXG4gIC8vIE5ldHdvcmsgZXJyb3JzXG4gIGlmIChtZXNzYWdlLmluY2x1ZGVzKCduZXR3b3JrJykgfHwgbWVzc2FnZS5pbmNsdWRlcygnZmV0Y2gnKSB8fCBtZXNzYWdlLmluY2x1ZGVzKCdjb25uZWN0aW9uJykpIHtcbiAgICByZXR1cm4gRXJyb3JUeXBlLk5FVFdPUktcbiAgfVxuXG4gIC8vIEF1dGhlbnRpY2F0aW9uIGVycm9yc1xuICBpZiAobWVzc2FnZS5pbmNsdWRlcygndW5hdXRob3JpemVkJykgfHwgbWVzc2FnZS5pbmNsdWRlcygnbG9naW4nKSB8fCBtZXNzYWdlLmluY2x1ZGVzKCd0b2tlbicpKSB7XG4gICAgcmV0dXJuIEVycm9yVHlwZS5BVVRIRU5USUNBVElPTlxuICB9XG5cbiAgLy8gVmFsaWRhdGlvbiBlcnJvcnNcbiAgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoJ3ZhbGlkYXRpb24nKSB8fCBtZXNzYWdlLmluY2x1ZGVzKCdpbnZhbGlkJykgfHwgbWVzc2FnZS5pbmNsdWRlcygncmVxdWlyZWQnKSkge1xuICAgIHJldHVybiBFcnJvclR5cGUuVkFMSURBVElPTlxuICB9XG5cbiAgcmV0dXJuIEVycm9yVHlwZS5VTktOT1dOXG59XG5cbi8vIEdldCB1c2VyLWZyaWVuZGx5IGVycm9yIG1lc3NhZ2VzXG5mdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UodHlwZTogRXJyb3JUeXBlKTogc3RyaW5nIHtcbiAgY29uc3QgbWVzc2FnZXMgPSB7XG4gICAgW0Vycm9yVHlwZS5BVVRIRU5USUNBVElPTl06ICdTZXNzw6NvIGV4cGlyYWRhLiBQb3IgZmF2b3IsIGZhw6dhIGxvZ2luIG5vdmFtZW50ZS4nLFxuICAgIFtFcnJvclR5cGUuQVVUSE9SSVpBVElPTl06ICdOw6NvIHRlbSBwZXJtaXNzw6NvIHBhcmEgcmVhbGl6YXIgZXN0YSBhw6fDo28uJyxcbiAgICBbRXJyb3JUeXBlLk5FVFdPUktdOiAnUHJvYmxlbWEgZGUgY29uZXjDo28uIFZlcmlmaXF1ZSBzdWEgaW50ZXJuZXQgZSB0ZW50ZSBub3ZhbWVudGUuJyxcbiAgICBbRXJyb3JUeXBlLlZBTElEQVRJT05dOiAnRGFkb3MgaW52w6FsaWRvcy4gVmVyaWZpcXVlIGFzIGluZm9ybWHDp8O1ZXMgZSB0ZW50ZSBub3ZhbWVudGUuJyxcbiAgICBbRXJyb3JUeXBlLk5PVF9GT1VORF06ICdSZWN1cnNvIG7Do28gZW5jb250cmFkby4nLFxuICAgIFtFcnJvclR5cGUuU0VSVkVSX0VSUk9SXTogJ0Vycm8gZG8gc2Vydmlkb3IuIFRlbnRlIG5vdmFtZW50ZSBlbSBhbGd1bnMgbWludXRvcy4nLFxuICAgIFtFcnJvclR5cGUuQ0xJRU5UX0VSUk9SXTogJ0Vycm8gbmEgc29saWNpdGHDp8Ojby4gVmVyaWZpcXVlIG9zIGRhZG9zIGUgdGVudGUgbm92YW1lbnRlLicsXG4gICAgW0Vycm9yVHlwZS5VTktOT1dOXTogJ09jb3JyZXUgdW0gZXJybyBpbmVzcGVyYWRvLiBUZW50ZSBub3ZhbWVudGUuJ1xuICB9XG4gIFxuICByZXR1cm4gbWVzc2FnZXNbdHlwZV0gfHwgbWVzc2FnZXNbRXJyb3JUeXBlLlVOS05PV05dXG59XG5cbi8vIExvZyBlcnJvciB0byBleHRlcm5hbCBzZXJ2aWNlIGluIHByb2R1Y3Rpb25cbmZ1bmN0aW9uIGxvZ0Vycm9yKGVycm9yOiBMdXNvVG93bkVycm9yLCBjb250ZXh0PzogYW55KSB7XG4gIC8vIEluIHByb2R1Y3Rpb24sIHRoaXMgd291bGQgc2VuZCB0byB5b3VyIGVycm9yIHRyYWNraW5nIHNlcnZpY2VcbiAgLy8gRm9yIG5vdywgd2UnbGwganVzdCBzdHJ1Y3R1cmUgdGhlIGVycm9yIGZvciBsb2dnaW5nXG4gIGNvbnN0IGVycm9yUmVwb3J0ID0ge1xuICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgdHlwZTogZXJyb3IudHlwZSxcbiAgICBjb2RlOiBlcnJvci5jb2RlLFxuICAgIHN0YWNrOiBlcnJvci5zdGFjayxcbiAgICB0aW1lc3RhbXA6IGVycm9yLnRpbWVzdGFtcCxcbiAgICBjb250ZXh0OiBlcnJvci5jb250ZXh0LFxuICAgIG9wZXJhdGlvbkNvbnRleHQ6IGNvbnRleHQsXG4gICAgdXNlckFnZW50OiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50IDogdW5kZWZpbmVkLFxuICAgIHVybDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cubG9jYXRpb24uaHJlZiA6IHVuZGVmaW5lZFxuICB9XG5cbiAgY29uc29sZS5lcnJvcignUHJvZHVjdGlvbiBFcnJvciBSZXBvcnQ6JywgZXJyb3JSZXBvcnQpXG59XG5cbi8vIFNhZmUgbG9jYWxTdG9yYWdlIG9wZXJhdGlvbnNcbmV4cG9ydCBjb25zdCBzYWZlTG9jYWxTdG9yYWdlID0ge1xuICBnZXRJdGVtOiAoa2V5OiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVhZGluZyBmcm9tIGxvY2FsU3RvcmFnZTonLCBlcnJvcilcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9LFxuXG4gIHNldEl0ZW06IChrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igd3JpdGluZyB0byBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH0sXG5cbiAgcmVtb3ZlSXRlbTogKGtleTogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSlcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlbW92aW5nIGZyb20gbG9jYWxTdG9yYWdlOicsIGVycm9yKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9LFxuXG4gIGdldEpTT046IDxUIGV4dGVuZHMgdW5rbm93bj4oa2V5OiBzdHJpbmcpOiBUIHwgbnVsbCA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpXG4gICAgICByZXR1cm4gaXRlbSA/IEpTT04ucGFyc2UoaXRlbSkgOiBudWxsXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgSlNPTiBmcm9tIGxvY2FsU3RvcmFnZTonLCBlcnJvcilcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9LFxuXG4gIHNldEpTT046IDxUIGV4dGVuZHMgdW5rbm93bj4oa2V5OiBzdHJpbmcsIHZhbHVlOiBUKTogYm9vbGVhbiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc3RvcmluZyBKU09OIHRvIGxvY2FsU3RvcmFnZTonLCBlcnJvcilcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxufVxuXG4vLyBTYWZlIERPTSBvcGVyYXRpb25zXG5leHBvcnQgY29uc3Qgc2FmZURPTU9wZXJhdGlvbnMgPSB7XG4gIHF1ZXJ5U2VsZWN0b3I6IChzZWxlY3Rvcjogc3RyaW5nKTogRWxlbWVudCB8IG51bGwgPT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcilcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igd2l0aCBxdWVyeVNlbGVjdG9yOicsIGVycm9yKVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH0sXG5cbiAgZ2V0RWxlbWVudEJ5SWQ6IChpZDogc3RyaW5nKTogSFRNTEVsZW1lbnQgfCBudWxsID0+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB3aXRoIGdldEVsZW1lbnRCeUlkOicsIGVycm9yKVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH0sXG5cbiAgYWRkRXZlbnRMaXN0ZW5lcjogKFxuICAgIGVsZW1lbnQ6IEVsZW1lbnQgfCBXaW5kb3cgfCBEb2N1bWVudCxcbiAgICBldmVudDogc3RyaW5nLFxuICAgIGhhbmRsZXI6IEV2ZW50TGlzdGVuZXIsXG4gICAgb3B0aW9ucz86IGJvb2xlYW4gfCBBZGRFdmVudExpc3RlbmVyT3B0aW9uc1xuICApOiBib29sZWFuID0+IHtcbiAgICB0cnkge1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWRkaW5nIGV2ZW50IGxpc3RlbmVyOicsIGVycm9yKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9LFxuXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXI6IChcbiAgICBlbGVtZW50OiBFbGVtZW50IHwgV2luZG93IHwgRG9jdW1lbnQsXG4gICAgZXZlbnQ6IHN0cmluZyxcbiAgICBoYW5kbGVyOiBFdmVudExpc3RlbmVyLFxuICAgIG9wdGlvbnM/OiBib29sZWFuIHwgRXZlbnRMaXN0ZW5lck9wdGlvbnNcbiAgKTogYm9vbGVhbiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucylcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlbW92aW5nIGV2ZW50IGxpc3RlbmVyOicsIGVycm9yKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG59XG5cbi8vIElucHV0IHZhbGlkYXRpb24gaGVscGVyc1xuZXhwb3J0IGNvbnN0IGlucHV0VmFsaWRhdGlvbiA9IHtcbiAgZW1haWw6IChlbWFpbDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgZW1haWxSZWdleCA9IC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvXG4gICAgcmV0dXJuIGVtYWlsUmVnZXgudGVzdChlbWFpbClcbiAgfSxcblxuICBzYW5pdGl6ZVN0cmluZzogKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIC8vIEJhc2ljIFhTUyBwcmV2ZW50aW9uIC0gcmVtb3ZlIHBvdGVudGlhbGx5IGRhbmdlcm91cyBjaGFyYWN0ZXJzXG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAucmVwbGFjZSgvPHNjcmlwdFxcYltePF0qKD86KD8hPFxcL3NjcmlwdD4pPFtePF0qKSo8XFwvc2NyaXB0Pi9naSwgJycpXG4gICAgICAucmVwbGFjZSgvPGlmcmFtZVxcYltePF0qKD86KD8hPFxcL2lmcmFtZT4pPFtePF0qKSo8XFwvaWZyYW1lPi9naSwgJycpXG4gICAgICAucmVwbGFjZSgvamF2YXNjcmlwdDovZ2ksICcnKVxuICAgICAgLnJlcGxhY2UoL29uXFx3K1xccyo9XFxzKlwiW15cIl0qXCIvZ2ksICcnKVxuICAgICAgLnJlcGxhY2UoL29uXFx3K1xccyo9XFxzKidbXiddKicvZ2ksICcnKVxuICB9LFxuXG4gIGlzVmFsaWRMZW5ndGg6IChpbnB1dDogc3RyaW5nLCBtaW46IG51bWJlciA9IDAsIG1heDogbnVtYmVyID0gSW5maW5pdHkpOiBib29sZWFuID0+IHtcbiAgICByZXR1cm4gaW5wdXQubGVuZ3RoID49IG1pbiAmJiBpbnB1dC5sZW5ndGggPD0gbWF4XG4gIH0sXG5cbiAgY29udGFpbnNPbmx5QWxsb3dlZENoYXJzOiAoaW5wdXQ6IHN0cmluZywgYWxsb3dlZENoYXJzOiBSZWdFeHApOiBib29sZWFuID0+IHtcbiAgICByZXR1cm4gYWxsb3dlZENoYXJzLnRlc3QoaW5wdXQpXG4gIH1cbn1cblxuLy8gTmV0d29yayByZXF1ZXN0IGhlbHBlcnMgd2l0aCBlcnJvciBoYW5kbGluZ1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhZmVGZXRjaChcbiAgdXJsOiBzdHJpbmcsXG4gIG9wdGlvbnM/OiBSZXF1ZXN0SW5pdCxcbiAgZXJyb3JDb250ZXh0Pzoge1xuICAgIG9wZXJhdGlvbk5hbWU/OiBzdHJpbmdcbiAgICBzaG93VG9hc3Q/OiBib29sZWFuXG4gICAgcmV0cmllcz86IG51bWJlclxuICB9XG4pOiBQcm9taXNlPHsgZGF0YT86IFJlc3BvbnNlOyBlcnJvcj86IEx1c29Ub3duRXJyb3I7IHN1Y2Nlc3M6IGJvb2xlYW4gfT4ge1xuICBjb25zdCBtYXhSZXRyaWVzID0gZXJyb3JDb250ZXh0Py5yZXRyaWVzID8/IDBcbiAgbGV0IGF0dGVtcHQgPSAwXG5cbiAgd2hpbGUgKGF0dGVtcHQgPD0gbWF4UmV0cmllcykge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNhZmVBc3luYyhcbiAgICAgICgpID0+IGZldGNoKHVybCwgb3B0aW9ucyksXG4gICAgICB7XG4gICAgICAgIG9wZXJhdGlvbk5hbWU6IGVycm9yQ29udGV4dD8ub3BlcmF0aW9uTmFtZSB8fCBgZmV0Y2ggJHt1cmx9YCxcbiAgICAgICAgc2hvd1RvYXN0OiBlcnJvckNvbnRleHQ/LnNob3dUb2FzdCAmJiBhdHRlbXB0ID09PSBtYXhSZXRyaWVzIC8vIE9ubHkgc2hvdyB0b2FzdCBvbiBsYXN0IGF0dGVtcHRcbiAgICAgIH1cbiAgICApXG5cbiAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9XG5cbiAgICBhdHRlbXB0KytcbiAgICBpZiAoYXR0ZW1wdCA8PSBtYXhSZXRyaWVzKSB7XG4gICAgICAvLyBXYWl0IGJlZm9yZSByZXRyeWluZyAoZXhwb25lbnRpYWwgYmFja29mZilcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBNYXRoLnBvdygyLCBhdHRlbXB0KSAqIDEwMDApKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7IFxuICAgIGVycm9yOiBuZXcgTHVzb1Rvd25FcnJvcihcbiAgICAgICdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkIGFmdGVyIHJldHJpZXMnLFxuICAgICAgRXJyb3JUeXBlLk5FVFdPUktcbiAgICApLCBcbiAgICBzdWNjZXNzOiBmYWxzZSBcbiAgfVxufVxuXG4vLyBSZWFjdCBjb21wb25lbnQgZXJyb3Igd3JhcHBlclxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhFcnJvckhhbmRsaW5nPFAgZXh0ZW5kcyBvYmplY3Q+KFxuICBDb21wb25lbnQ6IFJlYWN0LkNvbXBvbmVudFR5cGU8UD4sXG4gIGVycm9yQ29udGV4dD86IHtcbiAgICBjb21wb25lbnROYW1lPzogc3RyaW5nXG4gICAgZmFsbGJhY2tSZW5kZXI/OiAoZXJyb3I6IEVycm9yKSA9PiBSZWFjdC5SZWFjdE5vZGVcbiAgfVxuKSB7XG4gIHJldHVybiBmdW5jdGlvbiBXcmFwcGVkQ29tcG9uZW50KHByb3BzOiBQKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiA8Q29tcG9uZW50IHsuLi5wcm9wc30gLz5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gY29tcG9uZW50ICR7ZXJyb3JDb250ZXh0Py5jb21wb25lbnROYW1lIHx8ICdVbmtub3duJ306YCwgZXJyb3IpXG4gICAgICBcbiAgICAgIGlmIChlcnJvckNvbnRleHQ/LmZhbGxiYWNrUmVuZGVyKSB7XG4gICAgICAgIHJldHVybiBlcnJvckNvbnRleHQuZmFsbGJhY2tSZW5kZXIoZXJyb3IgYXMgRXJyb3IpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJnLXJlZC01MCBib3JkZXIgYm9yZGVyLXJlZC0yMDAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtcmVkLTgwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICBFcnJvIGFvIGNhcnJlZ2FyIGNvbXBvbmVudGV7ZXJyb3JDb250ZXh0Py5jb21wb25lbnROYW1lID8gYCAke2Vycm9yQ29udGV4dC5jb21wb25lbnROYW1lfWAgOiAnJ30uXG4gICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCl9IFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtbC0yIHRleHQtcmVkLTYwMCBob3Zlcjp0ZXh0LXJlZC03MDAgdW5kZXJsaW5lXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgUmVjYXJyZWdhciBww6FnaW5hXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHNhZmVBc3luYyxcbiAgc2FmZUxvY2FsU3RvcmFnZSxcbiAgc2FmZURPTU9wZXJhdGlvbnMsXG4gIGlucHV0VmFsaWRhdGlvbixcbiAgc2FmZUZldGNoLFxuICB3aXRoRXJyb3JIYW5kbGluZyxcbiAgTHVzb1Rvd25FcnJvcixcbiAgRXJyb3JUeXBlXG59Il0sIm5hbWVzIjpbIkx1c29Ub3duRXJyb3IiLCJpbnB1dFZhbGlkYXRpb24iLCJzYWZlQXN5bmMiLCJzYWZlRE9NT3BlcmF0aW9ucyIsInNhZmVGZXRjaCIsInNhZmVMb2NhbFN0b3JhZ2UiLCJ3aXRoRXJyb3JIYW5kbGluZyIsIkVycm9yVHlwZSIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwidHlwZSIsImNvZGUiLCJjb250ZXh0IiwidXNlck1lc3NhZ2UiLCJuYW1lIiwidGltZXN0YW1wIiwiRGF0ZSIsIm9wZXJhdGlvbiIsImVycm9yQ29udGV4dCIsImRhdGEiLCJzdWNjZXNzIiwiZXJyb3IiLCJjb25zb2xlIiwib3BlcmF0aW9uTmFtZSIsImx1c29FcnJvciIsImNhdGVnb3JpemVFcnJvciIsInVuZGVmaW5lZCIsIm9yaWdpbmFsRXJyb3IiLCJzaG93VG9hc3QiLCJnZXRFcnJvck1lc3NhZ2UiLCJ0b2FzdCIsIm9uRXJyb3IiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJsb2dFcnJvciIsImZhbGxiYWNrVmFsdWUiLCJ0b0xvd2VyQ2FzZSIsInN0YXR1cyIsInN0YXR1c0NvZGUiLCJpbmNsdWRlcyIsIm1lc3NhZ2VzIiwiZXJyb3JSZXBvcnQiLCJzdGFjayIsIm9wZXJhdGlvbkNvbnRleHQiLCJ1c2VyQWdlbnQiLCJ3aW5kb3ciLCJuYXZpZ2F0b3IiLCJ1cmwiLCJsb2NhdGlvbiIsImhyZWYiLCJnZXRJdGVtIiwia2V5IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInZhbHVlIiwicmVtb3ZlSXRlbSIsImdldEpTT04iLCJpdGVtIiwiSlNPTiIsInBhcnNlIiwic2V0SlNPTiIsInN0cmluZ2lmeSIsInF1ZXJ5U2VsZWN0b3IiLCJzZWxlY3RvciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlbGVtZW50IiwiZXZlbnQiLCJoYW5kbGVyIiwib3B0aW9ucyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlbWFpbCIsImVtYWlsUmVnZXgiLCJ0ZXN0Iiwic2FuaXRpemVTdHJpbmciLCJpbnB1dCIsInJlcGxhY2UiLCJpc1ZhbGlkTGVuZ3RoIiwibWluIiwibWF4IiwiSW5maW5pdHkiLCJsZW5ndGgiLCJjb250YWluc09ubHlBbGxvd2VkQ2hhcnMiLCJhbGxvd2VkQ2hhcnMiLCJtYXhSZXRyaWVzIiwicmV0cmllcyIsImF0dGVtcHQiLCJyZXN1bHQiLCJmZXRjaCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsIk1hdGgiLCJwb3ciLCJDb21wb25lbnQiLCJXcmFwcGVkQ29tcG9uZW50IiwicHJvcHMiLCJjb21wb25lbnROYW1lIiwiZmFsbGJhY2tSZW5kZXIiLCJkaXYiLCJjbGFzc05hbWUiLCJwIiwiYnV0dG9uIiwib25DbGljayIsInJlbG9hZCJdLCJtYXBwaW5ncyI6IkFBQUE7OztDQUdDOzs7Ozs7Ozs7Ozs7OztJQWtCWUEsYUFBYTtlQUFiQTs7SUEw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