{"version":3,"sources":["/workspaces/LusoTown/web-app/src/components/LanguageToggle.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useRef, useEffect } from 'react'\nimport { useLanguage } from '@/context/LanguageContext'\n\nexport default function LanguageToggle() {\n  const { language, setLanguage } = useLanguage()\n  const [isOpen, setIsOpen] = useState(false)\n  const dropdownRef = useRef<HTMLDivElement>(null)\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setIsOpen(false)\n      }\n    }\n    document.addEventListener('mousedown', handleClickOutside)\n    return () => document.removeEventListener('mousedown', handleClickOutside)\n  }, [])\n\n  const getLanguageDisplay = (lang: string) => {\n    switch (lang) {\n      case 'en':\n        return { flag: 'üá¨üáß', text: 'EN', label: 'English' }\n      case 'pt-pt':\n        return { flag: 'üáµüáπ', text: 'PT', label: 'Portugu√™s (Portugal)' }\n      case 'pt-br':\n        return { flag: 'üáßüá∑', text: 'BR', label: 'Portugu√™s (Brasil)' }\n      default:\n        return { flag: 'üá¨üáß', text: 'EN', label: 'English' }\n    }\n  }\n\n  const getCurrentFlag = () => {\n    if (language.startsWith('pt')) {\n      return 'üáµüáπ' // Show PT flag for any Lusophone variant\n    }\n    return 'üá¨üáß' // United Kingdom flag for English\n  }\n\n  const currentLang = getLanguageDisplay(language)\n\n  return (\n    <div className=\"relative\" ref={dropdownRef}>\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"group flex items-center justify-center bg-white/90 backdrop-blur-sm rounded-lg sm:rounded-xl p-3 shadow-lg border border-secondary-200/40 hover:border-secondary-400 hover:shadow-xl hover:bg-gradient-to-r hover:from-secondary-50 hover:to-accent-50 transition-all duration-300 hover:scale-105 min-w-[44px] min-h-[44px]\"\n        title={`Current: ${currentLang.label}`}\n        style={{ fontFamily: 'system-ui, -apple-system, Segoe UI, Roboto, sans-serif' }}\n      >\n        <span className=\"text-lg sm:text-xl group-hover:scale-110 transition-transform duration-300 block\" style={{ lineHeight: 1 }}>{getCurrentFlag()}</span>\n      </button>\n\n      {isOpen && (\n        <div className=\"absolute top-full mt-2 left-0 bg-white/95 backdrop-blur-xl rounded-2xl shadow-2xl border border-secondary-200/60 py-2 min-w-[280px] z-50 animate-fade-in\">\n          <div className=\"px-5 py-3 bg-gradient-to-r from-secondary-50/60 via-accent-50/40 to-coral-50/40 border-b border-secondary-200/40\">\n            <p className=\"text-xs text-secondary-700 font-bold uppercase tracking-wide flex items-center gap-2\">\n              <span className=\"w-2 h-2 rounded-full bg-gradient-to-r from-green-500 to-red-500 animate-pulse\"></span>\n              Unidos pela L√≠ngua ‚Ä¢ United by Language\n            </p>\n            <p className=\"text-xs text-gray-600 mt-1\">Connecting All Lusophone-Speaking Communities</p>\n          </div>\n          {[\n            { value: 'en', ...getLanguageDisplay('en') },\n            { value: 'pt-pt', ...getLanguageDisplay('pt-pt') },\n            { value: 'pt-br', ...getLanguageDisplay('pt-br') }\n          ].map((lang) => (\n            <button\n              key={lang.value}\n              onClick={() => {\n                setLanguage(lang.value as any)\n                setIsOpen(false)\n              }}\n              className={`group w-full flex items-center gap-4 px-5 py-3 text-sm hover:bg-gradient-to-r hover:from-secondary-50/60 hover:to-accent-50/40 transition-all duration-300 min-h-[44px] ${\n                language === lang.value \n                  ? 'bg-gradient-to-r from-secondary-100/80 to-accent-100/60 text-secondary-800 shadow-sm' \n                  : 'text-gray-700 hover:text-secondary-700'\n              }`}\n            >\n              <span className=\"text-xl group-hover:scale-110 transition-transform duration-300 block\" style={{ lineHeight: 1, fontFamily: 'system-ui, -apple-system, Segoe UI, Roboto, sans-serif' }}>{lang.flag}</span>\n              <div className=\"flex-1 text-left\">\n                <div className=\"font-semibold\">{lang.label}</div>\n                {lang.value === 'pt-pt' && <div className=\"text-xs text-gray-500\">Europa ‚Ä¢ √Åfrica ‚Ä¢ √Åsia</div>}\n                {lang.value === 'pt-br' && <div className=\"text-xs text-gray-500\">Brasil ‚Ä¢ Am√©rica</div>}\n                {lang.value === 'en' && <div className=\"text-xs text-gray-500\">Global ‚Ä¢ International</div>}\n              </div>\n              {language === lang.value && (\n                <div className=\"w-5 h-5 bg-gradient-to-r from-secondary-600 to-accent-600 rounded-full flex items-center justify-center\">\n                  <svg className=\"w-3 h-3 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                  </svg>\n                </div>\n              )}\n            </button>\n          ))}\n          \n          {/* Cultural note */}\n          <div className=\"px-5 py-3 mt-2 border-t border-secondary-200/40\">\n            <p className=\"text-xs text-gray-500 italic leading-relaxed\">\n              \"Onde h√° portugueses, h√° sempre uma mesa para mais um\" - Celebrating all corners of the Portuguese-speaking world\n            </p>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}"],"names":["LanguageToggle","language","setLanguage","useLanguage","isOpen","setIsOpen","useState","dropdownRef","useRef","useEffect","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","getLanguageDisplay","lang","flag","text","label","getCurrentFlag","startsWith","currentLang","div","className","ref","button","onClick","title","style","fontFamily","span","lineHeight","p","value","map","svg","fill","viewBox","path","fillRule","d","clipRule"],"mappings":"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"}