{"version":3,"sources":["/workspaces/LusoTown/web-app/src/components/LuxuryMobileInteraction.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { motion, AnimatePresence, useSpring, useTransform } from 'framer-motion';\n\n// Luxury Touch Ripple Effect Component\ninterface LuxuryRippleProps extends React.HTMLAttributes<HTMLDivElement> {\n  children: React.ReactNode;\n  className?: string;\n  disabled?: boolean;\n  rippleColor?: string;\n  onClick?: () => void;\n  hapticFeedback?: 'light' | 'medium' | 'heavy';\n}\n\nexport function LuxuryRipple({ \n  children, \n  className = '', \n  disabled = false, \n  rippleColor = 'rgba(255, 255, 255, 0.3)',\n  onClick,\n  hapticFeedback = 'light',\n  ...rest\n}: LuxuryRippleProps) {\n  const [ripples, setRipples] = useState<Array<{ id: number; x: number; y: number; size: number }>>([]);\n  const rippleRef = useRef<HTMLDivElement>(null);\n\n  const triggerHaptic = useCallback((type: string) => {\n    // Simulate haptic feedback with CSS animation classes\n    if (rippleRef.current) {\n      rippleRef.current.classList.add(`luxury-haptic-${type}`);\n      setTimeout(() => {\n        rippleRef.current?.classList.remove(`luxury-haptic-${type}`);\n      }, 200);\n    }\n  }, []);\n\n\n  const createRipple = useCallback((event: React.MouseEvent | React.TouchEvent) => {\n    if (disabled || !rippleRef.current) return;\n\n    const rect = rippleRef.current.getBoundingClientRect();\n    \n    // Handle both mouse and touch events\n    const clientX = 'touches' in event ? event.touches[0].clientX : event.clientX;\n    const clientY = 'touches' in event ? event.touches[0].clientY : event.clientY;\n    \n    const x = clientX - rect.left;\n    const y = clientY - rect.top;\n    const size = Math.max(rect.width, rect.height) * 2;\n\n    const newRipple = {\n      id: Date.now() + Math.random(),\n      x: x - size / 2,\n      y: y - size / 2,\n      size\n    };\n\n    setRipples(prev => [...prev, newRipple]);\n    triggerHaptic(hapticFeedback);\n\n    // Remove ripple after animation\n    setTimeout(() => {\n      setRipples(prev => prev.filter(ripple => ripple.id !== newRipple.id));\n    }, 600);\n\n    onClick?.();\n  }, [disabled, onClick, hapticFeedback, triggerHaptic]);\n\n  return (\n    <div\n  {...rest}\n      ref={rippleRef}\n      className={`luxury-touch-target relative overflow-hidden ${className}`}\n      onMouseDown={createRipple}\n      onTouchStart={createRipple}\n      onClick={createRipple}\n    >\n      {children}\n      {ripples.map(ripple => (\n        <motion.div\n          key={ripple.id}\n          className=\"absolute rounded-full pointer-events-none\"\n          style={{\n            left: ripple.x,\n            top: ripple.y,\n            width: ripple.size,\n            height: ripple.size,\n            backgroundColor: rippleColor,\n          }}\n          initial={{ scale: 0, opacity: 0.6 }}\n          animate={{ scale: 1, opacity: 0 }}\n          transition={{ duration: 0.6, ease: [0.215, 0.61, 0.355, 1] }}\n        />\n      ))}\n    </div>\n  );\n}\n\n// Premium Swipe Gesture Component\ninterface LuxurySwipeProps {\n  children: React.ReactNode;\n  onSwipeLeft?: () => void;\n  onSwipeRight?: () => void;\n  onSwipeUp?: () => void;\n  onSwipeDown?: () => void;\n  swipeThreshold?: number;\n  className?: string;\n}\n\nexport function LuxurySwipe({\n  children,\n  onSwipeLeft,\n  onSwipeRight,\n  onSwipeUp,\n  onSwipeDown,\n  swipeThreshold = 100,\n  className = ''\n}: LuxurySwipeProps) {\n  const [isPressed, setIsPressed] = useState(false);\n  const [dragStart, setDragStart] = useState({ x: 0, y: 0 });\n  const dragX = useSpring(0, { stiffness: 300, damping: 30 });\n  const dragY = useSpring(0, { stiffness: 300, damping: 30 });\n\n  const opacity = useTransform(dragX, [-200, 0, 200], [0.6, 1, 0.6]);\n  const scale = useTransform(dragX, [-100, 0, 100], [0.95, 1, 0.95]);\n\n  const handleDragStart = (event: any) => {\n    setIsPressed(true);\n    const clientX = event.clientX || event.touches?.[0]?.clientX || 0;\n    const clientY = event.clientY || event.touches?.[0]?.clientY || 0;\n    setDragStart({ x: clientX, y: clientY });\n  };\n\n  const handleDragEnd = (event: any) => {\n    if (!isPressed) return;\n    \n    setIsPressed(false);\n    const clientX = event.clientX || event.changedTouches?.[0]?.clientX || 0;\n    const clientY = event.clientY || event.changedTouches?.[0]?.clientY || 0;\n    \n    const deltaX = clientX - dragStart.x;\n    const deltaY = clientY - dragStart.y;\n\n    // Reset position\n    dragX.set(0);\n    dragY.set(0);\n\n    // Trigger swipe actions\n    if (Math.abs(deltaX) > Math.abs(deltaY)) {\n      if (deltaX > swipeThreshold && onSwipeRight) {\n        onSwipeRight();\n      } else if (deltaX < -swipeThreshold && onSwipeLeft) {\n        onSwipeLeft();\n      }\n    } else {\n      if (deltaY > swipeThreshold && onSwipeDown) {\n        onSwipeDown();\n      } else if (deltaY < -swipeThreshold && onSwipeUp) {\n        onSwipeUp();\n      }\n    }\n  };\n\n  const handleDrag = (event: any) => {\n    if (!isPressed) return;\n    \n    const clientX = event.clientX || event.touches?.[0]?.clientX || 0;\n    const clientY = event.clientY || event.touches?.[0]?.clientY || 0;\n    \n    const deltaX = clientX - dragStart.x;\n    const deltaY = clientY - dragStart.y;\n\n    dragX.set(deltaX * 0.5); // Dampen the movement\n    dragY.set(deltaY * 0.5);\n  };\n\n  return (\n    <motion.div\n      className={`luxury-swipe-container ${className}`}\n      style={{ \n        x: dragX, \n        y: dragY, \n        opacity, \n        scale,\n        cursor: isPressed ? 'grabbing' : 'grab'\n      }}\n      onMouseDown={handleDragStart}\n      onMouseMove={handleDrag}\n      onMouseUp={handleDragEnd}\n      onMouseLeave={handleDragEnd}\n      onTouchStart={handleDragStart}\n      onTouchMove={handleDrag}\n      onTouchEnd={handleDragEnd}\n      whileTap={{ scale: 0.98 }}\n      transition={{ type: \"spring\", stiffness: 300, damping: 25 }}\n    >\n      {children}\n    </motion.div>\n  );\n}\n\n// Premium Pull-to-Refresh Component\ninterface LuxuryPullToRefreshProps {\n  children: React.ReactNode;\n  onRefresh: () => Promise<void>;\n  threshold?: number;\n  disabled?: boolean;\n  className?: string;\n}\n\nexport function LuxuryPullToRefresh({\n  children,\n  onRefresh,\n  threshold = 80,\n  disabled = false,\n  className = ''\n}: LuxuryPullToRefreshProps) {\n  const [isRefreshing, setIsRefreshing] = useState(false);\n  const [pullDistance, setPullDistance] = useState(0);\n  const [startY, setStartY] = useState(0);\n  const [canPull, setCanPull] = useState(false);\n\n  const refreshY = useSpring(0, { stiffness: 300, damping: 30 });\n  const refreshOpacity = useTransform(refreshY, [0, threshold], [0, 1]);\n  const refreshRotation = useTransform(refreshY, [0, threshold], [0, 180]);\n\n  const handleTouchStart = (e: React.TouchEvent) => {\n    if (disabled || isRefreshing) return;\n    \n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n    if (scrollTop === 0) {\n      setCanPull(true);\n      setStartY(e.touches[0].clientY);\n    }\n  };\n\n  const handleTouchMove = (e: React.TouchEvent) => {\n    if (!canPull || disabled || isRefreshing) return;\n\n    const currentY = e.touches[0].clientY;\n    const distance = Math.max(0, currentY - startY);\n    \n    if (distance > 0) {\n      e.preventDefault();\n      const dampedDistance = Math.min(distance * 0.6, threshold * 1.5);\n      setPullDistance(dampedDistance);\n      refreshY.set(dampedDistance);\n    }\n  };\n\n  const handleTouchEnd = async () => {\n    if (!canPull || disabled || isRefreshing) return;\n\n    setCanPull(false);\n    \n    if (pullDistance >= threshold) {\n      setIsRefreshing(true);\n      try {\n        await onRefresh();\n      } finally {\n        setIsRefreshing(false);\n      }\n    }\n    \n    setPullDistance(0);\n    refreshY.set(0);\n  };\n\n  useEffect(() => {\n    if (isRefreshing) {\n      refreshY.set(threshold);\n    } else {\n      refreshY.set(0);\n    }\n  }, [isRefreshing, refreshY, threshold]);\n\n  return (\n    <div \n      className={`luxury-pull-refresh-container ${className}`}\n      onTouchStart={handleTouchStart}\n      onTouchMove={handleTouchMove}\n      onTouchEnd={handleTouchEnd}\n    >\n      <motion.div\n        className=\"luxury-pull-refresh\"\n        style={{ y: refreshY, opacity: refreshOpacity }}\n      >\n        <motion.div\n          className=\"luxury-pull-icon\"\n          style={{ rotate: refreshRotation }}\n        >\n          {isRefreshing ? (\n            <div className=\"luxury-loading-spinner\" />\n          ) : (\n            <svg\n              width=\"24\"\n              height=\"24\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              strokeWidth=\"2\"\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n            >\n              <path d=\"M1 4v6h6\" />\n              <path d=\"M23 20v-6h-6\" />\n              <path d=\"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15\" />\n            </svg>\n          )}\n        </motion.div>\n        <span className=\"text-sm font-medium text-gray-600 ml-2\">\n          {isRefreshing ? 'Refreshing...' : pullDistance >= threshold ? 'Release to refresh' : 'Pull to refresh'}\n        </span>\n      </motion.div>\n      {children}\n    </div>\n  );\n}\n\n// Premium Long Press Component\ninterface LuxuryLongPressProps {\n  children: React.ReactNode;\n  onLongPress: () => void;\n  delay?: number;\n  className?: string;\n  hapticFeedback?: boolean;\n}\n\nexport function LuxuryLongPress({\n  children,\n  onLongPress,\n  delay = 500,\n  className = '',\n  hapticFeedback = true\n}: LuxuryLongPressProps) {\n  const [isPressed, setIsPressed] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const timerRef = useRef<NodeJS.Timeout>();\n  const progressRef = useRef<NodeJS.Timeout>();\n\n  const startPress = useCallback(() => {\n    if (timerRef.current) return;\n    \n    setIsPressed(true);\n    setProgress(0);\n\n    // Start progress animation\n    const startTime = Date.now();\n    progressRef.current = setInterval(() => {\n      const elapsed = Date.now() - startTime;\n      const newProgress = Math.min((elapsed / delay) * 100, 100);\n      setProgress(newProgress);\n      \n      if (newProgress >= 100) {\n        clearInterval(progressRef.current!);\n      }\n    }, 16);\n\n    // Set main timer\n    timerRef.current = setTimeout(() => {\n      if (hapticFeedback) {\n        // Trigger haptic feedback class\n        const element = document.querySelector(`.${className}`) as HTMLElement;\n        element?.classList.add('luxury-haptic-heavy');\n        setTimeout(() => element?.classList.remove('luxury-haptic-heavy'), 200);\n      }\n      onLongPress();\n      endPress();\n    }, delay);\n  }, [onLongPress, delay, hapticFeedback, className]);\n\n  const endPress = useCallback(() => {\n    if (timerRef.current) {\n      clearTimeout(timerRef.current);\n      timerRef.current = undefined;\n    }\n    if (progressRef.current) {\n      clearInterval(progressRef.current);\n      progressRef.current = undefined;\n    }\n    setIsPressed(false);\n    setProgress(0);\n  }, []);\n\n  useEffect(() => {\n    return () => {\n      if (timerRef.current) clearTimeout(timerRef.current);\n      if (progressRef.current) clearInterval(progressRef.current);\n    };\n  }, []);\n\n  return (\n    <div\n      className={`relative ${className}`}\n      onMouseDown={startPress}\n      onMouseUp={endPress}\n      onMouseLeave={endPress}\n      onTouchStart={startPress}\n      onTouchEnd={endPress}\n      onTouchCancel={endPress}\n    >\n      {children}\n      {isPressed && (\n        <motion.div\n          className=\"absolute inset-0 border-2 border-red-500 rounded-lg pointer-events-none\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n        >\n          <div\n            className=\"absolute bottom-0 left-0 h-1 bg-red-500 transition-all duration-75 ease-linear\"\n            style={{ width: `${progress}%` }}\n          />\n        </motion.div>\n      )}\n    </div>\n  );\n}\n\n// Premium Floating Action Button with Lusophone theming\ninterface LuxuryFABProps {\n  icon: React.ReactNode;\n  onClick: () => void;\n  variant?: 'primary' | 'secondary';\n  size?: 'small' | 'medium' | 'large';\n  className?: string;\n  tooltip?: string;\n  badge?: number;\n}\n\nexport function LuxuryFAB({\n  icon,\n  onClick,\n  variant = 'primary',\n  size = 'medium',\n  className = '',\n  tooltip,\n  badge\n}: LuxuryFABProps) {\n  const [isHovered, setIsHovered] = useState(false);\n\n  const sizeClasses = {\n    small: 'w-12 h-12',\n    medium: 'w-16 h-16',\n    large: 'w-20 h-20'\n  };\n\n  const variantClasses = {\n    primary: 'bg-gradient-to-br from-red-600 to-red-700 text-white shadow-lg hover:shadow-xl',\n    secondary: 'bg-white text-red-600 shadow-lg hover:shadow-xl border-2 border-red-100'\n  };\n\n  return (\n    <LuxuryRipple\n      onClick={onClick}\n      className={`luxury-fab ${sizeClasses[size]} ${variantClasses[variant]} ${className}`}\n      hapticFeedback=\"medium\"\n    >\n      <motion.div\n        className=\"relative flex items-center justify-center w-full h-full\"\n        whileHover={{ scale: 1.05, rotate: 5 }}\n        whileTap={{ scale: 0.95 }}\n        onHoverStart={() => setIsHovered(true)}\n        onHoverEnd={() => setIsHovered(false)}\n      >\n        <motion.div\n          animate={{ rotate: isHovered ? 15 : 0 }}\n          transition={{ type: \"spring\", stiffness: 300 }}\n        >\n          {icon}\n        </motion.div>\n        \n        {badge && badge > 0 && (\n          <motion.div\n            className=\"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center\"\n            initial={{ scale: 0 }}\n            animate={{ scale: 1 }}\n            transition={{ type: \"spring\", stiffness: 500 }}\n          >\n            {badge > 99 ? '99+' : badge}\n          </motion.div>\n        )}\n        \n        {tooltip && isHovered && (\n          <motion.div\n            className=\"absolute bottom-full mb-2 px-3 py-1 bg-black text-white text-sm rounded-lg whitespace-nowrap\"\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: 10 }}\n          >\n            {tooltip}\n            <div className=\"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-black\" />\n          </motion.div>\n        )}\n      </motion.div>\n    </LuxuryRipple>\n  );\n}\n\n// Premium Modal with luxury animations\ninterface LuxuryModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  children: React.ReactNode;\n  title?: string;\n  size?: 'small' | 'medium' | 'large' | 'fullscreen';\n  showCloseButton?: boolean;\n  className?: string;\n}\n\nexport function LuxuryModal({\n  isOpen,\n  onClose,\n  children,\n  title,\n  size = 'medium',\n  showCloseButton = true,\n  className = ''\n}: LuxuryModalProps) {\n  const sizeClasses = {\n    small: 'max-w-md',\n    medium: 'max-w-2xl',\n    large: 'max-w-4xl',\n    fullscreen: 'max-w-[95vw] max-h-[95vh]'\n  };\n\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <motion.div\n          className=\"luxury-modal-overlay\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          onClick={onClose}\n        >\n          <motion.div\n            className={`luxury-modal-content ${sizeClasses[size]} ${className}`}\n            initial={{ scale: 0.9, opacity: 0, y: 20 }}\n            animate={{ scale: 1, opacity: 1, y: 0 }}\n            exit={{ scale: 0.9, opacity: 0, y: 20 }}\n            transition={{ type: \"spring\", stiffness: 300, damping: 25 }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            {title && (\n              <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n                <h2 className=\"text-xl font-bold text-gray-900\">{title}</h2>\n                {showCloseButton && (\n                  <LuxuryRipple onClick={onClose} className=\"p-3 rounded-full hover:bg-gray-100 min-w-[44px] min-h-[44px] flex items-center justify-center\" aria-label=\"Close modal\">\n                    <svg className=\"w-6 h-6 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                    </svg>\n                  </LuxuryRipple>\n                )}\n              </div>\n            )}\n            <div className=\"p-6\">\n              {children}\n            </div>\n          </motion.div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n\nexport default {\n  LuxuryRipple,\n  LuxurySwipe,\n  LuxuryPullToRefresh,\n  LuxuryLongPress,\n  LuxuryFAB,\n  LuxuryModal\n};"],"names":["LuxuryFAB","LuxuryLongPress","LuxuryModal","LuxuryPullToRefresh","LuxuryRipple","LuxurySwipe","children","className","disabled","rippleColor","onClick","hapticFeedback","rest","ripples","setRipples","useState","rippleRef","useRef","triggerHaptic","useCallback","type","current","classList","add","setTimeout","remove","createRipple","event","rect","getBoundingClientRect","clientX","touches","clientY","x","left","y","top","size","Math","max","width","height","newRipple","id","Date","now","random","prev","filter","ripple","div","ref","onMouseDown","onTouchStart","map","motion","style","backgroundColor","initial","scale","opacity","animate","transition","duration","ease","onSwipeLeft","onSwipeRight","onSwipeUp","onSwipeDown","swipeThreshold","isPressed","setIsPressed","dragStart","setDragStart","dragX","useSpring","stiffness","damping","dragY","useTransform","handleDragStart","handleDragEnd","changedTouches","deltaX","deltaY","set","abs","handleDrag","cursor","onMouseMove","onMouseUp","onMouseLeave","onTouchMove","onTouchEnd","whileTap","onRefresh","threshold","isRefreshing","setIsRefreshing","pullDistance","setPullDistance","startY","setStartY","canPull","setCanPull","refreshY","refreshOpacity","refreshRotation","handleTouchStart","e","scrollTop","window","pageYOffset","document","documentElement","handleTouchMove","currentY","distance","preventDefault","dampedDistance","min","handleTouchEnd","useEffect","rotate","svg","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","path","d","span","onLongPress","delay","progress","setProgress","timerRef","progressRef","startPress","startTime","setInterval","elapsed","newProgress","clearInterval","element","querySelector","endPress","clearTimeout","undefined","onTouchCancel","exit","icon","variant","tooltip","badge","isHovered","setIsHovered","sizeClasses","small","medium","large","variantClasses","primary","secondary","whileHover","onHoverStart","onHoverEnd","isOpen","onClose","title","showCloseButton","fullscreen","AnimatePresence","stopPropagation","h2","aria-label"],"mappings":"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"}