{"version":3,"sources":["/workspaces/LusoTown/web-app/src/config/portuguese-language-learning.ts"],"sourcesContent":["/**\n * Advanced Portuguese Language Learning System\n * Comprehensive language assistance with cultural context\n * Supports all Portuguese variants and cultural nuances\n      {\n        feature: \"Closed 'e' and 'o'\",\n        description: {\n          pt: \"Sons de 'e' e 'o' mais fechados que no Brasil\",\n          en: \"Sounds of 'e' and 'o' more closed than in Brazil\"\n        },\n        examples: ['sede [\\u02c8sed\\u0268]', 'novo [\\u02c8novu]']\n      }\n    en: string\n  }\n  level: 'A1' | 'A2' | 'B1' | 'B2' | 'C1' | 'C2'\n  category: 'grammar' | 'vocabulary' | 'pronunciation' | 'culture' | 'conversation' | 'business'\n  duration: number // minutes\n  exercises: LanguageExercise[]\n  culturalNotes: CulturalNote[]\n  assessmentCriteria: AssessmentCriteria[]\n}\n\nexport interface LanguageExercise {\n  id: string\n  type: 'pronunciation' | 'translation' | 'conversation' | 'listening' | 'cultural_context'\n  prompt: {\n    pt: string\n    en: string\n  }\n  content: any\n  difficulty: number // 0-1\n  culturalRelevance: number // 0-1\n  feedback: {\n    correct: { pt: string; en: string }\n    incorrect: { pt: string; en: string }\n    cultural: { pt: string; en: string }\n  }\n}\n\nexport interface CulturalNote {\n  id: string\n  topic: string\n  explanation: {\n    pt: string\n    en: string\n  }\n  examples: string[]\n  regions: string[]\n  significance: string\n}\n\nexport interface AssessmentCriteria {\n  skill: 'pronunciation' | 'grammar' | 'vocabulary' | 'cultural_understanding' | 'fluency'\n  weight: number\n  description: {\n    pt: string\n    en: string\n  }\n}\n\nexport interface PronunciationGuide {\n  phoneme: string\n  ipa: string\n  description: {\n    pt: string\n    en: string\n  }\n  examples: {\n    word: string\n    ipa: string\n    meaning: {\n      pt: string\n      en: string\n    }\n    audioHint: string\n  }[]\n  commonMistakes: {\n    mistake: string\n    correction: string\n    explanation: {\n      pt: string\n      en: string\n    }\n  }[]\n  regions: string[]\n}\n\nexport interface PortugueseDialect {\n  id: string\n  name: {\n    pt: string\n    en: string\n  }\n  region: string\n  country: string\n  characteristics: {\n    pt: string\n    en: string\n  }\n  pronunciation: {\n    feature: string\n    description: {\n      pt: string\n      en: string\n    }\n    examples: string[]\n  }[]\n  vocabulary: {\n    standard: string\n    regional: string\n    meaning: {\n      pt: string\n      en: string\n    }\n  }[]\n  culturalContext: {\n    pt: string\n    en: string\n  }\n}\n\n/**\n * Comprehensive Language Learning Modules\n */\nexport const LANGUAGE_LEARNING_MODULES: LanguageLessonModule[] = [\n  {\n    id: \"saudade-emotions\",\n    title: {\n      pt: \"Saudade e Expressões Emocionais\",\n      en: \"Saudade and Emotional Expressions\",\n    },\n    level: \"B1\",\n    category: \"culture\",\n    duration: 30,\n    exercises: [\n      {\n        id: \"saudade-meaning\",\n        type: \"cultural_context\",\n        prompt: {\n          pt: \"Como explicarias saudade a alguém que nunca ouviu esta palavra?\",\n          en: \"How would you explain saudade to someone who has never heard this word?\",\n        },\n        content: {\n          scenarios: [\n            \"Missing family while living abroad\",\n            \"Remembering childhood memories\",\n            \"Longing for a homeland you may never see again\",\n            \"Love for someone who is no longer present\",\n          ],\n        },\n        difficulty: 0.7,\n        culturalRelevance: 1.0,\n        feedback: {\n          correct: {\n            pt: \"Excelente! Captaste a essência complexa da saudade.\",\n            en: \"Excellent! You captured the complex essence of saudade.\",\n          },\n          incorrect: {\n            pt: 'A saudade é mais complexa que apenas \"miss\". Inclui beleza na melancolia.',\n            en: 'Saudade is more complex than just \"miss\". It includes beauty in melancholy.',\n          },\n          cultural: {\n            pt: \"A saudade define a alma portuguesa - é dor e beleza simultaneamente.\",\n            en: \"Saudade defines the Portuguese soul - it is pain and beauty simultaneously.\",\n          },\n        },\n      },\n      {\n        id: \"saudade-expressions\",\n        type: \"conversation\",\n        prompt: {\n          pt: \"Pratica expressões com saudade em contexto natural\",\n          en: \"Practice saudade expressions in natural context\",\n        },\n        content: {\n          dialogues: [\n            {\n              context: \"Talking to family back home\",\n              portuguese:\n                \"Tenho tantas saudades vossas! Quando é que nos vemos?\",\n              english: \"I miss you all so much! When will we see each other?\",\n              response_options: [\n                \"Também temos saudades tuas, filho.\",\n                \"Vem cá nas férias para matar saudades.\",\n                \"As saudades são mútuas!\",\n              ],\n            },\n          ],\n        },\n        difficulty: 0.6,\n        culturalRelevance: 0.9,\n        feedback: {\n          correct: {\n            pt: \"Perfeito! Usaste saudade com naturalidade.\",\n            en: \"Perfect! You used saudade naturally.\",\n          },\n          incorrect: {\n            pt: 'Experimenta: \"Tenho saudades\" é mais natural que \"sinto saudade\".',\n            en: 'Try: \"Tenho saudades\" is more natural than \"sinto saudade\".',\n          },\n          cultural: {\n            pt: \"Os portugueses usam saudade constantemente nas conversas familiares.\",\n            en: \"Portuguese people use saudade constantly in family conversations.\",\n          },\n        },\n      },\n    ],\n    culturalNotes: [\n      {\n        id: \"saudade-philosophy\",\n        topic: \"Saudade as Portuguese Philosophy\",\n        explanation: {\n          pt: \"Saudade é mais que uma emoção - é uma forma de estar no mundo. Representa a capacidade portuguesa de encontrar beleza na ausência.\",\n          en: \"Saudade is more than an emotion - it's a way of being in the world. It represents the Portuguese ability to find beauty in absence.\",\n        },\n        examples: [\n          \"Fado music expressing saudade through song\",\n          \"Literature exploring themes of longing and memory\",\n          \"Diaspora communities maintaining cultural identity through saudade\",\n        ],\n        regions: [\"Portugal\", \"Brazil\", \"All Lusophone Nations\"],\n        significance: \"Central to Portuguese cultural identity and expression\",\n      },\n    ],\n    assessmentCriteria: [\n      {\n        skill: \"cultural_understanding\",\n        weight: 0.4,\n        description: {\n          pt: \"Compreende a profundidade cultural da saudade\",\n          en: \"Understands the cultural depth of saudade\",\n        },\n      },\n      {\n        skill: \"vocabulary\",\n        weight: 0.3,\n        description: {\n          pt: \"Usa expressões com saudade corretamente\",\n          en: \"Uses saudade expressions correctly\",\n        },\n      },\n      {\n        skill: \"pronunciation\",\n        weight: 0.3,\n        description: {\n          pt: \"Pronuncia saudade com naturalidade\",\n          en: \"Pronounces saudade naturally\",\n        },\n      },\n    ],\n  },\n  {\n    id: \"business-portuguese\",\n    title: {\n      pt: \"Português para Negócios\",\n      en: \"Business Portuguese\",\n    },\n    level: \"B2\",\n    category: \"business\",\n    duration: 45,\n    exercises: [\n      {\n        id: \"networking-phrases\",\n        type: \"conversation\",\n        prompt: {\n          pt: \"Pratica conversas de networking em ambiente empresarial\",\n          en: \"Practice networking conversations in business environment\",\n        },\n        content: {\n          scenarios: [\n            {\n              situation: \"Meeting a potential business partner\",\n              formal: {\n                pt: \"É um prazer conhecê-lo. Posso apresentar-me? Sou...\",\n                en: \"It's a pleasure to meet you. May I introduce myself? I'm...\",\n              },\n              cultural_tip: {\n                pt: \"Em Portugal, cumprimentos são importantes. Sempre um aperto de mão firme.\",\n                en: \"In Portugal, greetings are important. Always a firm handshake.\",\n              },\n            },\n          ],\n        },\n        difficulty: 0.7,\n        culturalRelevance: 0.8,\n        feedback: {\n          correct: {\n            pt: \"Excelente! Mostras profissionalismo e cortesia portuguesa.\",\n            en: \"Excellent! You show professionalism and Portuguese courtesy.\",\n          },\n          incorrect: {\n            pt: \"Lembra-te: negócios portugueses valorizam relacionamentos pessoais primeiro.\",\n            en: \"Remember: Portuguese business values personal relationships first.\",\n          },\n          cultural: {\n            pt: 'O \"desenrascanço\" português significa criatividade na resolução de problemas.',\n            en: 'Portuguese \"desenrascanço\" means creativity in problem-solving.',\n          },\n        },\n      },\n    ],\n    culturalNotes: [\n      {\n        id: \"business-culture\",\n        topic: \"Portuguese Business Culture\",\n        explanation: {\n          pt: 'A cultura empresarial portuguesa valoriza relacionamentos pessoais, confiança mútua e o famoso \"desenrascanço\" - a habilidade de resolver problemas criativamente.',\n          en: 'Portuguese business culture values personal relationships, mutual trust, and the famous \"desenrascanço\" - the ability to solve problems creatively.',\n        },\n        examples: [\n          \"Long lunches to build relationships\",\n          \"Personal conversation before business discussion\",\n          \"Creative problem-solving approaches\",\n        ],\n        regions: [\n          \"Portugal\",\n          \"Portuguese-speaking business communities globally\",\n        ],\n        significance:\n          \"Essential for successful business relationships with Portuguese speakers\",\n      },\n    ],\n    assessmentCriteria: [\n      {\n        skill: \"vocabulary\",\n        weight: 0.35,\n        description: {\n          pt: \"Domina vocabulário empresarial português\",\n          en: \"Masters Portuguese business vocabulary\",\n        },\n      },\n      {\n        skill: \"cultural_understanding\",\n        weight: 0.35,\n        description: {\n          pt: \"Compreende etiqueta empresarial portuguesa\",\n          en: \"Understands Portuguese business etiquette\",\n        },\n      },\n      {\n        skill: \"fluency\",\n        weight: 0.3,\n        description: {\n          pt: \"Comunica eficazmente em contexto empresarial\",\n          en: \"Communicates effectively in business context\",\n        },\n      },\n    ],\n  },\n  {\n    id: \"regional-pronunciation\",\n    title: {\n      pt: \"Sotaques e Pronuncia Regional\",\n      en: \"Regional Accents and Pronunciation\",\n    },\n    level: \"C1\",\n    category: \"pronunciation\",\n    duration: 60,\n    exercises: [\n      {\n        id: \"regional-differences\",\n        type: \"pronunciation\",\n        prompt: {\n          pt: \"Reconhece e pratica diferentes sotaques do português\",\n          en: \"Recognize and practice different Portuguese accents\",\n        },\n        content: {\n          regions: [\n            {\n              region: \"Porto/Norte\",\n              characteristics: 'Closed vowels, distinct \"v\" pronunciation',\n              examples: [\"verde [ˈveɾdə]\", \"vinho [ˈviɲu]\"],\n            },\n            {\n              region: \"Lisboa\",\n              characteristics: \"Open vowels, softer consonants\",\n              examples: [\"verde [ˈveɾdɨ]\", \"Lisboa [liʒˈboɐ]\"],\n            },\n            {\n              region: \"Brasil\",\n              characteristics: \"Clear vowels, different r sounds\",\n              examples: [\"verde [ˈveɾdi]\", \"carro [ˈkaʁu]\"],\n            },\n          ],\n        },\n        difficulty: 0.9,\n        culturalRelevance: 0.8,\n        feedback: {\n          correct: {\n            pt: \"Fantástico! Reconheces as nuances regionais do português.\",\n            en: \"Fantastic! You recognize Portuguese regional nuances.\",\n          },\n          incorrect: {\n            pt: 'Cada região tem a sua beleza. Não há sotaque \"correto\" - há diversidade!',\n            en: \"Each region has its beauty. There's no \\\"correct\\\" accent - there's diversity!\",\n          },\n          cultural: {\n            pt: \"A diversidade de sotaques enriquece a língua portuguesa.\",\n            en: \"The diversity of accents enriches the Portuguese language.\",\n          },\n        },\n      },\n    ],\n    culturalNotes: [\n      {\n        id: \"accent-appreciation\",\n        topic: \"Regional Accent Appreciation\",\n        explanation: {\n          pt: \"Cada região do mundo lusófono tem as suas características linguísticas únicas. Esta diversidade é uma riqueza, não uma dificuldade.\",\n          en: \"Each region of the Portuguese-speaking world has its unique linguistic characteristics. This diversity is wealth, not difficulty.\",\n        },\n        examples: [\n          'Northern Portuguese \"tu\" vs Southern \"você\"',\n          \"Brazilian clear vowels vs Portuguese reduced vowels\",\n          \"African Portuguese influences from local languages\",\n        ],\n        regions: [\"All Lusophone regions\"],\n        significance:\n          \"Understanding regional variation helps communication across Portuguese-speaking communities\",\n      },\n    ],\n    assessmentCriteria: [\n      {\n        skill: \"pronunciation\",\n        weight: 0.5,\n        description: {\n          pt: \"Reconhece e reproduz sotaques regionais\",\n          en: \"Recognizes and reproduces regional accents\",\n        },\n      },\n      {\n        skill: \"cultural_understanding\",\n        weight: 0.3,\n        description: {\n          pt: \"Aprecia diversidade linguística lusófona\",\n          en: \"Appreciates Lusophone linguistic diversity\",\n        },\n      },\n      {\n        skill: \"fluency\",\n        weight: 0.2,\n        description: {\n          pt: \"Adapta-se a diferentes sotaques na conversação\",\n          en: \"Adapts to different accents in conversation\",\n        },\n      },\n    ],\n  },\n];\n\n/**\n * Advanced Pronunciation Guides\n */\nexport const PRONUNCIATION_GUIDES: PronunciationGuide[] = [\n  {\n    phoneme: \"ão\",\n    ipa: \"/ɐ̃w̃/\",\n    description: {\n      pt: \"Ditongo nasal característico do português, inexistente noutras línguas\",\n      en: \"Characteristic Portuguese nasal diphthong, non-existent in other languages\",\n    },\n    examples: [\n      {\n        word: \"coração\",\n        ipa: \"/kuɾɐˈsɐ̃w̃/\",\n        meaning: {\n          pt: \"coração (órgão que bombeia sangue)\",\n          en: \"heart (organ that pumps blood)\",\n        },\n        audioHint:\n          'Start with \"ah\" sound, add nasal quality, end with \"oo\" lip position',\n      },\n      {\n        word: \"pão\",\n        ipa: \"/ˈpɐ̃w̃/\",\n        meaning: {\n          pt: \"pão (alimento básico)\",\n          en: \"bread (basic food)\",\n        },\n        audioHint: 'Quick \"pah-oong\" with nasal resonance',\n      },\n    ],\n    commonMistakes: [\n      {\n        mistake: \"Pronouncing as two separate sounds /a/ + /o/\",\n        correction: \"Single flowing nasal diphthong /ɐ̃w̃/\",\n        explanation: {\n          pt: \"É um som único, não dois sons separados. A nasalidade é fundamental.\",\n          en: \"It's a single sound, not two separate sounds. Nasality is fundamental.\",\n        },\n      },\n    ],\n    regions: [\"Portugal\", \"Brazil\", \"All Lusophone nations\"],\n  },\n  {\n    phoneme: \"lh\",\n    ipa: \"/ʎ/\",\n    description: {\n      pt: 'Lateral palatal, som semelhante ao \"lli\" em italiano',\n      en: 'Palatal lateral, sound similar to \"lli\" in Italian',\n    },\n    examples: [\n      {\n        word: \"família\",\n        ipa: \"/fɐˈmiʎɐ/\",\n        meaning: {\n          pt: \"família (grupo de parentes)\",\n          en: \"family (group of relatives)\",\n        },\n        audioHint:\n          'Tongue touches roof of mouth, \"ly\" sound with more palatal contact',\n      },\n      {\n        word: \"trabalho\",\n        ipa: \"/tɾɐˈbaʎu/\",\n        meaning: {\n          pt: \"trabalho (atividade laboral)\",\n          en: \"work (labor activity)\",\n        },\n        audioHint: 'Strong \"ly\" with tongue pressed against palate',\n      },\n    ],\n    commonMistakes: [\n      {\n        mistake: \"Pronouncing as separate /l/ + /i/ sounds\",\n        correction: \"Single palatalized /ʎ/ sound\",\n        explanation: {\n          pt: \"A língua deve tocar o céu da boca num movimento único.\",\n          en: \"The tongue should touch the roof of the mouth in a single movement.\",\n        },\n      },\n    ],\n    regions: [\"Portugal\", \"Brazil (varies by region)\", \"All Lusophone nations\"],\n  },\n];\n\n/**\n * Portuguese Dialect Variations\n */\nexport const PORTUGUESE_DIALECTS: PortugueseDialect[] = [\n  {\n    id: \"european-portuguese\",\n    name: {\n      pt: \"Português Europeu\",\n      en: \"European Portuguese\",\n    },\n    region: \"Portugal Continental\",\n    country: \"Portugal\",\n    characteristics: {\n      pt: \"Vogais reduzidas, consoantes mais fechadas, ritmo mais rápido\",\n      en: \"Reduced vowels, closed consonants, faster rhythm\",\n    },\n    pronunciation: [\n      {\n        feature: \"Vowel Reduction\",\n        description: {\n          pt: \"Vogais átonas são reduzidas ou eliminadas\",\n          en: \"Unstressed vowels are reduced or eliminated\",\n        },\n        examples: [\"menino [mɨˈninu]\", \"telefone [tɨlɨˈfonɨ]\"],\n      },\n      {\n        feature: \"Closed 'e' and 'o'\",\n        description: {\n          pt: \"Sons de 'e' e 'o' mais fechados que no Brasil\",\n          en: \"Sounds of 'e' and 'o' more closed than in Brazil\",\n        },\n        examples: [\"sede [ˈsedɨ]\", \"novo [ˈnovu]\"],\n      },\n    ],\n    vocabulary: [\n      {\n        standard: \"autocarro\",\n        regional: \"bus\",\n        meaning: {\n          pt: \"veículo de transporte público\",\n          en: \"public transport vehicle\",\n        },\n      },\n      {\n        standard: \"telemóvel\",\n        regional: \"mobile phone\",\n        meaning: {\n          pt: \"telefone portátil\",\n          en: \"portable phone\",\n        },\n      },\n    ],\n    culturalContext: {\n      pt: \"Reflete a história europeia e influências mediterrânicas de Portugal\",\n      en: \"Reflects European history and Mediterranean influences of Portugal\",\n    },\n  },\n  {\n    id: \"brazilian-portuguese\",\n    name: {\n      pt: \"Português Brasileiro\",\n      en: \"Brazilian Portuguese\",\n    },\n    region: \"Brasil\",\n    country: \"Brazil\",\n    characteristics: {\n      pt: \"Vogais abertas e claras, ritmo mais lento, entonação musical\",\n      en: \"Open and clear vowels, slower rhythm, musical intonation\",\n    },\n    pronunciation: [\n      {\n        feature: \"Clear Vowels\",\n        description: {\n          pt: \"Todas as vogais são pronunciadas claramente\",\n          en: \"All vowels are pronounced clearly\",\n        },\n        examples: [\"menino [meˈninu]\", \"telefone [teleˈfoni]\"],\n      },\n      {\n        feature: \"Different R sounds\",\n        description: {\n          pt: \"R forte pronunciado como fricativa uvular\",\n          en: \"Strong R pronounced as uvular fricative\",\n        },\n        examples: [\"carro [ˈkaʁu]\", \"rato [ˈʁatu]\"],\n      },\n    ],\n    vocabulary: [\n      {\n        standard: \"ônibus\",\n        regional: \"bus\",\n        meaning: {\n          pt: \"veículo de transporte público\",\n          en: \"public transport vehicle\",\n        },\n      },\n      {\n        standard: \"celular\",\n        regional: \"mobile phone\",\n        meaning: {\n          pt: \"telefone portátil\",\n          en: \"portable phone\",\n        },\n      },\n    ],\n    culturalContext: {\n      pt: \"Influenciado por línguas indígenas, africanas e diversidade regional brasileira\",\n      en: \"Influenced by indigenous, African languages and Brazilian regional diversity\",\n    },\n  },\n];\n\n/**\n * Language Learning Helper Functions\n */\nexport function getModuleByLevel(\n  level: LanguageLessonModule[\"level\"]\n): LanguageLessonModule[] {\n  return LANGUAGE_LEARNING_MODULES.filter((module) => module.level === level);\n}\n\nexport function getModuleByCategory(\n  category: LanguageLessonModule[\"category\"]\n): LanguageLessonModule[] {\n  return LANGUAGE_LEARNING_MODULES.filter(\n    (module) => module.category === category\n  );\n}\n\nexport function findPronunciationGuide(\n  phoneme: string\n): PronunciationGuide | null {\n  return (\n    PRONUNCIATION_GUIDES.find(\n      (guide) =>\n        guide.phoneme === phoneme ||\n        guide.examples.some((example) => example.word.includes(phoneme))\n    ) || null\n  );\n}\n\nexport function getDialectInfo(region: string): PortugueseDialect | null {\n  return (\n    PORTUGUESE_DIALECTS.find(\n      (dialect) =>\n        dialect.region.toLowerCase().includes(region.toLowerCase()) ||\n        dialect.country.toLowerCase().includes(region.toLowerCase())\n    ) || null\n  );\n}\n\nexport function generatePersonalizedLesson(\n  userLevel: LanguageLessonModule[\"level\"],\n  interests: string[],\n  culturalBackground: string\n): LanguageLessonModule | null {\n  const availableModules = LANGUAGE_LEARNING_MODULES.filter(\n    (module) =>\n      module.level === userLevel ||\n      interests.some((interest) =>\n        module.category.includes(interest.toLowerCase())\n      ) ||\n      module.culturalNotes.some((note) =>\n        note.regions.some((region) =>\n          region.toLowerCase().includes(culturalBackground.toLowerCase())\n        )\n      )\n  );\n\n  if (availableModules.length === 0) return null;\n\n  // Return the module with highest cultural relevance\n  return availableModules.reduce((best, current) =>\n    current.exercises.reduce((sum, ex) => sum + ex.culturalRelevance, 0) >\n    best.exercises.reduce((sum, ex) => sum + ex.culturalRelevance, 0)\n      ? current\n      : best\n  );\n}\n\nexport function assessPronunciation(\n  userInput: string,\n  targetWord: string,\n  dialect: string = \"european\"\n): {\n  accuracy: number;\n  feedback: { pt: string; en: string };\n  improvements: string[];\n} {\n  // This would integrate with speech recognition in a full implementation\n  // For now, provide structured feedback framework\n\n  const dialectInfo = getDialectInfo(dialect);\n  const pronunciationGuide = PRONUNCIATION_GUIDES.find((guide) =>\n    guide.examples.some((example) => example.word === targetWord)\n  );\n\n  return {\n    accuracy: 0.8, // Placeholder - would be calculated by speech recognition\n    feedback: {\n      pt: pronunciationGuide\n        ? `Boa pronunciação! Lembra-te que ${pronunciationGuide.description.pt}`\n        : \"Continue a praticar a pronunciação!\",\n      en: pronunciationGuide\n        ? `Good pronunciation! Remember that ${pronunciationGuide.description.en}`\n        : \"Keep practicing your pronunciation!\",\n    },\n    improvements:\n      pronunciationGuide?.commonMistakes.map((mistake) => mistake.correction) ||\n      [],\n  };\n}\n\nexport function getCulturalContext(word: string, language: Language): string {\n  const modules = LANGUAGE_LEARNING_MODULES.filter((module) =>\n    module.exercises.some(\n      (ex) =>\n        ex.content &&\n        JSON.stringify(ex.content).toLowerCase().includes(word.toLowerCase())\n    )\n  );\n\n  if (modules.length === 0) return \"\";\n\n  const culturalNotes = modules.flatMap((m) => m.culturalNotes);\n  const relevantNote = culturalNotes.find((note) =>\n    note.examples.some((example) =>\n      example.toLowerCase().includes(word.toLowerCase())\n    )\n  );\n\n  return relevantNote ? relevantNote.explanation[language] : \"\";\n}\n"],"names":["LANGUAGE_LEARNING_MODULES","PORTUGUESE_DIALECTS","PRONUNCIATION_GUIDES","assessPronunciation","findPronunciationGuide","generatePersonalizedLesson","getCulturalContext","getDialectInfo","getModuleByCategory","getModuleByLevel","id","title","pt","en","level","category","duration","exercises","type","prompt","content","scenarios","difficulty","culturalRelevance","feedback","correct","incorrect","cultural","dialogues","context","portuguese","english","response_options","culturalNotes","topic","explanation","examples","regions","significance","assessmentCriteria","skill","weight","description","situation","formal","cultural_tip","region","characteristics","phoneme","ipa","word","meaning","audioHint","commonMistakes","mistake","correction","name","country","pronunciation","feature","vocabulary","standard","regional","culturalContext","filter","module","find","guide","some","example","includes","dialect","toLowerCase","userLevel","interests","culturalBackground","availableModules","interest","note","length","reduce","best","current","sum","ex","userInput","targetWord","dialectInfo","pronunciationGuide","accuracy","improvements","map","language","modules","JSON","stringify","flatMap","m","relevantNote"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA2HC;;;;;;;;;;;IACYA,yBAAyB;eAAzBA;;IA+ZAC,mBAAmB;eAAnBA;;IAtFAC,oBAAoB;eAApBA;;IAuQGC,mBAAmB;eAAnBA;;IAnDAC,sBAAsB;eAAtBA;;IAsBAC,0BAA0B;eAA1BA;;IA8DAC,kBAAkB;eAAlBA;;IAxEAC,cAAc;eAAdA;;IApBAC,mBAAmB;eAAnBA;;IANAC,gBAAgB;eAAhBA;;;AA/gBT,MAAMT,4BAAoD;IAC/D;QACEU,IAAI;QACJC,OAAO;YACLC,IAAI;YACJC,IAAI;QACN;QACAC,OAAO;QACPC,UAAU;QACVC,UAAU;QACVC,WAAW;YACT;gBACEP,IAAI;gBACJQ,MAAM;gBACNC,QAAQ;oBACNP,IAAI;oBACJC,IAAI;gBACN;gBACAO,SAAS;oBACPC,WAAW;wBACT;wBACA;wBACA;wBACA;qBACD;gBACH;gBACAC,YAAY;gBACZC,mBAAmB;gBACnBC,UAAU;oBACRC,SAAS;wBACPb,IAAI;wBACJC,IAAI;oBACN;oBACAa,WAAW;wBACTd,IAAI;wBACJC,IAAI;oBACN;oBACAc,UAAU;wBACRf,IAAI;wBACJC,IAAI;oBACN;gBACF;YACF;YACA;gBACEH,IAAI;gBACJQ,MAAM;gBACNC,QAAQ;oBACNP,IAAI;oBACJC,IAAI;gBACN;gBACAO,SAAS;oBACPQ,WAAW;wBACT;4BACEC,SAAS;4BACTC,YACE;4BACFC,SAAS;4BACTC,kBAAkB;gCAChB;gCACA;gCACA;6BACD;wBACH;qBACD;gBACH;gBACAV,YAAY;gBACZC,mBAAmB;gBACnBC,UAAU;oBACRC,SAAS;wBACPb,IAAI;wBACJC,IAAI;oBACN;oBACAa,WAAW;wBACTd,IAAI;wBACJC,IAAI;oBACN;oBACAc,UAAU;wBACRf,IAAI;wBACJC,IAAI;oBACN;gBACF;YACF;SACD;QACDoB,eAAe;YACb;gBACEvB,IAAI;gBACJwB,OAAO;gBACPC,aAAa;oBACXvB,IAAI;oBACJC,IAAI;gBACN;gBACAuB,UAAU;oBACR;oBACA;oBACA;iBACD;gBACDC,SAAS;oBAAC;oBAAY;oBAAU;iBAAwB;gBACxDC,cAAc;YAChB;SACD;QACDC,oBAAoB;YAClB;gBACEC,OAAO;gBACPC,QAAQ;gBACRC,aAAa;oBACX9B,IAAI;oBACJC,IAAI;gBACN;YACF;YACA;gBACE2B,OAAO;gBACPC,QAAQ;gBACRC,aAAa;oBACX9B,IAAI;oBACJC,IAAI;gBACN;YACF;YACA;gBACE2B,OAAO;gBACPC,QAAQ;gBACRC,aAAa;oBACX9B,IAAI;oBACJC,IAAI;gBACN;YACF;SACD;IACH;IACA;QACEH,IAAI;QACJC,OAAO;YACLC,IAAI;YACJC,IAAI;QACN;QACAC,OAAO;QACPC,UAAU;QACVC,UAAU;QACVC,WAAW;YACT;gBACEP,IAAI;gBACJQ,MAAM;gBACNC,QAAQ;oBACNP,IAAI;oBACJC,IAAI;gBACN;gBACAO,SAAS;oBACPC,WAAW;wBACT;4BACEsB,WAAW;4BACXC,QAAQ;gCACNhC,IAAI;gCACJC,IAAI;4BACN;4BACAgC,cAAc;gCACZjC,IAAI;gCACJC,IAAI;4BACN;wBACF;qBACD;gBACH;gBACAS,YAAY;gBACZC,mBAAmB;gBACnBC,UAAU;oBACRC,SAAS;wBACPb,IAAI;wBACJC,IAAI;oBACN;oBACAa,WAAW;wBACTd,IAAI;wBACJC,IAAI;oBACN;oBACAc,UAAU;wBACRf,IAAI;wBACJC,IAAI;oBACN;gBACF;YACF;SACD;QACDoB,eAAe;YACb;gBACEvB,IAAI;gBACJwB,OAAO;gBACPC,aAAa;oBACXvB,IAAI;oBACJC,IAAI;gBACN;gBACAuB,UAAU;oBACR;oBACA;oBACA;iBACD;gBACDC,SAAS;oBACP;oBACA;iBACD;gBACDC,cACE;YACJ;SACD;QACDC,oBAAoB;YAClB;gBACEC,OAAO;gBACPC,QAAQ;gBACRC,aAAa;oBACX9B,IAAI;oBACJC,IAAI;gBACN;YACF;YACA;gBACE2B,OAAO;gBACPC,QAAQ;gBACRC,aAAa;oBACX9B,IAAI;oBACJC,IAAI;gBACN;YACF;YACA;gBACE2B,OAAO;gBACPC,QAAQ;gBACRC,aAAa;oBACX9B,IAAI;oBACJC,IAAI;gBACN;YACF;SACD;IACH;IACA;QACEH,IAAI;QACJC,OAAO;YACLC,IAAI;YACJC,IAAI;QACN;QACAC,OAAO;QACPC,UAAU;QACVC,UAAU;QACVC,WAAW;YACT;gBACEP,IAAI;gBACJQ,MAAM;gBACNC,QAAQ;oBACNP,IAAI;oBACJC,IAAI;gBACN;gBACAO,SAAS;oBACPiB,SAAS;wBACP;4BACES,QAAQ;4BACRC,iBAAiB;4BACjBX,UAAU;gCAAC;gCAAkB;6BAAgB;wBAC/C;wBACA;4BACEU,QAAQ;4BACRC,iBAAiB;4BACjBX,UAAU;gCAAC;gCAAkB;6BAAmB;wBAClD;wBACA;4BACEU,QAAQ;4BACRC,iBAAiB;4BACjBX,UAAU;gCAAC;gCAAkB;6BAAgB;wBAC/C;qBACD;gBACH;gBACAd,YAAY;gBACZC,mBAAmB;gBACnBC,UAAU;oBACRC,SAAS;wBACPb,IAAI;wBACJC,IAAI;oBACN;oBACAa,WAAW;wBACTd,IAAI;wBACJC,IAAI;oBACN;oBACAc,UAAU;wBACRf,IAAI;wBACJC,IAAI;oBACN;gBACF;YACF;SACD;QACDoB,eAAe;YACb;gBACEvB,IAAI;gBACJwB,OAAO;gBACPC,aAAa;oBACXvB,IAAI;oBACJC,IAAI;gBACN;gBACAuB,UAAU;oBACR;oBACA;oBACA;iBACD;gBACDC,SAAS;oBAAC;iBAAwB;gBAClCC,cACE;YACJ;SACD;QACDC,oBAAoB;YAClB;gBACEC,OAAO;gBACPC,QAAQ;gBACRC,aAAa;oBACX9B,IAAI;oBACJC,IAAI;gBACN;YACF;YACA;gBACE2B,OAAO;gBACPC,QAAQ;gBACRC,aAAa;oBACX9B,IAAI;oBACJC,IAAI;gBACN;YACF;YACA;gBACE2B,OAAO;gBACPC,QAAQ;gBACRC,aAAa;oBACX9B,IAAI;oBACJC,IAAI;gBACN;YACF;SACD;IACH;CACD;AAKM,MAAMX,uBAA6C;IACxD;QACE8C,SAAS;QACTC,KAAK;QACLP,aAAa;YACX9B,IAAI;YACJC,IAAI;QACN;QACAuB,UAAU;YACR;gBACEc,MAAM;gBACND,KAAK;gBACLE,SAAS;oBACPvC,IAAI;oBACJC,IAAI;gBACN;gBACAuC,WACE;YACJ;YACA;gBACEF,MAAM;gBACND,KAAK;gBACLE,SAAS;oBACPvC,IAAI;oBACJC,IAAI;gBACN;gBACAuC,WAAW;YACb;SACD;QACDC,gBAAgB;YACd;gBACEC,SAAS;gBACTC,YAAY;gBACZpB,aAAa;oBACXvB,IAAI;oBACJC,IAAI;gBACN;YACF;SACD;QACDwB,SAAS;YAAC;YAAY;YAAU;SAAwB;IAC1D;IACA;QACEW,SAAS;QACTC,KAAK;QACLP,aAAa;YACX9B,IAAI;YACJC,IAAI;QACN;QACAuB,UAAU;YACR;gBACEc,MAAM;gBACND,KAAK;gBACLE,SAAS;oBACPvC,IAAI;oBACJC,IAAI;gBACN;gBACAuC,WACE;YACJ;YACA;gBACEF,MAAM;gBACND,KAAK;gBACLE,SAAS;oBACPvC,IAAI;oBACJC,IAAI;gBACN;gBACAuC,WAAW;YACb;SACD;QACDC,gBAAgB;YACd;gBACEC,SAAS;gBACTC,YAAY;gBACZpB,aAAa;oBACXvB,IAAI;oBACJC,IAAI;gBACN;YACF;SACD;QACDwB,SAAS;YAAC;YAAY;YAA6B;SAAwB;IAC7E;CACD;AAKM,MAAMpC,sBAA2C;IACtD;QACES,IAAI;QACJ8C,MAAM;YACJ5C,IAAI;YACJC,IAAI;QACN;QACAiC,QAAQ;QACRW,SAAS;QACTV,iBAAiB;YACfnC,IAAI;YACJC,IAAI;QACN;QACA6C,eAAe;YACb;gBACEC,SAAS;gBACTjB,aAAa;oBACX9B,IAAI;oBACJC,IAAI;gBACN;gBACAuB,UAAU;oBAAC;oBAAoB;iBAAuB;YACxD;YACA;gBACEuB,SAAS;gBACTjB,aAAa;oBACX9B,IAAI;oBACJC,IAAI;gBACN;gBACAuB,UAAU;oBAAC;oBAAgB;iBAAe;YAC5C;SACD;QACDwB,YAAY;YACV;gBACEC,UAAU;gBACVC,UAAU;gBACVX,SAAS;o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"}