38ffbcb691e67cf8791bceb81fae7910
/**
 * Comprehensive Error Tracking System for LusoTown Platform
 * Handles Portuguese community-specific error tracking and monitoring with Sentry integration
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    ErrorTracker: function() {
        return ErrorTracker;
    },
    errorTracker: function() {
        return errorTracker;
    }
});
const _nextjs = /*#__PURE__*/ _interop_require_wildcard(require("@sentry/nextjs"));
const _errormonitoring = require("../../config/error-monitoring");
const _errorHandling = require("../errorHandling");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
class ErrorTracker {
    constructor(){
        this.errorQueue = [];
        this.performanceQueue = [];
        this.errorCounts = new Map();
        this.lastFlush = new Date();
        this.sessionId = this.generateSessionId();
        this.setupErrorCapture();
        this.setupPerformanceCapture();
        this.setupPeriodicFlush();
    }
    generateSessionId() {
        return `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
    }
    setupErrorCapture() {
        if (typeof window === "undefined") return;
        // Capture unhandled errors
        window.addEventListener("error", (event)=>{
            this.trackError({
                message: event.message,
                type: _errorHandling.ErrorType.CLIENT_ERROR,
                severity: _errormonitoring.ERROR_SEVERITY.HIGH,
                context: "unhandled-error",
                stack: event.error?.stack,
                url: event.filename,
                metadata: {
                    lineno: event.lineno,
                    colno: event.colno
                }
            });
        });
        // Capture unhandled promise rejections
        window.addEventListener("unhandledrejection", (event)=>{
            this.trackError({
                message: event.reason?.message || "Unhandled promise rejection",
                type: _errorHandling.ErrorType.CLIENT_ERROR,
                severity: _errormonitoring.ERROR_SEVERITY.HIGH,
                context: "unhandled-rejection",
                stack: event.reason?.stack,
                metadata: {
                    reason: event.reason
                }
            });
        });
    }
    setupPerformanceCapture() {
        if (typeof window === "undefined") return;
        // Capture performance metrics using Performance Observer API
        if ("PerformanceObserver" in window) {
            try {
                const observer = new PerformanceObserver((list)=>{
                    for (const entry of list.getEntries()){
                        if (entry.entryType === "navigation") {
                            this.trackPerformanceMetric({
                                name: "Page Load Time",
                                value: entry.duration,
                                context: "page-navigation"
                            });
                        } else if (entry.entryType === "measure") {
                            this.trackPerformanceMetric({
                                name: entry.name,
                                value: entry.duration,
                                context: "custom-measure"
                            });
                        }
                    }
                });
                observer.observe({
                    entryTypes: [
                        "navigation",
                        "measure"
                    ]
                });
            } catch (error) {
                console.error("Failed to setup performance observer:", error);
            }
        }
    }
    trackError(errorData) {
        const error = {
            id: this.generateErrorId(),
            timestamp: new Date(),
            message: errorData.message || "Unknown error",
            type: errorData.type || _errorHandling.ErrorType.UNKNOWN,
            severity: errorData.severity || _errormonitoring.ERROR_SEVERITY.MEDIUM,
            context: errorData.context || "unknown",
            stack: errorData.stack,
            userAgent: typeof window !== "undefined" ? navigator.userAgent : undefined,
            url: typeof window !== "undefined" ? window.location.href : undefined,
            sessionId: this.sessionId,
            userId: errorData.userId,
            portugueseContext: errorData.portugueseContext,
            metadata: errorData.metadata
        };
        // Send to Sentry with Portuguese community context
        this.sendToSentry(error);
        this.errorQueue.push(error);
        this.updateErrorCounts(error);
        this.checkAlertThresholds(error);
        // Immediate flush for critical errors
        if (error.severity === _errormonitoring.ERROR_SEVERITY.CRITICAL) {
            this.flushErrors();
        }
    }
    trackPerformanceMetric(metricData) {
        const metric = {
            ...metricData,
            timestamp: new Date(),
            exceedsThreshold: metricData.threshold ? metricData.value > metricData.threshold : false
        };
        this.performanceQueue.push(metric);
        // Track performance issues as errors if they exceed thresholds
        if (metric.exceedsThreshold) {
            this.trackError({
                message: `Performance threshold exceeded: ${metric.name} (${metric.value}ms > ${metric.threshold}ms)`,
                type: _errorHandling.ErrorType.CLIENT_ERROR,
                severity: _errormonitoring.ERROR_SEVERITY.MEDIUM,
                context: "performance-degradation",
                metadata: {
                    metric
                }
            });
        }
    }
    generateErrorId() {
        return `err_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
    }
    updateErrorCounts(error) {
        const key = `${error.context}-${error.severity}`;
        const current = this.errorCounts.get(key) || 0;
        this.errorCounts.set(key, current + 1);
    }
    checkAlertThresholds(error) {
        const category = Object.values(_errormonitoring.ERROR_CATEGORIES).find((cat)=>cat.context === error.context);
        if (category) {
            const key = `${error.context}-${error.severity}`;
            const count = this.errorCounts.get(key) || 0;
            if (count >= category.alertThreshold) {
                this.triggerAlert(error, category, count);
            }
        }
    }
    triggerAlert(error, category, count) {
        if (!_errormonitoring.MONITORING_ALERTS.criticalErrors.enabled) return;
        console.error("ALERT TRIGGERED:", {
            category: category.name,
            error: error.message,
            count,
            severity: error.severity,
            context: error.context,
            timestamp: error.timestamp
        });
        // Dispatch custom event for UI notifications
        if (typeof window !== "undefined") {
            window.dispatchEvent(new CustomEvent("lusotown:error-alert", {
                detail: {
                    error,
                    category,
                    count
                }
            }));
        }
    }
    setupPeriodicFlush() {
        // Flush errors and metrics every 5 minutes
        setInterval(()=>{
            this.flushErrors();
            this.flushMetrics();
        }, 5 * 60 * 1000);
        // Flush on page unload
        if (typeof window !== "undefined") {
            window.addEventListener("beforeunload", ()=>{
                this.flushErrors();
                this.flushMetrics();
            });
        }
    }
    async flushErrors() {
        if (this.errorQueue.length === 0) return;
        const errorsToFlush = [
            ...this.errorQueue
        ];
        this.errorQueue = [];
        try {
            if (_errormonitoring.ERROR_MONITORING.enabled && _errormonitoring.ERROR_MONITORING.endpoint) {
                await this.sendToMonitoringService(errorsToFlush, "errors");
            } else {
                console.group("\uD83D\uDEA8 Error Batch:", errorsToFlush.length, "errors");
                errorsToFlush.forEach((error)=>{
                    console.error("Error:", error.message, error);
                });
                console.groupEnd();
            }
        } catch (flushError) {
            console.error("Failed to flush errors:", flushError);
            this.errorQueue.unshift(...errorsToFlush);
        }
    }
    async flushMetrics() {
        if (this.performanceQueue.length === 0) return;
        const metricsToFlush = [
            ...this.performanceQueue
        ];
        this.performanceQueue = [];
        try {
            if (_errormonitoring.ERROR_MONITORING.enabled && _errormonitoring.ERROR_MONITORING.endpoint) {
                await this.sendToMonitoringService(metricsToFlush, "metrics");
            } else {
                console.group("\uD83D\uDCCA Performance Metrics:", metricsToFlush.length, "metrics");
                metricsToFlush.forEach((metric)=>{
                    const status = metric.exceedsThreshold ? "❌" : "✅";
                    console.log(`${status} ${metric.name}: ${metric.value}ms`, metric);
                });
                console.groupEnd();
            }
        } catch (flushError) {
            console.error("Failed to flush metrics:", flushError);
            this.performanceQueue.unshift(...metricsToFlush);
        }
    }
    async sendToMonitoringService(data, type) {
        if (!_errormonitoring.ERROR_MONITORING.endpoint || !_errormonitoring.ERROR_MONITORING.apiKey) return;
        const response = await fetch(_errormonitoring.ERROR_MONITORING.endpoint, {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                "Authorization": `Bearer ${_errormonitoring.ERROR_MONITORING.apiKey}`
            },
            body: JSON.stringify({
                type,
                data,
                environment: _errormonitoring.ERROR_MONITORING.environment,
                timestamp: new Date().toISOString(),
                sessionId: this.sessionId
            })
        });
        if (!response.ok) {
            throw new Error(`Failed to send ${type} to monitoring service: ${response.statusText}`);
        }
    }
    sendToSentry(error) {
        try {
            // Set user context if available
            if (error.userId) {
                _nextjs.setUser({
                    id: error.userId,
                    segment: "portuguese-community"
                });
            }
            // Set Portuguese community context
            _nextjs.setContext("portuguese_community", {
                feature_context: error.context,
                language: error.portugueseContext?.language || "unknown",
                cultural_feature: error.portugueseContext?.culturalFeature,
                business_directory_action: error.portugueseContext?.businessDirectoryAction,
                mobile_device: error.portugueseContext?.mobileDevice || false,
                character_encoding_issue: error.portugueseContext?.characterEncodingIssue || false
            });
            // Set additional metadata
            _nextjs.setTags({
                error_severity: error.severity,
                error_type: error.type,
                error_context: error.context,
                session_id: error.sessionId
            });
            // Add breadcrumb for error sequence
            _nextjs.addBreadcrumb({
                message: `Error in ${error.context}`,
                category: "error",
                level: error.severity,
                data: {
                    error_id: error.id,
                    portuguese_context: error.portugueseContext,
                    metadata: error.metadata
                }
            });
            // Capture the error
            if (error.stack) {
                const sentryError = new Error(error.message);
                sentryError.stack = error.stack;
                _nextjs.captureException(sentryError);
            } else {
                _nextjs.captureMessage(error.message, error.severity);
            }
        } catch (sentryError) {
            console.error("Failed to send error to Sentry:", sentryError);
        }
    }
    // Public methods for manual tracking
    trackPortugueseFeatureError(featureContext, error, metadata) {
        const language = typeof window !== "undefined" ? localStorage.getItem("preferred-language") || "en" : "en";
        this.trackError({
            message: typeof error === "string" ? error : error.message,
            type: _errorHandling.ErrorType.CLIENT_ERROR,
            severity: _errormonitoring.ERROR_SEVERITY.HIGH,
            context: _errormonitoring.PORTUGUESE_ERROR_CONTEXTS[featureContext],
            stack: typeof error === "string" ? undefined : error.stack,
            portugueseContext: {
                language,
                culturalFeature: featureContext,
                mobileDevice: typeof window !== "undefined" ? /Mobile|Android|iPhone|iPad/.test(navigator.userAgent) : false
            },
            metadata
        });
    }
    getErrorSummary() {
        return {
            totalErrors: this.errorQueue.length,
            errorsByContext: Array.from(this.errorCounts.entries()).reduce((acc, [key, count])=>{
                acc[key] = count;
                return acc;
            }, {}),
            criticalErrors: this.errorQueue.filter((e)=>e.severity === _errormonitoring.ERROR_SEVERITY.CRITICAL).length,
            portugueseRelatedErrors: this.errorQueue.filter((e)=>e.portugueseContext).length
        };
    }
}
const errorTracker = new ErrorTracker();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi93b3Jrc3BhY2VzL0x1c29Ub3duL3dlYi1hcHAvc3JjL2xpYi9tb25pdG9yaW5nL2Vycm9yLXRyYWNrZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb21wcmVoZW5zaXZlIEVycm9yIFRyYWNraW5nIFN5c3RlbSBmb3IgTHVzb1Rvd24gUGxhdGZvcm1cbiAqIEhhbmRsZXMgUG9ydHVndWVzZSBjb21tdW5pdHktc3BlY2lmaWMgZXJyb3IgdHJhY2tpbmcgYW5kIG1vbml0b3Jpbmcgd2l0aCBTZW50cnkgaW50ZWdyYXRpb25cbiAqL1xuXG5pbXBvcnQgKiBhcyBTZW50cnkgZnJvbSAnQHNlbnRyeS9uZXh0anMnXG5pbXBvcnQgeyBcbiAgRVJST1JfTU9OSVRPUklORywgXG4gIE1PTklUT1JJTkdfQUxFUlRTLCBcbiAgRVJST1JfQ0FURUdPUklFUyxcbiAgUE9SVFVHVUVTRV9FUlJPUl9DT05URVhUUyxcbiAgRVJST1JfU0VWRVJJVFksXG4gIFBPUlRVR1VFU0VfRVJST1JfVEhSRVNIT0xEU1xufSBmcm9tICdAL2NvbmZpZy9lcnJvci1tb25pdG9yaW5nJ1xuaW1wb3J0IHsgTHVzb1Rvd25FcnJvciwgRXJyb3JUeXBlIH0gZnJvbSAnQC9saWIvZXJyb3JIYW5kbGluZydcbmltcG9ydCB7IGdldEVycm9yTWVzc2FnZSwgZ2V0Q29udGV4dHVhbEVycm9yTWVzc2FnZSB9IGZyb20gJy4vcG9ydHVndWVzZS1lcnJvci1tZXNzYWdlcydcblxuZXhwb3J0IGludGVyZmFjZSBFcnJvckV2ZW50IHtcbiAgaWQ6IHN0cmluZ1xuICB0aW1lc3RhbXA6IERhdGVcbiAgbWVzc2FnZTogc3RyaW5nXG4gIHR5cGU6IEVycm9yVHlwZVxuICBzZXZlcml0eToga2V5b2YgdHlwZW9mIEVSUk9SX1NFVkVSSVRZXG4gIGNvbnRleHQ6IHN0cmluZ1xuICBzdGFjaz86IHN0cmluZ1xuICB1c2VyQWdlbnQ/OiBzdHJpbmdcbiAgdXJsPzogc3RyaW5nXG4gIHVzZXJJZD86IHN0cmluZ1xuICBzZXNzaW9uSWQ/OiBzdHJpbmdcbiAgcG9ydHVndWVzZUNvbnRleHQ/OiB7XG4gICAgbGFuZ3VhZ2U6ICdwdCcgfCAnZW4nXG4gICAgY3VsdHVyYWxGZWF0dXJlPzogc3RyaW5nXG4gICAgYnVzaW5lc3NEaXJlY3RvcnlBY3Rpb24/OiBzdHJpbmdcbiAgICBjaGFyYWN0ZXJFbmNvZGluZ0lzc3VlPzogYm9vbGVhblxuICAgIG1vYmlsZURldmljZT86IGJvb2xlYW5cbiAgfVxuICBtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBQZXJmb3JtYW5jZU1ldHJpYyB7XG4gIG5hbWU6IHN0cmluZ1xuICB2YWx1ZTogbnVtYmVyXG4gIHRpbWVzdGFtcDogRGF0ZVxuICBjb250ZXh0OiBzdHJpbmdcbiAgdGhyZXNob2xkPzogbnVtYmVyXG4gIGV4Y2VlZHNUaHJlc2hvbGQ6IGJvb2xlYW5cbn1cblxuY2xhc3MgRXJyb3JUcmFja2VyIHtcbiAgcHJpdmF0ZSBlcnJvclF1ZXVlOiBFcnJvckV2ZW50W10gPSBbXVxuICBwcml2YXRlIHBlcmZvcm1hbmNlUXVldWU6IFBlcmZvcm1hbmNlTWV0cmljW10gPSBbXVxuICBwcml2YXRlIGVycm9yQ291bnRzOiBNYXA8c3RyaW5nLCBudW1iZXI+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgbGFzdEZsdXNoOiBEYXRlID0gbmV3IERhdGUoKVxuICBwcml2YXRlIHNlc3Npb25JZDogc3RyaW5nID0gdGhpcy5nZW5lcmF0ZVNlc3Npb25JZCgpXG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zZXR1cEVycm9yQ2FwdHVyZSgpXG4gICAgdGhpcy5zZXR1cFBlcmZvcm1hbmNlQ2FwdHVyZSgpXG4gICAgdGhpcy5zZXR1cFBlcmlvZGljRmx1c2goKVxuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVNlc3Npb25JZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gXG4gIH1cblxuICBwcml2YXRlIHNldHVwRXJyb3JDYXB0dXJlKCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuXG5cbiAgICAvLyBDYXB0dXJlIHVuaGFuZGxlZCBlcnJvcnNcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMudHJhY2tFcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6IGV2ZW50Lm1lc3NhZ2UsXG4gICAgICAgIHR5cGU6IEVycm9yVHlwZS5DTElFTlRfRVJST1IsXG4gICAgICAgIHNldmVyaXR5OiBFUlJPUl9TRVZFUklUWS5ISUdILFxuICAgICAgICBjb250ZXh0OiAndW5oYW5kbGVkLWVycm9yJyxcbiAgICAgICAgc3RhY2s6IGV2ZW50LmVycm9yPy5zdGFjayxcbiAgICAgICAgdXJsOiBldmVudC5maWxlbmFtZSxcbiAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICBsaW5lbm86IGV2ZW50LmxpbmVubyxcbiAgICAgICAgICBjb2xubzogZXZlbnQuY29sbm9cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgLy8gQ2FwdHVyZSB1bmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb25zXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VuaGFuZGxlZHJlamVjdGlvbicsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy50cmFja0Vycm9yKHtcbiAgICAgICAgbWVzc2FnZTogZXZlbnQucmVhc29uPy5tZXNzYWdlIHx8ICdVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24nLFxuICAgICAgICB0eXBlOiBFcnJvclR5cGUuQ0xJRU5UX0VSUk9SLFxuICAgICAgICBzZXZlcml0eTogRVJST1JfU0VWRVJJVFkuSElHSCxcbiAgICAgICAgY29udGV4dDogJ3VuaGFuZGxlZC1yZWplY3Rpb24nLFxuICAgICAgICBzdGFjazogZXZlbnQucmVhc29uPy5zdGFjayxcbiAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICByZWFzb246IGV2ZW50LnJlYXNvblxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIHNldHVwUGVyZm9ybWFuY2VDYXB0dXJlKCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuXG5cbiAgICAvLyBDYXB0dXJlIHBlcmZvcm1hbmNlIG1ldHJpY3MgdXNpbmcgUGVyZm9ybWFuY2UgT2JzZXJ2ZXIgQVBJXG4gICAgaWYgKCdQZXJmb3JtYW5jZU9ic2VydmVyJyBpbiB3aW5kb3cpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IFBlcmZvcm1hbmNlT2JzZXJ2ZXIoKGxpc3QpID0+IHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGxpc3QuZ2V0RW50cmllcygpKSB7XG4gICAgICAgICAgICBpZiAoZW50cnkuZW50cnlUeXBlID09PSAnbmF2aWdhdGlvbicpIHtcbiAgICAgICAgICAgICAgdGhpcy50cmFja1BlcmZvcm1hbmNlTWV0cmljKHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnUGFnZSBMb2FkIFRpbWUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBlbnRyeS5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICBjb250ZXh0OiAncGFnZS1uYXZpZ2F0aW9uJ1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSBlbHNlIGlmIChlbnRyeS5lbnRyeVR5cGUgPT09ICdtZWFzdXJlJykge1xuICAgICAgICAgICAgICB0aGlzLnRyYWNrUGVyZm9ybWFuY2VNZXRyaWMoe1xuICAgICAgICAgICAgICAgIG5hbWU6IGVudHJ5Lm5hbWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGVudHJ5LmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6ICdjdXN0b20tbWVhc3VyZSdcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh7IGVudHJ5VHlwZXM6IFsnbmF2aWdhdGlvbicsICdtZWFzdXJlJ10gfSlcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzZXR1cCBwZXJmb3JtYW5jZSBvYnNlcnZlcjonLCBlcnJvcilcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0cmFja0Vycm9yKGVycm9yRGF0YTogUGFydGlhbDxFcnJvckV2ZW50Pikge1xuICAgIGNvbnN0IGVycm9yOiBFcnJvckV2ZW50ID0ge1xuICAgICAgaWQ6IHRoaXMuZ2VuZXJhdGVFcnJvcklkKCksXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICBtZXNzYWdlOiBlcnJvckRhdGEubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcicsXG4gICAgICB0eXBlOiBlcnJvckRhdGEudHlwZSB8fCBFcnJvclR5cGUuVU5LTk9XTixcbiAgICAgIHNldmVyaXR5OiBlcnJvckRhdGEuc2V2ZXJpdHkgfHwgRVJST1JfU0VWRVJJVFkuTUVESVVNLFxuICAgICAgY29udGV4dDogZXJyb3JEYXRhLmNvbnRleHQgfHwgJ3Vua25vd24nLFxuICAgICAgc3RhY2s6IGVycm9yRGF0YS5zdGFjayxcbiAgICAgIHVzZXJBZ2VudDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyBuYXZpZ2F0b3IudXNlckFnZW50IDogdW5kZWZpbmVkLFxuICAgICAgdXJsOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5sb2NhdGlvbi5ocmVmIDogdW5kZWZpbmVkLFxuICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCxcbiAgICAgIHVzZXJJZDogZXJyb3JEYXRhLnVzZXJJZCxcbiAgICAgIHBvcnR1Z3Vlc2VDb250ZXh0OiBlcnJvckRhdGEucG9ydHVndWVzZUNvbnRleHQsXG4gICAgICBtZXRhZGF0YTogZXJyb3JEYXRhLm1ldGFkYXRhXG4gICAgfVxuXG4gICAgLy8gU2VuZCB0byBTZW50cnkgd2l0aCBQb3J0dWd1ZXNlIGNvbW11bml0eSBjb250ZXh0XG4gICAgdGhpcy5zZW5kVG9TZW50cnkoZXJyb3IpXG5cbiAgICB0aGlzLmVycm9yUXVldWUucHVzaChlcnJvcilcbiAgICB0aGlzLnVwZGF0ZUVycm9yQ291bnRzKGVycm9yKVxuICAgIHRoaXMuY2hlY2tBbGVydFRocmVzaG9sZHMoZXJyb3IpXG5cbiAgICAvLyBJbW1lZGlhdGUgZmx1c2ggZm9yIGNyaXRpY2FsIGVycm9yc1xuICAgIGlmIChlcnJvci5zZXZlcml0eSA9PT0gRVJST1JfU0VWRVJJVFkuQ1JJVElDQUwpIHtcbiAgICAgIHRoaXMuZmx1c2hFcnJvcnMoKVxuICAgIH1cbiAgfVxuXG4gIHRyYWNrUGVyZm9ybWFuY2VNZXRyaWMobWV0cmljRGF0YTogT21pdDxQZXJmb3JtYW5jZU1ldHJpYywgJ3RpbWVzdGFtcCcgfCAnZXhjZWVkc1RocmVzaG9sZCc+KSB7XG4gICAgY29uc3QgbWV0cmljOiBQZXJmb3JtYW5jZU1ldHJpYyA9IHtcbiAgICAgIC4uLm1ldHJpY0RhdGEsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICBleGNlZWRzVGhyZXNob2xkOiBtZXRyaWNEYXRhLnRocmVzaG9sZCA/IG1ldHJpY0RhdGEudmFsdWUgPiBtZXRyaWNEYXRhLnRocmVzaG9sZCA6IGZhbHNlXG4gICAgfVxuXG4gICAgdGhpcy5wZXJmb3JtYW5jZVF1ZXVlLnB1c2gobWV0cmljKVxuXG4gICAgLy8gVHJhY2sgcGVyZm9ybWFuY2UgaXNzdWVzIGFzIGVycm9ycyBpZiB0aGV5IGV4Y2VlZCB0aHJlc2hvbGRzXG4gICAgaWYgKG1ldHJpYy5leGNlZWRzVGhyZXNob2xkKSB7XG4gICAgICB0aGlzLnRyYWNrRXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiBgUGVyZm9ybWFuY2UgdGhyZXNob2xkIGV4Y2VlZGVkOiAke21ldHJpYy5uYW1lfSAoJHttZXRyaWMudmFsdWV9bXMgPiAke21ldHJpYy50aHJlc2hvbGR9bXMpYCxcbiAgICAgICAgdHlwZTogRXJyb3JUeXBlLkNMSUVOVF9FUlJPUixcbiAgICAgICAgc2V2ZXJpdHk6IEVSUk9SX1NFVkVSSVRZLk1FRElVTSxcbiAgICAgICAgY29udGV4dDogJ3BlcmZvcm1hbmNlLWRlZ3JhZGF0aW9uJyxcbiAgICAgICAgbWV0YWRhdGE6IHsgbWV0cmljIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZUVycm9ySWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYGVycl8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWBcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlRXJyb3JDb3VudHMoZXJyb3I6IEVycm9yRXZlbnQpIHtcbiAgICBjb25zdCBrZXkgPSBgJHtlcnJvci5jb250ZXh0fS0ke2Vycm9yLnNldmVyaXR5fWBcbiAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5lcnJvckNvdW50cy5nZXQoa2V5KSB8fCAwXG4gICAgdGhpcy5lcnJvckNvdW50cy5zZXQoa2V5LCBjdXJyZW50ICsgMSlcbiAgfVxuXG4gIHByaXZhdGUgY2hlY2tBbGVydFRocmVzaG9sZHMoZXJyb3I6IEVycm9yRXZlbnQpIHtcbiAgICBjb25zdCBjYXRlZ29yeSA9IE9iamVjdC52YWx1ZXMoRVJST1JfQ0FURUdPUklFUykuZmluZChjYXQgPT4gXG4gICAgICBjYXQuY29udGV4dCA9PT0gZXJyb3IuY29udGV4dFxuICAgIClcblxuICAgIGlmIChjYXRlZ29yeSkge1xuICAgICAgY29uc3Qga2V5ID0gYCR7ZXJyb3IuY29udGV4dH0tJHtlcnJvci5zZXZlcml0eX1gXG4gICAgICBjb25zdCBjb3VudCA9IHRoaXMuZXJyb3JDb3VudHMuZ2V0KGtleSkgfHwgMFxuXG4gICAgICBpZiAoY291bnQgPj0gY2F0ZWdvcnkuYWxlcnRUaHJlc2hvbGQpIHtcbiAgICAgICAgdGhpcy50cmlnZ2VyQWxlcnQoZXJyb3IsIGNhdGVnb3J5LCBjb3VudClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHRyaWdnZXJBbGVydChlcnJvcjogRXJyb3JFdmVudCwgY2F0ZWdvcnk6IGFueSwgY291bnQ6IG51bWJlcikge1xuICAgIGlmICghTU9OSVRPUklOR19BTEVSVFMuY3JpdGljYWxFcnJvcnMuZW5hYmxlZCkgcmV0dXJuXG5cbiAgICBjb25zb2xlLmVycm9yKCdBTEVSVCBUUklHR0VSRUQ6Jywge1xuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5Lm5hbWUsXG4gICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcbiAgICAgIGNvdW50LFxuICAgICAgc2V2ZXJpdHk6IGVycm9yLnNldmVyaXR5LFxuICAgICAgY29udGV4dDogZXJyb3IuY29udGV4dCxcbiAgICAgIHRpbWVzdGFtcDogZXJyb3IudGltZXN0YW1wXG4gICAgfSlcblxuICAgIC8vIERpc3BhdGNoIGN1c3RvbSBldmVudCBmb3IgVUkgbm90aWZpY2F0aW9uc1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdsdXNvdG93bjplcnJvci1hbGVydCcsIHtcbiAgICAgICAgZGV0YWlsOiB7IGVycm9yLCBjYXRlZ29yeSwgY291bnQgfVxuICAgICAgfSkpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cFBlcmlvZGljRmx1c2goKSB7XG4gICAgLy8gRmx1c2ggZXJyb3JzIGFuZCBtZXRyaWNzIGV2ZXJ5IDUgbWludXRlc1xuICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMuZmx1c2hFcnJvcnMoKVxuICAgICAgdGhpcy5mbHVzaE1ldHJpY3MoKVxuICAgIH0sIDUgKiA2MCAqIDEwMDApXG5cbiAgICAvLyBGbHVzaCBvbiBwYWdlIHVubG9hZFxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5mbHVzaEVycm9ycygpXG4gICAgICAgIHRoaXMuZmx1c2hNZXRyaWNzKClcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBmbHVzaEVycm9ycygpIHtcbiAgICBpZiAodGhpcy5lcnJvclF1ZXVlLmxlbmd0aCA9PT0gMCkgcmV0dXJuXG5cbiAgICBjb25zdCBlcnJvcnNUb0ZsdXNoID0gWy4uLnRoaXMuZXJyb3JRdWV1ZV1cbiAgICB0aGlzLmVycm9yUXVldWUgPSBbXVxuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChFUlJPUl9NT05JVE9SSU5HLmVuYWJsZWQgJiYgRVJST1JfTU9OSVRPUklORy5lbmRwb2ludCkge1xuICAgICAgICBhd2FpdCB0aGlzLnNlbmRUb01vbml0b3JpbmdTZXJ2aWNlKGVycm9yc1RvRmx1c2gsICdlcnJvcnMnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5ncm91cCgn8J+aqCBFcnJvciBCYXRjaDonLCBlcnJvcnNUb0ZsdXNoLmxlbmd0aCwgJ2Vycm9ycycpXG4gICAgICAgIGVycm9yc1RvRmx1c2guZm9yRWFjaChlcnJvciA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IubWVzc2FnZSwgZXJyb3IpXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGZsdXNoRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmbHVzaCBlcnJvcnM6JywgZmx1c2hFcnJvcilcbiAgICAgIHRoaXMuZXJyb3JRdWV1ZS51bnNoaWZ0KC4uLmVycm9yc1RvRmx1c2gpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBmbHVzaE1ldHJpY3MoKSB7XG4gICAgaWYgKHRoaXMucGVyZm9ybWFuY2VRdWV1ZS5sZW5ndGggPT09IDApIHJldHVyblxuXG4gICAgY29uc3QgbWV0cmljc1RvRmx1c2ggPSBbLi4udGhpcy5wZXJmb3JtYW5jZVF1ZXVlXVxuICAgIHRoaXMucGVyZm9ybWFuY2VRdWV1ZSA9IFtdXG5cbiAgICB0cnkge1xuICAgICAgaWYgKEVSUk9SX01PTklUT1JJTkcuZW5hYmxlZCAmJiBFUlJPUl9NT05JVE9SSU5HLmVuZHBvaW50KSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2VuZFRvTW9uaXRvcmluZ1NlcnZpY2UobWV0cmljc1RvRmx1c2gsICdtZXRyaWNzJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZ3JvdXAoJ/Cfk4ogUGVyZm9ybWFuY2UgTWV0cmljczonLCBtZXRyaWNzVG9GbHVzaC5sZW5ndGgsICdtZXRyaWNzJylcbiAgICAgICAgbWV0cmljc1RvRmx1c2guZm9yRWFjaChtZXRyaWMgPT4ge1xuICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IG1ldHJpYy5leGNlZWRzVGhyZXNob2xkID8gJ+KdjCcgOiAn4pyFJ1xuICAgICAgICAgIGNvbnNvbGUubG9nKGAke3N0YXR1c30gJHttZXRyaWMubmFtZX06ICR7bWV0cmljLnZhbHVlfW1zYCwgbWV0cmljKVxuICAgICAgICB9KVxuICAgICAgICBjb25zb2xlLmdyb3VwRW5kKClcbiAgICAgIH1cbiAgICB9IGNhdGNoIChmbHVzaEVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmx1c2ggbWV0cmljczonLCBmbHVzaEVycm9yKVxuICAgICAgdGhpcy5wZXJmb3JtYW5jZVF1ZXVlLnVuc2hpZnQoLi4ubWV0cmljc1RvRmx1c2gpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzZW5kVG9Nb25pdG9yaW5nU2VydmljZShkYXRhOiBhbnlbXSwgdHlwZTogJ2Vycm9ycycgfCAnbWV0cmljcycpIHtcbiAgICBpZiAoIUVSUk9SX01PTklUT1JJTkcuZW5kcG9pbnQgfHwgIUVSUk9SX01PTklUT1JJTkcuYXBpS2V5KSByZXR1cm5cblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goRVJST1JfTU9OSVRPUklORy5lbmRwb2ludCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke0VSUk9SX01PTklUT1JJTkcuYXBpS2V5fWBcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHR5cGUsXG4gICAgICAgIGRhdGEsXG4gICAgICAgIGVudmlyb25tZW50OiBFUlJPUl9NT05JVE9SSU5HLmVudmlyb25tZW50LFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZFxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc2VuZCAke3R5cGV9IHRvIG1vbml0b3Jpbmcgc2VydmljZTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzZW5kVG9TZW50cnkoZXJyb3I6IEVycm9yRXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgLy8gU2V0IHVzZXIgY29udGV4dCBpZiBhdmFpbGFibGVcbiAgICAgIGlmIChlcnJvci51c2VySWQpIHtcbiAgICAgICAgU2VudHJ5LnNldFVzZXIoe1xuICAgICAgICAgIGlkOiBlcnJvci51c2VySWQsXG4gICAgICAgICAgc2VnbWVudDogJ3BvcnR1Z3Vlc2UtY29tbXVuaXR5J1xuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICAvLyBTZXQgUG9ydHVndWVzZSBjb21tdW5pdHkgY29udGV4dFxuICAgICAgU2VudHJ5LnNldENvbnRleHQoJ3BvcnR1Z3Vlc2VfY29tbXVuaXR5Jywge1xuICAgICAgICBmZWF0dXJlX2NvbnRleHQ6IGVycm9yLmNvbnRleHQsXG4gICAgICAgIGxhbmd1YWdlOiBlcnJvci5wb3J0dWd1ZXNlQ29udGV4dD8ubGFuZ3VhZ2UgfHwgJ3Vua25vd24nLFxuICAgICAgICBjdWx0dXJhbF9mZWF0dXJlOiBlcnJvci5wb3J0dWd1ZXNlQ29udGV4dD8uY3VsdHVyYWxGZWF0dXJlLFxuICAgICAgICBidXNpbmVzc19kaXJlY3RvcnlfYWN0aW9uOiBlcnJvci5wb3J0dWd1ZXNlQ29udGV4dD8uYnVzaW5lc3NEaXJlY3RvcnlBY3Rpb24sXG4gICAgICAgIG1vYmlsZV9kZXZpY2U6IGVycm9yLnBvcnR1Z3Vlc2VDb250ZXh0Py5tb2JpbGVEZXZpY2UgfHwgZmFsc2UsXG4gICAgICAgIGNoYXJhY3Rlcl9lbmNvZGluZ19pc3N1ZTogZXJyb3IucG9ydHVndWVzZUNvbnRleHQ/LmNoYXJhY3RlckVuY29kaW5nSXNzdWUgfHwgZmFsc2VcbiAgICAgIH0pXG5cbiAgICAgIC8vIFNldCBhZGRpdGlvbmFsIG1ldGFkYXRhXG4gICAgICBTZW50cnkuc2V0VGFncyh7XG4gICAgICAgIGVycm9yX3NldmVyaXR5OiBlcnJvci5zZXZlcml0eSxcbiAgICAgICAgZXJyb3JfdHlwZTogZXJyb3IudHlwZSxcbiAgICAgICAgZXJyb3JfY29udGV4dDogZXJyb3IuY29udGV4dCxcbiAgICAgICAgc2Vzc2lvbl9pZDogZXJyb3Iuc2Vzc2lvbklkXG4gICAgICB9KVxuXG4gICAgICAvLyBBZGQgYnJlYWRjcnVtYiBmb3IgZXJyb3Igc2VxdWVuY2VcbiAgICAgIFNlbnRyeS5hZGRCcmVhZGNydW1iKHtcbiAgICAgICAgbWVzc2FnZTogYEVycm9yIGluICR7ZXJyb3IuY29udGV4dH1gLFxuICAgICAgICBjYXRlZ29yeTogJ2Vycm9yJyxcbiAgICAgICAgbGV2ZWw6IGVycm9yLnNldmVyaXR5IGFzIGFueSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGVycm9yX2lkOiBlcnJvci5pZCxcbiAgICAgICAgICBwb3J0dWd1ZXNlX2NvbnRleHQ6IGVycm9yLnBvcnR1Z3Vlc2VDb250ZXh0LFxuICAgICAgICAgIG1ldGFkYXRhOiBlcnJvci5tZXRhZGF0YVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICAvLyBDYXB0dXJlIHRoZSBlcnJvclxuICAgICAgaWYgKGVycm9yLnN0YWNrKSB7XG4gICAgICAgIGNvbnN0IHNlbnRyeUVycm9yID0gbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpXG4gICAgICAgIHNlbnRyeUVycm9yLnN0YWNrID0gZXJyb3Iuc3RhY2tcbiAgICAgICAgU2VudHJ5LmNhcHR1cmVFeGNlcHRpb24oc2VudHJ5RXJyb3IpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBTZW50cnkuY2FwdHVyZU1lc3NhZ2UoZXJyb3IubWVzc2FnZSwgZXJyb3Iuc2V2ZXJpdHkgYXMgYW55KVxuICAgICAgfVxuXG4gICAgfSBjYXRjaCAoc2VudHJ5RXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzZW5kIGVycm9yIHRvIFNlbnRyeTonLCBzZW50cnlFcnJvcilcbiAgICB9XG4gIH1cblxuICAvLyBQdWJsaWMgbWV0aG9kcyBmb3IgbWFudWFsIHRyYWNraW5nXG4gIHRyYWNrUG9ydHVndWVzZUZlYXR1cmVFcnJvcihmZWF0dXJlQ29udGV4dDoga2V5b2YgdHlwZW9mIFBPUlRVR1VFU0VfRVJST1JfQ09OVEVYVFMsIGVycm9yOiBFcnJvciB8IHN0cmluZywgbWV0YWRhdGE/OiBhbnkpIHtcbiAgICBjb25zdCBsYW5ndWFnZSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gXG4gICAgICAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3ByZWZlcnJlZC1sYW5ndWFnZScpIGFzICdlbicgfCAncHQnKSB8fCAnZW4nIDogJ2VuJ1xuXG4gICAgdGhpcy50cmFja0Vycm9yKHtcbiAgICAgIG1lc3NhZ2U6IHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycgPyBlcnJvciA6IGVycm9yLm1lc3NhZ2UsXG4gICAgICB0eXBlOiBFcnJvclR5cGUuQ0xJRU5UX0VSUk9SLFxuICAgICAgc2V2ZXJpdHk6IEVSUk9SX1NFVkVSSVRZLkhJR0gsXG4gICAgICBjb250ZXh0OiBQT1JUVUdVRVNFX0VSUk9SX0NPTlRFWFRTW2ZlYXR1cmVDb250ZXh0XSxcbiAgICAgIHN0YWNrOiB0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnID8gdW5kZWZpbmVkIDogZXJyb3Iuc3RhY2ssXG4gICAgICBwb3J0dWd1ZXNlQ29udGV4dDoge1xuICAgICAgICBsYW5ndWFnZSxcbiAgICAgICAgY3VsdHVyYWxGZWF0dXJlOiBmZWF0dXJlQ29udGV4dCxcbiAgICAgICAgbW9iaWxlRGV2aWNlOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IC9Nb2JpbGV8QW5kcm9pZHxpUGhvbmV8aVBhZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSA6IGZhbHNlXG4gICAgICB9LFxuICAgICAgbWV0YWRhdGFcbiAgICB9KVxuICB9XG5cbiAgZ2V0RXJyb3JTdW1tYXJ5KCkge1xuICAgIHJldHVybiB7XG4gICAgICB0b3RhbEVycm9yczogdGhpcy5lcnJvclF1ZXVlLmxlbmd0aCxcbiAgICAgIGVycm9yc0J5Q29udGV4dDogQXJyYXkuZnJvbSh0aGlzLmVycm9yQ291bnRzLmVudHJpZXMoKSkucmVkdWNlKChhY2MsIFtrZXksIGNvdW50XSkgPT4ge1xuICAgICAgICBhY2Nba2V5XSA9IGNvdW50XG4gICAgICAgIHJldHVybiBhY2NcbiAgICAgIH0sIHt9IGFzIFJlY29yZDxzdHJpbmcsIG51bWJlcj4pLFxuICAgICAgY3JpdGljYWxFcnJvcnM6IHRoaXMuZXJyb3JRdWV1ZS5maWx0ZXIoZSA9PiBlLnNldmVyaXR5ID09PSBFUlJPUl9TRVZFUklUWS5DUklUSUNBTCkubGVuZ3RoLFxuICAgICAgcG9ydHVndWVzZVJlbGF0ZWRFcnJvcnM6IHRoaXMuZXJyb3JRdWV1ZS5maWx0ZXIoZSA9PiBlLnBvcnR1Z3Vlc2VDb250ZXh0KS5sZW5ndGhcbiAgICB9XG4gIH1cbn1cblxuLy8gR2xvYmFsIGVycm9yIHRyYWNrZXIgaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBlcnJvclRyYWNrZXIgPSBuZXcgRXJyb3JUcmFja2VyKClcblxuLy8gRXhwb3J0IHRoZSBjbGFzcyBmb3IgdGVzdGluZ1xuZXhwb3J0IHsgRXJyb3JUcmFja2VyIH1cbiJdLCJuYW1lcyI6WyJFcnJvclRyYWNrZXIiLCJlcnJvclRyYWNrZXIiLCJjb25zdHJ1Y3RvciIsImVycm9yUXVldWUiLCJwZXJmb3JtYW5jZVF1ZXVlIiwiZXJyb3JDb3VudHMiLCJNYXAiLCJsYXN0Rmx1c2giLCJEYXRlIiwic2Vzc2lvbklkIiwiZ2VuZXJhdGVTZXNzaW9uSWQiLCJzZXR1cEVycm9yQ2FwdHVyZSIsInNldHVwUGVyZm9ybWFuY2VDYXB0dXJlIiwic2V0dXBQZXJpb2RpY0ZsdXNoIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwidHJhY2tFcnJvciIsIm1lc3NhZ2UiLCJ0eXBlIiwiRXJyb3JUeXBlIiwiQ0xJRU5UX0VSUk9SIiwic2V2ZXJpdHkiLCJFUlJPUl9TRVZFUklUWSIsIkhJR0giLCJjb250ZXh0Iiwic3RhY2siLCJlcnJvciIsInVybCIsImZpbGVuYW1lIiwibWV0YWRhdGEiLCJsaW5lbm8iLCJjb2xubyIsInJlYXNvbiIsIm9ic2VydmVyIiwiUGVyZm9ybWFuY2VPYnNlcnZlciIsImxpc3QiLCJlbnRyeSIsImdldEVudHJpZXMiLCJlbnRyeVR5cGUiLCJ0cmFja1BlcmZvcm1hbmNlTWV0cmljIiwibmFtZSIsInZhbHVlIiwiZHVyYXRpb24iLCJvYnNlcnZlIiwiZW50cnlUeXBlcyIsImNvbnNvbGUiLCJlcnJvckRhdGEiLCJpZCIsImdlbmVyYXRlRXJyb3JJZCIsInRpbWVzdGFtcCIsIlVOS05PV04iLCJNRURJVU0iLCJ1c2VyQWdlbnQiLCJuYXZpZ2F0b3IiLCJ1bmRlZmluZWQiLCJsb2NhdGlvbiIsImhyZWYiLCJ1c2VySWQiLCJwb3J0dWd1ZXNlQ29udGV4dCIsInNlbmRUb1NlbnRyeSIsInB1c2giLCJ1cGRhdGVFcnJvckNvdW50cyIsImNoZWNrQWxlcnRUaHJlc2hvbGRzIiwiQ1JJVElDQUwiLCJmbHVzaEVycm9ycyIsIm1ldHJpY0RhdGEiLCJtZXRyaWMiLCJleGNlZWRzVGhyZXNob2xkIiwidGhyZXNob2xkIiwia2V5IiwiY3VycmVudCIsImdldCIsInNldCIsImNhdGVnb3J5IiwiT2JqZWN0IiwidmFsdWVzIiwiRVJST1JfQ0FURUdPUklFUyIsImZpbmQiLCJjYXQiLCJjb3VudCIsImFsZXJ0VGhyZXNob2xkIiwidHJpZ2dlckFsZXJ0IiwiTU9OSVRPUklOR19BTEVSVFMiLCJjcml0aWNhbEVycm9ycyIsImVuYWJsZWQiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJzZXRJbnRlcnZhbCIsImZsdXNoTWV0cmljcyIsImxlbmd0aCIsImVycm9yc1RvRmx1c2giLCJFUlJPUl9NT05JVE9SSU5HIiwiZW5kcG9pbnQiLCJzZW5kVG9Nb25pdG9yaW5nU2VydmljZSIsImdyb3VwIiwiZm9yRWFjaCIsImdyb3VwRW5kIiwiZmx1c2hFcnJvciIsInVuc2hpZnQiLCJtZXRyaWNzVG9GbHVzaCIsInN0YXR1cyIsImxvZyIsImRhdGEiLCJhcGlLZXkiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZW52aXJvbm1lbnQiLCJ0b0lTT1N0cmluZyIsIm9rIiwiRXJyb3IiLCJzdGF0dXNUZXh0IiwiU2VudHJ5Iiwic2V0VXNlciIsInNlZ21lbnQiLCJzZXRDb250ZXh0IiwiZmVhdHVyZV9jb250ZXh0IiwibGFuZ3VhZ2UiLCJjdWx0dXJhbF9mZWF0dXJlIiwiY3VsdHVyYWxGZWF0dXJlIiwiYnVzaW5lc3NfZGlyZWN0b3J5X2FjdGlvbiIsImJ1c2luZXNzRGlyZWN0b3J5QWN0aW9uIiwibW9iaWxlX2RldmljZSIsIm1vYmlsZURldmljZSIsImNoYXJhY3Rlcl9lbmNvZGluZ19pc3N1ZSIsImNoYXJhY3RlckVuY29kaW5nSXNzdWUiLCJzZXRUYWdzIiwiZXJyb3Jfc2V2ZXJpdHkiLCJlcnJvcl90eXBlIiwiZXJyb3JfY29udGV4dCIsInNlc3Npb25faWQiLCJhZGRCcmVhZGNydW1iIiwibGV2ZWwiLCJlcnJvcl9pZCIsInBvcnR1Z3Vlc2VfY29udGV4dCIsInNlbnRyeUVycm9yIiwiY2FwdHVyZUV4Y2VwdGlvbiIsImNhcHR1cmVNZXNzYWdlIiwidHJhY2tQb3J0dWd1ZXNlRmVhdHVyZUVycm9yIiwiZmVhdHVyZUNvbnRleHQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiUE9SVFVHVUVTRV9FUlJPUl9DT05URVhUUyIsInRlc3QiLCJnZXRFcnJvclN1bW1hcnkiLCJ0b3RhbEVycm9ycyIsImVycm9yc0J5Q29udGV4dCIsIkFycmF5IiwiZnJvbSIsImVudHJpZXMiLCJyZWR1Y2UiLCJhY2MiLCJmaWx0ZXIiLCJlIiwicG9ydHVndWVzZVJlbGF0ZWRFcnJvcnMiXSwibWFwcGluZ3MiOiJBQUFBOzs7Q0FHQzs7Ozs7Ozs7Ozs7SUE4WVFBLFlBQVk7ZUFBWkE7O0lBSElDLFlBQVk7ZUFBWkE7OztnRUF6WVc7aUNBUWpCOytCQUNrQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBa0N6QyxNQUFNRDtJQU9KRSxhQUFjO2FBTk5DLGFBQTJCLEVBQUU7YUFDN0JDLG1CQUF3QyxFQUFFO2FBQzFDQyxjQUFtQyxJQUFJQzthQUN2Q0MsWUFBa0IsSUFBSUM7YUFDdEJDLFlBQW9CLElBQUksQ0FBQ0MsaUJBQWlCO1FBR2hELElBQUksQ0FBQ0MsaUJBQWlCO1FBQ3RCLElBQUksQ0FBQ0MsdUJBQXVCO1FBQzVCLElBQUksQ0FB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